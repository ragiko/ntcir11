
分節音ラベリング(「日本語話し言葉コーパス」における作業指示書より)
更新情報:(2001/08/13)「『日本語話し言葉コーパス』の分節音ラベリング作業指針」作成
更新情報:(2004/06/14) 
加筆修正のうえアップロード。
2004/06/14
H.Kikuchi
1.     
作業環境
環境:linux搭載のPC/AT互換機
提供物:
転記ファイル                                                 
[*.trans6]
音声波形データ(全体)                                
[*-L.d]
音声波形データ(発話単位毎)                     
[uttd/*.d]
F0データ(発話単位毎)                              
[f0/*.f0]
スペクトログラムデータ(発話単位毎)       
[fspec/*.fspec]
分節音ラベル初期値(発話単位毎)              
[lab/*.lab]
納品物:
分節音ラベル作業結果(発話単位毎)           
[lab/*.lab]
図1:分節音ラベリングの様子
2.     
作業工程
分節音ラベリング作業工程の概要を図2に示します。
図2:分節音ラベリング作業工程の概要
3.     
ラベリング作業実行方法
(1) 
アプリケーション(xwaves)の起動
以下のようにしてアプリケーションを起動します。
% seg 
講演ID 
発話ID
(例)%seg AS99SEP055 
0047
このコマンドはxwavesを起動して分節音ラベリング用の環境を作るものです。
ラベリング作業は発話単位で行います。
(2) 
ウインドウの位置合わせ
(i)
全てのウインドウの起動を待って、作業しやすいように位置をあわせる。
(ii) 
表示範囲をマーク(左ボタンのドラッグ&ドロップ)して範囲を指定した後、
音声波形ウインドウで右クリック。
ポップアップメニューからbracket 
markersを選択。
(iii) 
さらに音声波形ウインドウで右クリックしてポップアップメニューから
align & rescaleを選択。
(iv) 
これにより、全ウインドウの同期がとれる。
(3) 
ラベル位置修正
ラベル位置を修正するために、まずラベルウインドウにおいて、編集モードをMOVEに変更する必要があります。
ラベルウインドウで右クリックしてポップアップメニューからMOVEを選択して下さい。(起動時はINSERTモードになっています。)
ラベルウインドウの下端右側にMOVE 
MODEと表記されます。
この状態で、移動したいラベル境界の近くにカーソルを動かして中クリックを
すれば、クリックした位置に境界が移動します。この方法でラベル位置を修正します。
なお、二つの境界の間にラベル位置を動かそうとした時、xwavesはどちらか近い方のラベル位置を移動させるので注意して下さい。
(4) 
ラベル修正
ラベルの修正には、ラベルの編集、削除、挿入があります。以下に順番に説明します。なお、ラベルは修正イベント(位置の修正も含む)があるたびに自動保存されます。
(i)ラベルの編集
まず、ラベルウインドウで編集したいラベルの位置にカーソルをあわせて右クリックし、ポップアップメニューからEDITを選択。
ラベル編集ウインドウでラベルを編集し、Apply 
changesを選択。編集を取り消す場合にはIgnore 
changesを選択。
以上で編集が完了。
(ii)ラベルの削除
まず、削除したいラベルの位置にカーソルを合わせて、右クリックしてポップアップメニューを開く。メニューからDELETEを選択。
これにより指定したラベルが削除される。
(iii)ラベルの挿入
まず、挿入したい位置にカーソルをあわせて右クリックしてポップアップメニューを開く。次にメニューから挿入したいラベルを選択。
これにより指定した位置に指定したラベルが挿入される。
4. ラベリング作業の詳細
4.1 
初期値について
図2に示される様に、連続音声認識技術を用いた自動ラベリングにより分節音ラベルの初期値を与えます。図3に初期値と最終的なラベリング結果を並べて示します。
図3:初期値と最終的なラベリング結果(上段:初期値)
初期値はできる限り最終的なラベリング結果に近いものにしていく予定ですが、現状では理想的なラベリング結果に対して以下のような大きな相違があります。
(a)  
<cl>が与えられない
(b)  
無声化に対応していない
(c)   
複合化に対応していない
また、初期値のラベル系列は転記テキストに基づいて自動的に生成したものであり、必ずしも完全に音声と一致しているとは言えず、場合によっては転記テキストの修正の必要が生じてきます。したがって、初期値のラベルをあまり信用せずに、初期値が誤っていれば積極的に分節音ラベルを修正して下さい。
4.2 
一次作業
一次作業では、人手による初期値の修正を行います。ラベル位置の修正が主な作業ですが、2.1に述べたようにラベル自体の修正の可能性もありますので注意して下さい。
一次作業の際には、必ず転記テキストを平行して参照して下さい。
また、初期値のラベル自体を修正してそれが転記テキストの修正に及ぶ可能性がある場合、コメントを残して下さい。コメントのフォーマットは以下の通りとします。
;;;コメントファイル名:講演ID.seg
発話ID              
時間[sec]             
修正前                 
修正後
以下に講演ID AS99SEP047のデータに対するコメントファイルの例を示します。
;;;AS99SEP047.seg
0046                   157.5                   
トイウ                 
テイウ
4.3 
一次作業のチェック
一次作業のチェック時には、特に以下の点に注意して全体を見直して下さい。
(1)   
破裂音の前に<cl>があるか?
(2)   
無声化の母音が大文字になっているか?
(3)   
データの先頭に#はあるか?
(4)   
同じ講演IDのデータの中で基準が変わっていないか?
(5)   
一つの講演IDを通して分節的な特徴があればコメントファイルに記す。
4.4 
二次作業
二次作業では、一次作業の結果を目視およびツールによってチェックします。
自動ラベリングによる初期値から大幅に修正されている箇所を中心に見直して下さい。また、基準の一貫性を保つように注意して下さい。
以上
分節音ラベリング
