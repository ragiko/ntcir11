名前解決について
名前解決について 利用者がイントラネット上またはインターネット上のサイトにアクセスできるようにするには、ネットワーク上でコンピュータを識別するための、固有の IP アドレスを設定する必要があります。このアドレスは、172.16.255.255 のような、ドットで区切られた長い数字の列で構成されます。数字のアドレスでは覚えにくいため、www.microsoft.com のようなテキストの名前、つまり "わかりやすい名前" を付けて、アドレスを覚えやすくします。名前解決では、クライアント ブラウザに入力されたわかりやすい名前から、正しい数値アドレスを提供します。ここでは、さまざまな名前解決システムについて説明します。  イントラネットの名前解決システム インターネットの名前解決 ポート、アドレス、およびホスト ヘッダー名を割り当てて複数のサイトをホストする  詳細については、[スタート] メニューで [ヘルプ] をクリックし、Windows のマニュアルを参照してください。 イントラネットの名前解決システム "イントラネット" は、インターネット技術を利用したプライベートなローカル エリア ネットワーク (LAN) です。情報パケットを正しく送受信するには、各コンピュータのアドレスとそのわかりやすい名前を正確にマップする必要があります。名前とアドレスのマッピングは、複数の名前アドレス解決システムのいずれかを使用して行います。使用するシステムは、イントラネットの規模、コンピュータを追加または移動する頻度、Microsoft® Windows2000® Server にインストールされているソフトウェアに基づいて選択します。ここでは、イントラネット上のコンピュータに名前とアドレスを割り当てる方法について説明します。 IP アドレスの割り当て IP アドレスは、静的または動的に割り当てることができます。実際のネットワークでは、いずれか一方または両方を組み合わせて使用できます。  静的システム管理者が、イントラネット上の各コンピュータに IP アドレスを割り当てて管理します。静的な割り当ては、小規模で変更の少ないネットワークに適しています。また、1 つの IIS インストール環境で、それぞれが異なる IP アドレスに応答する複数のサイトを運用する場合にも適しています。 動的動的ホスト構成プロトコル (DHCP) サーバーは、ネットワークにログオンしたクライアントに、一時的に IP アドレスを "リース" します。クライアントがログオンした時点で、DHCP サーバーは使用可能なアドレスのプールから IP アドレスを割り当てます。リースの終了が近づくと、クライアント コンピュータは必要に応じて、サーバーにリースの更新をネゴシエートします。クライアントがログオフすると、アドレスは解放されて、新しいクライアントへの割り当てが可能になります。DHCP サーバーは大規模なネットワークまたは変更の多いネットワークに特に適しています。システム管理者は、DHCP サーバーにより煩雑な IP アドレス割り当ての管理から解放されます。DHCP サーバーでは、1 台のコンピュータに IP アドレスが 1 つだけ割り当てられます。  注1 つのネットワーク カードに複数の IP アドレスを割り当てる場合は、そのコンピュータに対して静的なアドレス割り当てを使用する必要があります。 名前解決システム Windows のネットワーク コンポーネントは、NetBIOS という名前付け規則を使用しています。一方、TCP/IP コンポーネントはドメイン ネーム システム (DNS) という名前付け規則を使います。Windows では、特に指定しない限り、DNS のホスト名が NetBIOS のコンピュータ名と同じになります。IP アドレスとコンピュータ名は、次の 2 つの方法でマップすることができます。  静的システム管理者は、HOSTS (DNS 名の場合) または LMHOSTS (NetBIOS 名の場合) という名前のテキスト ファイルを作成し、各コンピュータの名前と IP アドレスをこのファイルに入力します。このファイルは、ネットワーク上に配布されます。ほかのコンピュータに対する接続要求があると、このファイルを使って、コンピュータ名から正しい IP アドレスへの解決が行われます。変更の少ない単純なネットワークには、このシステムが適しています。 動的クライアント コンピュータがログオンすると、DHCP サーバーはクライアントにアドレスを割り当てて、その IP アドレスを WINS (Windows インターネット ネーム サービス) サーバーに送ります。WINS サーバーは、コンピュータ名を登録し、NetBIOS コンピュータ名への要求があれば、その名前を解決して正しい IP アドレスを取得します。このように、コンピュータ名とアドレスの認識およびマッピングは自動的に行われるので、大規模なネットワークまたは頻繁に変更されるネットワークの管理作業が軽減されます。  通常、DNS 名は静的な情報を使って解決されます。DNS サーバーは、ホスト名とアドレスの一覧を収めた静的データベースの一部を持っています。要求された名前が DNS サーバーのデータベースに含まれていない場合、そのサーバーはほかの DNS サーバーに問い合わせて、要求された情報を取得します。WINS サーバーに問い合わせて、DNS の階層的な名前付け構造の下位レベルで名前解決を行うように、Windows 上で動作する DNS サーバーを構成することができます。WINS はコンピュータ名を動的に割り当てるため、このように構成することで、DNS を静的システムから動的システムに効率よく変更できます。 複数の Web サイトや FTP サイトを 1 つのサーバーにセットアップし、各サイトに独自の IP アドレスを設定している場合、自動 DNS 登録で問題が発生する可能性があります。正常な IP 結合と DNS 登録を実行するには、 Windows 2000 Server の自動 DNS 登録を無効にし、手動でサイトの DNS 登録を設定します。自動 DNS 登録を無効にし、手動で DNS 登録を行う方法については、Windows 2000 Server のマニュアルを参照してください。 1 台のコンピュータに複数の名前を割り当てる場合は、静的な名前割り当てを使う必要があります。1 台のコンピュータで、1 つの IP アドレスに複数の名前をマップするか、またはそれぞれに独自の IP アドレスがマップされた複数の名前を使用することができます。サイトの名前付けに関する概念の詳細については、後の「ポート、アドレス、およびホスト ヘッダー名を割り当てて複数のサイトをホストする」を参照してください。名前付けの手順については、「Web サイトに名前を付ける」を参照してください。 インターネットの名前解決 インターネットのサイトでは、ドメイン ネーム システム (DNS) を使って、わかりやすい名前を IP アドレスに解決します。ここでは、名前解決の仕組みについて説明します。 DNS 名は、InterNIC によって記録されます。InterNIC はインターネット上の名前とアドレスの割り当てを管理する組織で、日本国内では InterNIC の支部組織である JPNIC がこの管理を行っています。InterNIC は、登録されているドメイン名すべてを収めた分散データベースを運用しています。クライアント コンピュータがドメイン名を使ってサイトへの接続を要求すると、要求はドメイン ネーム サーバーと呼ばれる一連のコンピュータに転送されます。 ドメイン ネーム サーバーは、世界中の多くの組織に配置されています。要求したドメイン名に対応する IP アドレスがドメイン ネーム サーバーから返され、クライアントの要求が適切なサイトにルーティングされます。サイトのドメイン名の登録については、「インターネットの名前とアドレスを取得する」を参照してください。 ポート、アドレス、およびホスト ヘッダー名を割り当てて複数のサイトをホストする ここでは、Web サイトへ識別情報を割り当てる方法について説明します。各 Web サイトは、次の 3 つの部分で構成される一意の識別情報を持ち、それを使って要求の受信と要求への応答を行います。  ポート番号 IP アドレス ホスト ヘッダー名  この 3 つの識別項目のいずれかを変更することにより、1 台のコンピュータで複数のサイトをホストできます。 ポート番号 ポート番号を付加することにより、多数のサイトをホストする場合でも IP アドレスは 1 つで済みます。クライアントは、サイトへアクセスするために、静的 IP アドレスの末尾にポート番号を付加する必要があります。ポート 80 を使用する既定の Web サイトへアクセスする場合は、この処理が不要です。次の図は、ポート番号を使って複数の Web サイトをホストするコンピュータを示しています。  この方法で複数のサイトをホストする場合、クライアントは数字の IP アドレスとポート番号を入力する必要があります。ホスト名や  "わかりやすい名前" は使用できません。 複数の IP アドレス 複数の IP アドレスを使用するには、ホスト名および対応する IP アドレスを名前解決システム (通常は、DNS) に追加する必要があります。これによりクライアントは、ブラウザにテキスト名を入力するだけで Web サイトにアクセスできます。複数の IP アドレスを使用する場合は、IP アドレスごとにネットワーク カードが必要です。次の図は、複数の IP アドレスを使って複数の Web サイトをホストするコンピュータを示しています。  注この方法でインターネット上に複数のサイトをホストする場合は、InterNIC にもわかりやすい名前を登録する必要があります。 ホスト ヘッダー名 単一の静的 IP アドレスでホスト ヘッダー名を使用して、複数のサイトをホストすることもできます。この場合も、名前解決システム (通常は、DNS) にホスト名を追加します。上記の方法と異なるのは、コンピュータが要求を受信すると、IIS が HTTP ヘッダーに含まれるホスト名を使って、クライアントが要求するサイトを判断する点です。次の図は、ホスト ヘッダー名を使って複数の Web サイトをホストするコンピュータを示しています。   この方法でインターネット上に複数のサイトをホストする場合は、InterNIC にもわかりやすい名前を登録する必要があります。 注Secure Sockets Layer (SSL) を使用する場合は、HTTP 要求が暗号化されるので、ホスト ヘッダー名を使用できません。ホスト ヘッダーは、要求の一部として暗号化され、解釈不可能となり、正しいサイトへルーティングされません。  旧バージョンのブラウザでは、ホスト ヘッダー名を IIS へ渡すことができないことに注意してください。Microsoft® Internet Explorer3.0 以降、および Netscape Navigator2.0 以降ではホスト ヘッダー名をサポートしていますが、それより前のバージョンではサポートしていません。  旧バージョンのブラウザを使用している利用者は、IP アドレスの既定の Web サイトへ接続されます。正しいサイトへアクセスするには、追加のサポートが必要です。旧バージョンのブラウザでホスト ヘッダーを使用する方法については、「旧バージョンのブラウザでホスト ヘッダー名をサポートする」を参照してください。 名前を割り当てる方法については、「Web サイトに名前を付ける」を参照してください。IIS のインストール環境にサイトを追加する方法については、「サイトを追加する」を参照してください。  
名前解決について
