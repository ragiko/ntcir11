
ここで、任意のパーティションを選択し、左右カーソルキーを押すと、
パーティション種別を変更できます。
ただし、つじつまの合わない設定はできないようになっています。
ここが、「TestDisk」が簡単かつ安全だと思う一番の理由です。
必要なパーティションが見つかった場合は、適宜変更してください。
消してすぐのパーティションだったら、「Quick Search」でたいていあっさり見つかります。
そして、勝手に追加されてます。
なお、そもそもパーティションの意味がわからないという場合は、
下記ページを参考にしてみてください。
「プライマリパーティション」と「拡張パーティション」の違い
有効なパーティションかどうかを判断するひとつの方法として、
任意のパーティションを選んで「P」キーを押すと、ファイル一覧が表示されます。
上の画面はフォーマットしただけのパーティションなので、「ごみ箱」すらないんですが・・・
でも、何もないということがわかります。
ぜひご確認を。
ちなみにファイル一覧の画面は、「Q」キーで退出します。
逆に、ファイルが表示できない場合は、
無効なパーティションである可能性が高いと考えていいでしょう。
以上の操作を通じて、自分の希望通りにパーティションを設定したら、
「Enter」キーを押して先へ進めてください。
どれが必要なパーティションなのかよくわからないという人は、
ヒントとなるような事柄を下記ページにまとめてみましたので、参考にしてください。
「TestDisk」での復元パーティションの選び方
Deeper Search
この状態で、まだ必要なパーティションが表示されない場合は、
引き続き「Deeper Search」を選択します。
ちょっと時間はかかりますが、ハードディスク全体に渡ってパーティションの痕跡を探してくれます。
すでに画面表示されたパーティションの構成で問題なければ、「Write」の項目まで進んでください。
なお、「Deeper Search」実行中に必要なパーティションが見つかった場合は、
途中で「Stop」を選択してスキャンを止めても構いません。
特に、パーティションが1つしかなかった場合、必要な情報はディスクの先頭部分に集中しているはずです。
大容量のハードディスクで「Deeper Search」を実行すると、
無駄に長い時間がかかってしまうだけになるかもしれませんので。
「Deeper Search」の結果です。
パーティションの候補が増えています。
選択肢が多すぎるので、各パーティションは一旦削除扱いとされています。
実際に削除されているわけではありませんので、ご安心を。
画面の見方や操作方法は、「Quick Search」のときと同じです。
左右のカーソルキーで、パーティション種別を希望通りに変更してください。
また、「P」キーを押してファイル一覧が表示可能か確認してみましょう。
特に、いろいろパーティションを区切った経歴のあるハードディスクでは、
「Deeper Search」で多くのパーティション候補が検出されるので、
いろんな手がかりをもとに、パーティションを選んでいく必要があります。
そのへんについては、くどいようですが、復元パーティションの選び方のページにまとめてあります。
逆に、購入時からパーティションの変更を行っていないのであれば、
上の画面のように無駄に多数行出てくるようなことはないので、比較的判断しやすいと思います。
わざと、つじつまが合わない設定をしてみました。
「Structure: Bad.」と怒られます。
候補が多い時には、何気にありがたい機能です。
復元するパーティションを選び終わったら、「Enter」キーを押してください。
Write
「TestDisk」が設定するパーティションの一覧が表示されます。
ここで、十分に確認しておいてください。
「Write」を選択すると、
現在画面に表示されているパーティションの情報を、パーティションテーブルに書き込みます。
最終確認です。
「Y」キーを押すと、いよいよ実際にパーティションテーブルに書き込みます。
そうです、実はここまで、
「TestDisk」はハードディスクに対して、一切変更を加えていない状態なんです。
「あ、ヤバいかも。」と思ったら、いつでも途中でやめてください。
また、ここで違った画面が表示される場合があります。
それは、PBRが破損していて、そのままではパーティションを復元できないことを意味します。
でも、「TestDisk」ではPBRを修復することも可能だったりします。
詳細は下記ページにて。
「TestDisk」によるPBRの修復
再起動をうながすメッセージが出てきて、完了です。
「TestDisk」を終了し、再起動して動作確認してみましょう。
再起動後、「ディスクの管理」を開いてみました。
「TestDisk」によって、使えていたパーティションはすべて復旧しました。
リカバリ領域から起動する「True Image」も、正常動作しました。
ただし、ひとつだけ「TestDisk」で見つからないパーティションがありました。
なぜ、見つからなかったのでしょうか?
それは、このパーティションがまだフォーマットされていなかったので、
このパーティションに関するPBRが一度も作られていないんですね。
「TestDisk」が必死にブートセクタの残骸を探しても、ないものは見つけようがありません。
「未フォーマット」=「使ってない」ということなので、実はどうでもいいんです。
作り直したらいいだけの話ですので。
復旧できない場合
ここまでの操作で、「TestDisk」ではパーティションが確認できているものの、
「Write」としても、Windowsからは当該パーティションにアクセスできない場合があります。
このようなときは、PBRを確認してみることを強くおすすめします。
つまり、下記ページを参考にしてみてください。
「TestDisk」によるPBRの修復
「TestDisk」がエラーなく終了したとしても、それが正しいデータ構造になっているとは限りません。
特に、「TestDisk」は動作のあやしい記憶装置に対して使われることが多いソフトなので、
「TestDisk」自体が記憶装置を誤認識してしまうこともあります。
最終的には、ユーザー本人が状況を見極め、判断する必要があるのです。
一方、「Read error」が表示され、セクタの読み取りができないためにパーティションを検出できない場合は、
「TestDisk」を使ってどうこう、という問題ではありません。
セクタが読み取れないってことで、物理障害の範疇です。
不良セクタの修復を試みるツールもありますが、データの復旧という面ではかなり厳しくなります。
正常動作するハードディスクにセクタ単位でデータをコピーした後、復旧可能性を探るべきです。
データの重要度が高い場合は、データ復旧業者に依頼したほうがいいかもしれません。
Tweet
「TestDisk」の使い方 - パソコントラブルと自己解決
