発話符号器
発話符号器は、発話信号を効率よく送信、および/または、格納するために、デジタル通信システムにおいて広く使用されている。デジタルシステムにおいて、アナログ入力発話信号は、まず、適正なサンプリングレートでサンプリングされ、連続した発話サンプルは、デジタル領域でさらに処理される。特に、発話符号器は、発話サンプルを入力として受信し、チャネルを介して送信される、または適切な格納手段に格納されることになる圧縮された出力ビットストリームを生成する。受信機では、発話復号器が、ビットストリームを入力として受信し、再構成された出力発話信号を生成する。有用であるためには、発話符号器は、デジタルの、サンプル化入力発話信号のビットレートよりも低いビットレートを有する圧縮ビットストリームを生成しなければならない。現況技術の発話符号器は、一般的に、少なくとも16対1の圧縮レートを達成し、さらに高品質発話の復号を可能にする。これら現況技術の発話符号器の多くは、アルゴリズムに依存して様々な変形を有するCELP(符号励振線形予測)モデルに基づく。CELP符号化において、デジタル発話信号は、フレームと呼ばれる、連続した発話サンプルのブロックの形態で処理される。各フレームに対して、符号器は、デジタルで符号化され、次に送信、および/または、格納されるいくつかのパラメータをデジタル発話サンプルから抽出する。復号器は、受信したパラメータを処理し、所与の発話信号のフレームを再構成または合成する。一般的に、デジタル発話サンプルから以下のパラメータが、CELP符号器によって抽出される。
−線スペクトル周波数(LSF)またはイミッタンススペクトル周波数(ISF)などの、変換された領域内で送信される線形予測係数(LP係数)
−ピッチ遅延(またはラグ)およびピッチ利得を含むピッチパラメータ
−革新的励振パラメータ(固定されたコードブックの指数および利得)
ピッチパラメータおよび革新的励振パラメータは、共に励振信号とは何かを説明する。この励振信号は、LP係数によって説明される線形予測(LP)フィルタへ、入力として供給される。LPフィルタは声道のモデルとみなすことができ、一方、励振信号は声門の出力とみなすことができる。LPまたはLSF係数は、通常、フレーム毎に算出および送信され、一方、ピッチパラメータおよび革新的励振パラメータは、1フレームにつき数回算出および送信される。より具体的には、各フレームは、サブフレームと呼ばれるいくつかの信号ブロックに分割され、ピッチパラメータおよび革新的励振パラメータは、サブフレーム毎に算出および送信される。フレームは、通常、10〜30ミリセカンドの期間を有し、一方、サブフレームは、通常、5ミリセカンドの期間を有する。いくつかの発話エンコーダは、代数CELP(ACELP)モデルに基づき、より正確には、ACELPアルゴリズムに基づいている。ACELPの主要な特徴の1つとして、各サブフレーム毎に革新的励振を符号化するために代数符号帳を使用することが挙げられる。代数符号帳は、サブフレームをインターリーブされたパルス位置を有する1組のトラックに分割する。1トラックあたり数個の非零振幅(non-zero-amplitude)パルスしか許容されず、各非零振幅パルスは、対応するトラックの位置に限定される。符号器は、高速検索アルゴリズムを使用して、各サブフレームのパルス用の最適パルス位置および振幅を見出す。ACELPアルゴリズムに関しては、参照のために本明細書に組み込まれ、ITU-T G.729 CS-ACELP  8kbit/s狭帯域発話符号化アルゴリズムを記述したR. SALAMIらの記事, "Design and description of CS-ACELP. a toll quality 8kb/s speech coder", IEEE Trans. on Speech and Audio Proc., Vol. 6, No. 2, pp. 916-130, 1998年3月に記載されている。当該標準に依存した、ACELP革新的符合帳検索のいくつかの変形があることに留意されたい。本発明は、復号(合成された)発話信号の後処理に適用されるのみであるので、これらの変形には依存しない。ACELPアルゴリズムに基づく最近の標準は、ETSI/3GPP AMR-WB 発話符号化アルゴリズムであり、ITU-T(ITU(International Telecommunication Union)の通信標準部門)によっても、勧告G.722.2[ITU-T勧告G.722.2 "Wideband coding of speech at around 16 kbit/s using Adaptive Multi-Rate Wideband (AMR-WB)", Geneva, 2002年], [3GPP TS 26.190, "AMR Wideband Speech Codec: Transcoding Functions," 3GPP Technical Specification]として採用されている。AMR-WBは、6.6〜23.85kbit/sの9つの異なったビットレートで動作させるように意図されたマルチレートアルゴリズムである。当業者ならば、復号発話の音質は、通常ビットレートの増大に伴って高くなることを知っている。AMR-WBは、移動体通信システムが、チャネル条件が悪い場合に発話符号器のビットレートを下げることを可能にするように設計されてきた。ビットは、チャネル符号化ビットに変換されて送信ビットの保護を強化する。このようにして、送信ビットの全体の音質は、発話符号器が固定の単一ビットレートで動作する場合よりも高く維持することができる。図7は、AMR-WB復号器の原理を示す概略構成図である。より具体的には、図7は、受信されたビットストリームは、最大6.4kHz(12.8kHzのサンプリング周波数)までの発話信号を符号化し、6.4kHzを越す周波数は、低帯域パラメータを使用して復号器で合成されることを強調した、復号器の高レベルの表現である。このことは、符号器において、16kHzでサンプリングされた、元の広帯域発話信号は、まず、当業者周知のマルチレート変換技術を使用して12.8kHzのサンプリング周波数にダウンサンプリングされたことを意味する。図7のパラメータ復号器701および発話復号器702は、図1のパラメータ復号器106および音源復号器107と類似である。受信されたビットストリーム709は、まず、パラメータ復号器701によって復号され、発話復号器702に供給されるパラメータ710を回復して発話信号を再合成する。特定のAMR-WB復号器の場合において、これらのパラメータは、以下のようになる。
−20ミリセカンドの各フレーム用ISF係数
−整数ピッチ遅延T0、T0近傍の分数ピッチ値T0_frac、および5ミリセカンドの各サブフレーム用ピッチ利得
−5ミリセカンドの各サブフレーム用代数符合帳の形状(パルス位置および標識)および利得
発話復号器702は、パラメータ710から、6.4kHz以下の周波数の発話信号の所与のフレームを合成し、それによって、12.8kHzのサンプリング周波数における低帯域合成発話信号712を生成するように意図されている。16kHzのサンプリング周波数に対応する全帯域を回復するために、AMR-WB復号器は、パラメータ復号器701からの復号されたパラメータ710に応答して、サンプリング周波数16kHzにおける高帯域信号711を再合成する高帯域再合成処理器707を含む。高帯域信号再合成処理器707の詳細は、参照により本明細書に組み込まれた以下の出版物に開示されている。
−ITU-T勧告G.722.2 "Wideband coding of speech at around 16 kbit/s using Adaptive Multi-Rate Wideband (AMR-WB)", Geneva, 2002年
−3GPP TS 26.190, "AMR Wideband Speech Codec: Transcoding Functions," 3GPP Technical Specification図7の高帯域信号711と称される、高帯域再合成処理器707の出力は、6.4kHzよりも高いところにエネルギーが集中した、16kHzのサンプリング周波数における信号である。処理器708は、高帯域信号711を16kHzにアップサンプリングされた低帯域発話信号713に加算し、16kHzのサンプリング周波数におけるAMR-WB復号器の完全な復号発話信号714を形成する。後処理の必要性
発話符号器が通信システム中で使用されるときはいつも、合成または復号された信号は、伝送誤りが無い場合ですら、決して元の発話信号と同一ではない。圧縮比が高くなればなるほど、符号器によって引き起こされる歪は、大きくなる。この歪は、異なった手法を使用して、主観的に小さくすることができる。第一の手法は、符号器においてより良く記述するために信号を条件付ける、または発話信号中の主観的に相関のある情報を符号化することである。しばしばW(z)として表現される、フォルマント重み付けフィルタ(formant weighting filter)の使用は、広く使用されたこの第一の手法の例である[B. KleijnおよびK. Paliwal編, <<Speech Coding and Synthesis,>> Elsevier, 1995年]。このフィルタW(z)は、一般的に、適応可能に構成され、フォルマントスペクトル近傍の信号エネルギーを減じて、低エネルギー帯域の相関エネルギーを増大させるように演算される。符号器は、低エネルギー帯域をより良く量子化する。この低エネルギー帯域は、さもなければ、符号化雑音によってマスキングされ、知覚される歪を増大させる。符号器における信号条件付けの別の例は、符号器において励振信号の高調波構造を強調する、いわゆるピッチ先鋭化フィルタ(pitch sharpening filter)である。ピッチ先鋭化の目的は、次数間高調波雑音レベルが、知覚感覚内で十分低く維持されることを確保することである。発話符号器によって引き起こされる知覚される歪を最小化するための第二の手法は、いわゆる後処理アルゴリズムの応用である。図1に示すように、後処理は、復号器において適用される。図1において、発話符号器101および発話復号器105は、2つのモジュールに分割される。発話符号器101の場合、音源符号器102は、送信または格納されることになる一連の発話符号化パラメータ109を生成する。これらのパラメータ109は、発話符号化アルゴリズムおよび符号化すべきパラメータに依存して、特定の符号化方法を使用して、パラメータ符号器103によって2進符号化される。符号化発話信号(2進符号化パラメータ)110は、次に、通信チャネル104を介して復号器へ送信される。復号器において、受信ビットストリーム111が、まず、パラメータ復号器106によって解析され、受信された、符号化された音声信号符号化パラメータが復号され、復号されたパラメータは音源復号器107によって使用され、合成発話信号112が生成される。後処理(図1の後処理器108参照)の目的は、合成発話信号中の知覚的に相関のある情報を強調、あるいは知覚的に煩わしい情報を等価的に減少または除去することである。広く使用される後処理の2つの形態は、フォルマント後処理およびピッチ後処理である。最初のケースでは、合成発話信号のフォルマント構造は、発話フォルマントに相関した周波数応答を有する適応型フィルタを使用して増幅される。合成発話信号のスペクトルの峰は、スペクトルの谷を犠牲にして強調され、スペクトルの谷の相関エネルギーは、小さくなる。ピッチ後処理の場合、適応型フィルタは、合成発話信号にも適用される。しかしこの場合、フィルタの周波数応答は、精細なペクトル構造、即ち、高調波と相関している。ピッチ後処理フィルタは、次数間高調波エネルギーを犠牲にして高調波を強調し、次数間高調波エネルギーは、相当小さくなる。ピッチ後処理フィルタの周波数応答は、通常、全周波数範囲に亘ることに留意されたい。その影響は、復号発話中に高調波構造が現れない周波数帯域内ですら、後処理された発話上に高調波構造が重畳されることである。これは、全周波数帯域上で、周期的構造をめったに示さない広帯域発話(16kHzでサンプリングされる発話)にとって、知覚的に最適な手法ではない。
R. SALAMIらの記事, "Design and description of CS-ACELP. a toll quality 8kb/s speech coder", IEEE Trans. on Speech and Audio Proc., Vol. 6, No. 2, pp. 916-130, 1998年3月
ITU-T勧告G.722.2 "Wideband coding of speech at around 16 kbit/s using Adaptive Multi-Rate Wideband (AMR-WB)", Geneva, 2002年
3GPP TS 26.190, "AMR Wideband Speech Codec: Transcoding Functions," 3GPP Technical Specification
B. KleijnおよびK. Paliwal編, <<Speech Coding and Synthesis,>> Elsevier, 1995年
復号発話信号の知覚音質向上に鑑みて、復号発話信号を後処理する方法およびデバイスにおいて、復号発話信号は、複数の周波数サブ帯域信号に分割され、周波数サブ帯域信号の少なくとも1つに後処理が適用される。この少なくとも1つの周波数サブ帯域信号の後処理の後、周波数サブ帯域信号は加算され、後処理された復号発話信号出力を生成する。この方法によって、後処理は、所望のサブ帯域またはサブ帯域群に限定して実施し、その他のサブ帯域群は実質的に変更しないでおくことができる。
528647号 合成発話の周波数選択的ピッチ強調方法およびデバイス - astamuse
