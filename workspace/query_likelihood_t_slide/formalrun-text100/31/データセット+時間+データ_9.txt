データセットは、Google アナリティクスにアップロードするデータを保持するためのコンテナです。データセットを使用すると、アップロードしたデータと既存のデータの統合を管理できます。データセットはプロパティ単位で設定します。データセットは少なくとも 1 つのビューと関連付ける必要があり、複数のビューと関連付けることもできます。
データセットのタイプ
データセットのタイプはインポートするデータのタイプに対応し、たとえば、ユーザーデータ、費用データ、コンテンツ データなどのデータセット タイプがあります。使用できるディメンションや指標(スキーマ)はデータセットのタイプによって異なります。
データセット スキーマ
データセットを作成する際には、アップロードするデータとヒットの既存データを結合する構造「スキーマ」を定義します。スキーマはキー ディメンション(キー)とインポート ディメンションまたは指標で構成されます。データをインポートする際には、アップロードしたデータのキー値に一致するキー値がヒットで検索されます。一致する値が見つかると、そのキーに関連付けられているディメンションと指標の値が既存のヒットデータに追加されます。インポート ディメンション(または指標)には、お客様がアップロードするこのデータが追加されます。データセットのタイプによっては、複数のディメンションでキーを定義することもできます。インポート フィールドでは、どのデータセット タイプでも複数のディメンションや指標を使用できます。
キーおよびインポート ディメンション
すべてではありませんが、さまざまなディメンションと指標をインポート キーおよびターゲットとして使用できます。利用可能なディメンションと指標は、データセットの作成時に画面に表示されます。ただし、次のキーおよびターゲット ディメンションは現時点では使用できません。
カスタム変数
期間ディメンション(時間や分など)
地域ディメンション(国や都市など)
カスタムのディメンションおよび指標を使用する
ユニバーサル アナリティクス(analytics.js)を設定している場合は、すべてではないものの多くのインポート タイプで、カスタム ディメンションをキーおよびインポート ディメンションとしてアップロードできます。カスタムのディメンションや指標のスコープは、インポート タイプとして適切なものである必要があります。
ウェブサイトで ga.js ベースのスニペットを使用している場合に、Google アナリティクスの標準ではないディメンションや指標(作成者など)をインポートすると、既存のディメンション(ページタイトルなど)が上書きされます。このアプローチを採用する場合は、新しいビューを設定することを強くおすすめします。この方法で上書きすると、ディメンションのデータが選択したビューのカスタムデータに置き換えられ、元に戻すことができません。
キーおよびインポート ディメンションの詳細
上書きの処理
払い戻しデータを除くすべてのデータセット タイプでは、選択した Google アナリティクス プロパティに既に存在しているデータとアップロードしたデータが重複している場合に、重複データをどのように処理するかを指定できます。この場合の「重複データ」とは、当該プロパティに既にインポートされている値や、そのプロパティ用に既に収集されている値とキー ディメンションが一致しているレコードのことです。この重複データは、次のような方法で処理できます。
費用データの場合は、重複データを追加(加算)するか、以前にアップロードしたデータを削除して置き換えるかを選択できます。
キャンペーン、コンテンツ、カスタム、商品、またはユーザーのデータセット タイプの場合は、以前に収集またはインポートしたヒットを重複データで上書きするか、既存のデータを残して重複データを破棄するかを選択できます。
払い戻しデータの場合は、一度インポートすると通常のヒット トラフィックと見なされるため、修正することはできません(したがって、インポートする前にデータが正しいことを必ずチェックする必要があります)。
重複データの取り扱いに関する詳細
関連資料
インポートできるデータのタイプを確認します。
データ インポートの設定要件を確認します。
データ インポートの制限事項を確認します。
データセットについて - アナリティクス ヘルプ
