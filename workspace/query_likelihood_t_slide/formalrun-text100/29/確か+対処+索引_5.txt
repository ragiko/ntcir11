ある日突然、C:ドライブの空き容量不足のエラーが発生。その原因はインデックス(Windows Search)かもしれない。インデックスのサイズを確認して、移動したり縮小したりする方法を解説する。
解説
ある日、突然WindowsのC:ドライブ(システム/ブート・ドライブ)の空き容量が不足しているという警告メッセージが表示された。確かに空き容量が数Mbytesまで減っているが、C:ドライブに大きなファイルや大量のファイルを保存した覚えはまったくない。しばらく前に確認したときには数十Gbytesの余裕があったはずなのに……
ドライブの空き容量が不足する「ディスク・フル」には、さまざまな原因が考えられる。もし、C:ドライブ(システム/ブート・ドライブ)の容量が数十G〜百数十Gbytesと小さく、データ・ドライブに多くのファイル/データが保存されている場合、Windows標準のインデックス(Windows Search)機能がディスク・フルの原因かもしれない。本稿では、このインデックスによるC:ドライブの容量不足を確認する方法とその対策について説明する。
インデックス(Windows Search)とは?
インデックスとは、ドライブ内のファイルやメール・メッセージ、Internet Explorerの履歴などを素早く検索できるように作成される、電子的な索引のことを指す。Windows 7/Windows 8には、この索引をバックグラウンドで検索・生成する「Windows Searchサービス」が標準で組み込まれている。
インデックスはデフォルトでC:ドライブに作成される(インデックス対象が複数のドライブにまたがっていても、C:ドライブに集約される)。そのため、C:ドライブの容量が比較的小さく、かつインデックス対象のファイル/データが多いと、インデックスが肥大化してC:ドライブを溢れさせることがある。
したがって対策としては、まずインデックスのサイズを調べ、肥大化しているなら、空いているドライブに移動したり、インデックスのサイズを縮小したりすることになる。
操作方法
以下の操作には管理者権限が必要な場合があるので、あらかじめ管理者権限を持つアカウントでWindowsにログオンしていただきたい。
インデックスがどれくらい大きくなっているか確認する
まずはC:ドライブの空き容量不足がインデックス肥大化のせいかどうか確認しよう。それにはコントロール・パネルの［インデックスのオプション］アプレットでインデックスのありかを調べる(コントロール・パネルの検索ボックスで「インデックス」を検索すると、このアプレットは簡単に見つけられる)。アプレットを開いたら［詳細設定］ボタンをクリックし、［インデックスの設定］タブの「インデックスの場所」枠にある［現在の場所］に注目する。
Windows TIPS:インデックス(Windows Search)によってC:ドライブの空き容量が不足したときの対策 - @IT
