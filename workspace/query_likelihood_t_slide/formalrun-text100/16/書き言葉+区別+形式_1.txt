
ホーム
現代日本語書き言葉均衡コーパス(BCCWJ)
M-XML(統合形式XMLデータ)詳細
M-XML(統合形式XMLデータ)詳細 M-XML 
M-XML形式のデータはDisc1のM-XMLディレクトリの下に、サブコーパスごとにディレクトリ分けされて格納されている。ディレクトリ内にそれぞれ一つの圧縮ファイルがあり、これを展開することで1ファイルが1サンプルに対応する多数のXMLファイルが展開される。ファイル数の多いLB、PB、OC、OYについては、複数のサブディレクトリに分けてXMLファイルが展開される。
M-XML(統合形式XMLデータ)は、C-XML(文字ベースXML)フォーマットをもとにして、可変長・固定長サンプルを統合し、言語構造を一定程度反映させたXMLフォーマットである。短単位・長単位の形態論情報を、階層構造を維持したまま埋め込み、言語構造に関わる情報を扱いやすくしている。XMLファイルの符号化形式はUTF-8(BOMなし)である。	
可変長と固定長の統合
C-XMLでは、可変長サンプルと固定長サンプルが別のXML文書として構造化されている。しかし、二種類のサンプルは同一の文書から採集されているため、多くの部分が重複している。こうしたデータに形態論情報を付与し整備する場合には、同一内容のテキストを二回処理する必要がないように、統合して扱うことができた方が望ましい。しかし、タグが交叉することになるため、別の構造を持つ二つのXMLを単純に統合することはできない。そこで、統合形式では次のような方法で可変長と固定長を統合することとした。
そもそも、文書構造を意識して採集された可変長サンプルとは違い、均一な長さのサンプルを取得する目的で作られた固定長サンプルでは、文書構造を示すブロック要素タグは大きな意味を持たない。そこで、M-XMLでは、可変長サンプルの文書構造だけを保持し、固定長の範囲は形態素(長単位)に付与する属性で示すこととした。可変長部分から固定長部分がはみ出している場合には、はみ出した部分を単純なコンテナ(<div type="fiexdLength">)で囲み、インライン要素だけを保持した。
M-XMLは次のような属性を持つmergedSample要素をルートとして上記の要素をまとめ上げている。
<mergedSample sampleID="サンプルID" type="BCCWJ-MorphXML" version="1.0">
異なる文書定義の統合
C-XMLは、サブコーパスによっては異なる文書定義(DTD)が用いられている。知恵袋(OC)、ブログ(OY)、教科書(OT)、韻文(OV)は、おおよそ共通の構造を持ちながらも、一般の可変長サンプルとは異なるそれぞれ独自の文書定義によっている。そのため、すべてのデータを統一的に処理しようとするとき問題となる場合がある。
そこで、M-XMLでは、タグセットを一部変更して、すべてのサブコーパスについて共通の文書定義で処理できるようにしている。C-XMLに比較してやや緩い制約での検証になるが、すべてのXMLファイルは単一のXMLスキーマで検証済みである。この統合に際してサブコーパス独自のタグを次のように一部変更している。
OC : <OCQuestion>  <article articleID="サンプルID-Question">
<OCAnswer>  <article articleID="サンプルID-Answer">
OC, OY:	<br type='physicalLine_original />  <webBr/>
OT	:	<root>  <squareRoot>
形態論情報の階層構造
BCCWJにおける短単位・長単位・文節は、その定義から入れ子構造をなす。文節はこれが連なって文を構成するし、短単位は文字から構成されるから、BCCWJの形態論情報は、結局次のような言語単位の階層構造の中に位置づけられることになる。
文章/文/文節/長単位/短単位/文字
文書構造タグや階層化された形態論情報を活用するためには、この階層構造・包含関係がそのままXMLフォーマットに反映されることが望ましい。この考え方に従い、M-XMLでは、次のような構造で形態論情報を付与した。
以下はそのサンプルとして一つの文(sentence要素)を抜き出したものである(見やすさのため一部の属性を省略している)。
<sentence>
<LUW B="B" SL="v" l_lemma="公共工事請け負い金額" l_lForm="コウキョウコウジウケオイキンガク" l_wType="混" l_pos="名詞-普通名詞-一般" >
<SUW lemma="公共" lForm="コウキョウ" wType="漢" pos="名詞-普通名詞-一般" pron="コーキョー">
公共
</SUW>
<SUW lemma="工事" lForm="コウジ" wType="漢" pos="名詞-普通名詞-サ変可能" pron="コージ">
工事
</SUW>
<SUW lemma="請け負い" lForm="ウケオイ" wType="和" pos="名詞-普通名詞-一般" pron="ウケオイ">
請負
</SUW>
<SUW lemma="金額" lForm="キンガク" wType="漢" pos="名詞-普通名詞-一般" pron="キンガク">
金額
</SUW>
</LUW>
<LUW SL="v" l_lemma="の" l_lForm="ノ" l_wType="和" l_pos="助詞-格助詞" >
<SUW lemma="の" lForm="ノ" wType="和" pos="助詞-格助詞" pron="ノ">の</SUW>
</LUW>
<LUW B="B" SL="v" l_lemma="動き" l_lForm="ウゴキ" l_wType="和" l_pos="名詞-普通名詞-一般" >
<SUW lemma="動き" lForm="ウゴキ" wType="和" pos="名詞-普通名詞-一般" pron="ウゴキ">
動き
</SUW>
</LUW>
(略)
</sentence>
M-XML(統合形式XMLデータ)詳細 現代日本語書き言葉均衡コーパス(BCCWJ)
