デフォルトでは、検索結果は戻り値として使用できるすべてのフィールドを含みます。戻り値として使用できるフィールドのサブセットを返す場合、または、一致するドキュメントの式の値を返す場合は、return パラメータを指定できます。一致するドキュメントのドキュメント ID のみを返すには、return=_no_fields を指定します。各ドキュメントに対して計算された関連性スコアを取得するには、return=_score を指定します。複数の戻り値フィールドはカンマ区切りリストとして指定します。たとえば、return=title,_score は、一致する各ドキュメントのタイトルと関連性スコアのみを返します。検索結果には、戻り値として使用できることが設定されたフィールドのみを含めることができます。フィールドを戻り値として使用可能にすると、インデックスのサイズが増加し、ドメインの実行コストが増加します。フィールドを戻り値として使用可能にして、検索インデックスにドキュメントデータを格納するのは、他の方法を使用してデータを取得するのが困難かコストがかかる場合のみにします。ドメイン全体にドキュメントの更新を適用するにはある程度の時間がかかるため、価格情報などの重大なデータは、インデックスから返す代わりに、返されたドキュメント ID を使用して取得する必要があります。たとえば、検索結果に title と関連性の _score を含めるには、次のように指定します。search?q=star -wars&return=title,_score&size=3指定したフィールドは、各ヒット項目と共に検索結果に含まれます。{
"status" : {
"rid" : "y9Dzhs8oEwqMHnk=",
"time-ms" : 2
},
"hits" : {
"found" : 76,
"start" : 0,
"hit" : [ {
"id" : "tt1411664",
"fields" : {
"title" : "Bucky Larson: Born to Be a Star",
"_score" : "9.231539"
}
}, {
"id" : "tt1911658",
"fields" : {
"title" : "The Penguins of Madagascar",
"_score" : "7.1051397"
}
}, {
"id" : "tt0120601",
"fields" : {
"title" : "Being John Malkovich",
"_score" : "6.206055"
}
} ]
}
}
Amazon CloudSearch でインデックスフィールドからデータを取得 - Amazon CloudSearch
