例としてある店の顧客に対する販売実績と、顧客の属性の関係を分析します。目的変数として、ある年の各顧客の購入額をとります。説明変数として、顧客の属性(年齢、性別、家族人数、年収など)を用いることとします。すなわち、
(購入額)= a ×(年齢)+ b ×(性別)+ c ×(家族人数)+ d ×(年収)+(誤差)
という式において、a,b,c,d (これを偏回帰係数といいます)の値と、誤差項の値を求めます。求め方は、最小二乗法の原理が用いられます、ここでは省略します。その結果、求められた式、例えば、
(購入額)=30×(年齢)+300×(性別)+450×(家族人数)+0.001×(年収)+5000
などという関係式が得られるのです。
この式に、新しい顧客の属性データを入れれば、購入額が推定できるというのが、(重)回帰分析の考え方です。
一方、この関係式において、説明変数(属性)が、購入額(目的変数)に対しておよぼす影響の大きさを知りたいということがよくあります。上の関係式では、年齢や年収は単位が違います。したがって年齢の項の偏回帰係数30と年収の項の偏回帰係数0.001は直接比較できません。そこで、あらかじめ説明変数を標準化(平均0、分散1)しておくと、単位が同一になるので、偏回帰係数を比較することができます。
このように、説明変数を標準化してもとめた偏回帰係数を標準偏回帰係数といい、この標準偏回帰係数の大きさで、説明変数の説明力(目的変数への影響の大きさ)を比較します。
重相関係数と決定係数
重相関係数とは、基準となる1つの変量と、これとは別の複数の説明変量から合成した合成変量との相関を表わすものです。すなわち、さきほどの例では、基準変量である実際の購入額と、購入者の属性から重回帰分析式で求めた予測値の相関を表わします。したがって、当然、この重相関係数(Rと表わすことが多い)が1に近いほど、重回帰分析モデルが現実をよく表わしていることになります。
また、この重相関係数(R)の2乗を、決定係数(R2)といいます。決定係数(R2)は、基準変数の分散に占める予測値の分散の割合に一致するので、重回帰分析の適合度指標としてよく用いられます。
説明変数の選択
実際に重回帰分析を行う場合、説明力が高い少数の説明変数で、適合度の高いモデルができることが理想です。説明変数の選択方法には、
強制投入法(すべての変数を説明変数として重回帰式を作る)
変数増加法(既存の重回帰式に、新たな変数を追加しては、評価していく)
変数減少法(既存の重回帰式から、1つずつ変数を減少させて、評価していく)
ステップワイズ法(変数増減法)
などがあります。
ステップワイズ法は、最も代表的な説明変数の選択方法で、1つずつ説明変数を、入れたり抜いたりしながら、だんだんとあてはまりのよいモデルに近づけていくやり方です。
多重共線性(マルチコ)
重回帰分析で、注意すべきことは、本来説明変数間は独立であるべきという仮定です。
説明変数A、B間に相関が高いと、目的変数は、Aによって説明されるのか、Bによって説明されるのか判然とせず、適切な偏回帰係数が求められません。これを、多重共線性(マルチコリニアリティ)といいます。多重共線性は、偏回帰係数の符号が逆転することなどによって発見されることが多いのですが、説明変数間の相関行列を調べることで発見できます。
なお、構造方程式モデリング(SEM)を用いれば、変数AとBの間に相関を仮定することにより、多重共線性の問題を解決できます。
回帰分析とは｜市場調査・アンケート調査のマクロミル
