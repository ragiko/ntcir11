システム・サービスに関するログ・各種情報を取得する事により、トラブルシューティング、パフォーマンスチューニングのみならず、ビジネス上の成果の確認、UIの改善等にも役立ちます。ただ、闇雲に情報を取得しても、効果は上がらず労力ばかりがかかってしまいます。本記事ではログ・メトリクスの収集の目的を明らかにし、その為に必要な点を実例を挙げながら説明していきます。
「ログ」取得の目的
Retty開発担当の鹿島です。Webサービスに限らず、ITのシステムを運用していれば、何らかの形で「ログ」の取得・保存をしている事かと思います。そもそも、それらは何のために保存されているのでしょうか。まずは、「ログ」を保存する目的を明らかにし、その観点から各種の「ログ」について見ていきたいと思います。
開発や運用経験のある方であれば、
「ログにxxxに関する情報が出ていれば、障害解決がスムーズなのに......」
とか、あるいは逆に
「ログが大量過ぎて重要な情報が探しにくい!」
などと思った経験があると思います。ログを取得する目的を明確にする事により、こうした事の大半は避けられると考えています。
ログを取得する目的は色々ありますが、大雑把に以下の4つに分類できると思います。
障害発生時のトラブルシューティング
パフォーマンス改善
ビジネス上の成果の確認
UIの改善
今回の記事では、この中から主に最初の2つを扱います。なお、本記事内で言う「ログ」は、いわゆるシステム関連のログだけでなく各種指標・メトリクスを含みます。詳しくは後ほど説明します。
障害発生時のトラブルシューティング
さて、ログを取得する理由として一番最初に思い当たるのは、障害発生時のトラブルシューティングだと思います。システムが応答しない、予期しない異常な動作をするなどの障害が起きた際に、ログを参照することによって以下のような事実が特定されると期待されます。
障害発生日時
障害発生箇所
障害の原因
障害による影響範囲
逆に言うと、これらを特定できるようにログを取得する必要があるということです。
Community Blog
