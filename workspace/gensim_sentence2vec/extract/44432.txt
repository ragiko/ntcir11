はじめに
今回は,前回紹介したCloud9 IDEを使って,Windows Azure上で動作するNode.jsアプリケーションを開発してみたいと思います。前回,Cloud9 IDE上に作成したワークスペースをそのまま使います。初めて読まれる方は,連載第3回で作成したExpress.jsを利用したWebアプリケーションのソースコードをCloud9 IDEのワークスペースに上げた状態を想定していただけると良いと思います。
また,これまでデータベースはMongoDBを利用してきましたが, Windows Azureストレージのテーブルに代替して,こちらもクラウドサービスを直接利用するように変更します。
Windows Azureにサインイン
Window Azureのサイトから,無料で試すことができます。Microsoftアカウント(旧Windows Live ID)でサインインすることで無料評価版が利用可能です。
今回は「Webサイト」というプレビューサービス上にNode.jsをデプロイして,そこから「ストレージ」サービスのテーブルにアクセスする流れになります。
Windows Azureストレージアカウントを作る
Windows Azureポータルにサインインして,左側のストレージをクリックします。さらに下部表示されるバーの [+新規] をクリックします。バーの内容が切り替わるので,新たに表示された [簡易作成] をクリックします。
図1が表示されるので,任意の値を入力後(ジオレプリケーションはサンプル利用なので無効にしています),[ストレージアカウントの作成] をクリックします。画面のリストが更新されて,状態が「オンライン」になったら,追加された項目を選択すると,下部に [キーの管理] が有効になるのでクリックします。「アクセスキーの管理」ダイアログで [プライマリ アクセス キー] をコピーしてメモしておきます。
Webサイトを作る
ポータルトップの左側の [WEBサイト] をクリックします。さらに下部表示されるバーの [+新規] をクリックします。バーの内容が切り替わるので,新たに表示された [簡易作成] をクリックします。
第7回 Node.jsアプリケーションをWindow Azureで動かす:基礎から学ぶNode.js｜gihyo.jp … 技術評論社
