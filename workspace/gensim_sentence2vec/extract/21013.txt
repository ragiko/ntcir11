穴の開いたロール紙をはじめて織機に使用したのは1725年ごろの Basile Bouchon と Jean-Baptiste Falcon で、1745年にジャック・ド・ヴォーカンソンがこれを完全自動織機にし、1801年にフランスのジョゼフ・マリー・ジャカールが大きく改良しパンチカードにし、自動織機を制御して複雑な模様の布を織るために使用され、世紀を超えて使用され続けた。織機などで多く利用されたのは、コンピュータをそれに応用しようという考えからではなく、むしろこちらのほうが元祖であったゆえである。
機械の制御ではなく、情報の格納手段としてパンチカードを最初に使ったのはセミヨン・コルサコフ(英語版)とされている。コルサコフは彼の考案した技法と機械を1832年9月に発表し、特許を取得せずに機械を公的な用途に供した[1]。
チャールズ・バベッジはジャカールの機械(ジャカード織機)をヒントにして、パンチカードをプログラム格納に使う計算機(解析機関)を構想した。だが彼が構想した計算機は、その存命中には実現しなかった。バベッジはこれを "Number Cards" と呼び、歯車機構に連動している一連のレバーに押し付け、穴の空いていない部分のレバーが押されることで歯車機構が動き、数値を伝えるとした[2]。
ジャカールの自動織機に触発されたのはバベッジだけではなかった。パンチカードを使って「革命」を起こした人物がアメリカにいた。当時、大規模な移民の受け入れにより急激に人口が膨張しつつあったアメリカでは、1880年の国勢調査が1889年になっても集計が完了しないという問題を抱えていた(これには、単純な人口の増加だけではなく、集計する項目が増えたために当初の手作業システムが破綻したのだと言われる)。計算している間に人口が大きく変動してしまうこの状況を解決したのがハーマン・ホレリスが発明したパンチカードによる集計機タビュレーティングマシンで、これによって集計のスピードは10倍になったという。ホレリスは当初データ格納媒体としてさん孔テープを試したがうまくいかず、パンチカードにたどり着いた[3]。ホレリスはまた文字コードも考案し、これはホレリスコードと呼ばれている。
当時は手書きで記録を取り、それを事務所に持ち帰ってパンチカードに転記するという手間を踏んでおり、かつホレリスの集計機自体も1回1回人間が処理の仕方を設定する必要があるなどの欠点があったが、その圧倒的な処理能力は「驚異のテクノロジー」と賞賛され、政府機関だけではなく様々な分野で使用されていくことになる。多数の顧客情報を処理しなければならない保険会社などでも使われた。後に電気式加算機の計算機構を組み込んでかなりの計算ができる機械が登場し、会計処理だけでなく科学技術計算にも使われるようになった。このようなプログラム内蔵式でないコンピュータともいうべき機器は電子式コンピュータが登場した後もしばらく使われ続けた。
ホレリスは1枚のカードに80項目、1項目につき12種類の選択肢の情報が記録できるような仕様を策定した。このカードはサイズを身近な1ドル紙幣と同一にし、普及のために低額で販売したため、事実上の標準となった。特に「1行 80項目(桁)」は、FORTRANを筆頭としてその後長く受け継がれていくことになる(後述)。そして1896年、この事業のためにホレリスが興した「タビュレーティング・マシーンズ社」は、幾度かの統合を経て巨大企業IBMの母体となっていく[4] 。
1950年代まで、パンチカードはデータ入力やデータ保管、データ処理の主な手段として使われた。IBMの記録によれば、IBMは1937年にはニューヨーク州エンディコットに32のパンチカード工場を持ち、毎日500万枚から1000万枚のパンチカードを生産していた[5]。パンチカードはアメリカ合衆国連邦政府の小切手[6]や貯蓄債券など法的書類にも使われていた。1950年代、UNIVAC I の入出力装置UNITYPERが新たなデータ入力手段として磁気テープを導入した。1960年代には磁気テープを採用するコンピュータが増えていき、パンチカードから高速で書き換えの効く磁気テープへの移行が徐々に進行した。1965年、Mohawk Data Sciences はキーパンチの代替として直接磁気テープにタイピング内容を記録する磁気テープエンコーダという機器を発売し、ある程度の成功を収めた。それでもパンチカードはデータおよびプログラム入力手段として1980年代中ごろまで使われ続けた。1952年発売のIBM初の商用コンピュータIBM 701や、大ヒットとなったSystem/360のデータ入力の基本は80桁長方形の穴の「ホレリスコード」のパンチカードである。またUNIVACなどのコンピュータでは丸穴の90桁のカードが使われた。
元々機械的な装置だった時代にアウトラインが決まったものであるため比較的大きく、トランジスタ化などコンピュータの進歩に合わせ小型化したものも試作されたりしているが、既にデファクトスタンダードとして普及してしまったものを置き換えるには至らなかった。
またパンチカードにプログラムを記述するに際は、一つ一つ順々に穿孔していくのではなく、効率化の為に鉛筆などを用いて書き込んでおき、あとでまとめて孔を穿っていた。大規模開発の場合はプログラマがプログラムシート(紙)に鉛筆などで記入後、キーパンチャーと呼ばれる人間に渡し、カード穿孔機で一括処理してもらうなど分業化も進んでいた。
パンチカードの利点は、行単位の編集が容易であるということがある。プログラムの1行がパンチカードの1枚になるため、内容を修正したい場合は、修正行に相当するカードを差し替えるだけでよい。また、ブロック単位に移動する場合もカードを入れ替えるだけで済む。紙テープの場合には編集の際に、物理的な切り貼りを行なう必要があることを考えると非常に効率的である。
難点としては、パンチカードの束(ガードデック)を落としてしまうと並べ直すのが大変で、打ち直した方が速いとか、並べ直し易いように事前にカードデック上部に斜線を引く、などの工夫もされた。
1980年代中ごろ、磁気ディスクや端末が低価格化し、安価なミニコンピュータが普及したため、パンチカードはコンピュータへのデータ入力手段としての役目をほぼ終えた[7]。それでも、多くの業界標準規格やファイルフォーマットにパンチカードの影響が残っている。パンチカードの代替となった IBM 3270 などの端末は、既存のソフトウェアとの互換性を考慮して一行の表示文字数をパンチカードと同じ80文字とした。グラフィカルユーザインタフェースは可変幅のフォントも表示可能だが、1行80文字を前提としたプログラムは今もある。
少数のレガシーシステムや特殊な用途を除き、コンピュータ関連の記録媒体としてのパンチカードはほぼ他の媒体に置換された。
影響[編集]
ホレリス(IBM)の80欄パンチカードが、コンピュータに与えた影響には以下がある。
メインフレームなどの大半の設定ファイルやJCLなどは、今(2014年)も1行80桁が基本である
FORTRANなどの言語は、今(2014年)も1行80桁が基本である
桁数に制限のない言語でもプログラミング作法として、1行を80桁とする流儀は今(2014年)でも根強い
3270や5250などメインフレーム用の表示装置やエミュレータは、今も1行80桁が基本である
IBM PC以後のパーソナルコンピュータの表示解像度(ピクセル)も、1行80桁が基本である
MDAはキャラクタ表示で1行80桁
グラフィックモードでも、CGA、MCGA、EGA、VGAなど(更にはPC-9801やFM-Rなど、同時代のMS-DOS搭載PCの大半)は、全て1行のビット(ピクセル)数が80の倍数である(XGAは1024x768だが、元となった8514/Aは正確には1040x768で、やはり80の倍数であった)
CMD.EXEやxtermなど端末エミュレータの起動時のデフォルトのウィンドウサイズは80桁に合わせたサイズである
以上の影響でWindowsなどOSの導入画面、ブルースクリーンなどは、1行80桁が基本である
投開票への使用[編集]
世界的に、大規模な選挙においては記号式投票が一般的であるため、その一手段としてパンチカードが投開票に使用されることもある。アメリカ合衆国の大統領選挙では1964年から採用する州や郡がある。1996年の時点では、登録有権者数において37.3%の地区でパンチカード式投票を採用していた[8]。これは有権者がパンチカードに孔を穿つ方式だが、穿孔装置を押す力が弱い場合などに「穿孔くず」が残るなどして、誤った読み取りや、それに基づく問題を生んだ。2000年のアメリカ大統領選挙では再集計の度に集計結果が異なり、以前からあったこのシステムへの疑義が改めて提示されることとなった。
(この場合の)パンチカードは不完全なデジタル情報を記録するものであり、「孔が空いている」「空いていない」を人間が判断する必要が生じたことなどが、その原因の一つとして挙げられている。また、穿孔くずによって機械が止まり、それによって無効票が多数出るなどの問題も発生した。
ハンドソート・パンチカード・システム[編集]
特殊な機械を必要としない手操作で用いる(ハンドソート)パンチカードが事務用・調査用に盛んに用いられた。これは周囲に多数の孔を開けたカードで、特定の孔の部分を切符のように切り取ることで情報を記録し、孔に棒を通すとそこが切られたカードだけが振り落とされ、これを繰り返すことでソートする(基数ソート)というものであった。
呼称[編集]
パンチカードは、IBMカードやホレリスカードとも呼ばれた。IBM自身は、文書で言及する際は最初に「IBMカード」[9]あるいは「パンチカード」と呼び、その後は単に「カード」と呼んでいた[10]。穴を開ける前のカードを "punched card" と呼ぶのは矛盾しているため、「タビュレーティングカード」あるいは「タブカード」という呼称も用いられていた[11]。
フォーマット[編集]
当初、用途ごとにデザインされたカードレイアウトが使われていた。パンチカードとそれを扱う機械が標準化されるのは1928年ごろのことである。長方形、円形、楕円形などの穿孔くずはチャド (chad) またはチップ(chip、IBMの用語)と呼ばれる。複数文字からなるデータや大きな数はカード内の連続する欄をフィールドとして格納される。一連のカードの集まりをデックまたはデッキ (deck) と呼ぶ。カードの上辺の左右どちらかの端を斜めに切るのが一般的で、それによってデック内のカード順序の間違いや反対側の端が切られた別のデックのカードが混じっている場合などを容易に検出できるようにしていた。カードには穴の位置が判別できるような印刷がされているのが一般的である。特定用途用に縦の線を印刷することでフィールドを区切ったり、フィールド名を印刷したカードも存在した[12]。
ホレリスのパンチカード[編集]
ハーマン・ホレリスは、機械式タビュレーティングマシンの一連の特許[14]を1889年に取得した。それらの特許では、記録媒体として紙テープと長方形のカードの両方を記述している。アメリカ合衆国特許第395,781号 で示しているカードはテンプレートが予め印刷されていて、穴は辺に沿って開けることになっており、車掌が使っていた改札鋏を穿孔に使うことを想定していた。カードの中央部分は文字などの書き込み用とされていた。そもそもホレリスは、車掌が切符の端に鋏を入れる位置で乗客を大まかに分類していたことから、この方式を思いついた。
私は西部に旅したとき、たしか punch photograph と呼ばれる切符を持っていた。車掌は乗客の明るい頭髪、黒い瞳、大きな鼻といった特徴に応じて切符の所定の位置に入鋏していた。見ての通り、私がやったのは punch photograph を全員ぶん作っただけのことだ [15]。
改札鋏を使う方法は単調で間違いやすかったので、ホレリスはカード全体を穿孔領域とし、パンタグラフ型のキーパンチ(穿孔器具)を発明した。また同時にカードにテンプレートを印刷するのをやめ、パンチ機側にマスターテンプレートを装備し、人間がそれを見てパンチ位置を決定できるようにした。ホレリスはいくつかのカードサイズを検討した。1890年の国勢調査の集計に対してホレリスが提案したシステムでは、「一般的なあらゆる用途に対応できる」ものとして3インチ×5.5インチのマニラアサの繊維で作った紙を示唆している[16]。
1890年の国勢調査で使われたカードは丸い穴を開けるもので、24欄12行の構成だった。このカードを使用する装置などの情報は、コロンビア大学のコンピュータ史についてのサイトにある[17]。ある時点から3.25×7.375インチ (82.550×187.325mm) が標準カードサイズとなった。これは当時の1ドル紙幣より若干大きく(1ドル紙幣が2014年現在の大きさになったのは1929年から)、コロンビア大学のサイトによれば、紙幣運搬用の箱にぴったり収まるようにこの大きさにしたのだという。
ホレリスの当初のシステムでは、用途によって場当たり的な符号化システムを採用していた。つまり、いくつかの穴が特定の意味、例えば性別や既婚か未婚かなどを表すようにしていた。当時のタビュレーティングマシンには最大40個のカウンタがあり、それぞれに1周で100までを表せるダイヤルが対応していて、2つ1組で、一方のダイヤルがカウントアップして一周したらもう一方のダイヤルが1目盛りだけカウントアップするようになっていた。それによって10,000までのカウントが可能である。集計作業に際しては、個々のカウンタが特定の穴の位置に対応付けられている。ホレリスはまた、リレー回路を使った穴の組合せのカウントも可能にしており、例えば既婚の女性のみをカウントするといったことが可能だった[16]。
その後符号化が標準化され、12行のうち下の10行を数字の0から9に対応させた。これにより連続する複数欄を使って大きな数値を表現できるようになり、単なるカウント以上のことが可能となった。Comrieの The application of the Hollerith Tabulating Machine to Brown's Tables of the Moon にはホレリスの45欄カードのイラストがある[18][19]。
IBMの80欄カードと文字コード[編集]
1928年、IBMは縦長の長方形の穴を採用し、80欄で各欄に12のパンチ位置があり、1欄(コラム)で1文字を表す形式のカードを設計した[20]。寸法は 187.325 mm × 82.55 mm(7 3⁄8×3 1⁄4インチ)である。材質は厚さ178μm(0.007インチ)の滑らかな紙である。重ねると、143枚で1インチの厚さ(約56枚で1cm)となる。1964年、IBMは四隅を丸めた形に変更した[21]。通常、2000枚が箱に収められた形か[22]、連続帳票形式で販売された。連続帳票型のカードは、事前に番号とそれに対応する穴を開けた状態で販売されており、例えば小切手など厳密な文書管理が必要な用途に使われた[23]。
1つの欄には数字の0から9に対応する部分と、カード上方のY-X-0ゾーン(12-11-0ゾーンとも呼ばれた)がある。数値のみを格納するだけなら各欄に1つだけ穴を開ければよい。数値の正負の符号は、最下位桁のY-Xゾーンで表し、正ならY、負ならXをパンチする。Y-Xゾーンは他にもマスターレコードであることを示すなど、様々な意味で使われた[24]。カードの最上端にパンチ内容に対応した文字も印刷できる。また、81番目の爛もあり、これはプログラムなどの複雑なカードをカード穿孔機・カード読取機が処理する場合に、穿孔・読取誤り防止用のチェックディジットとして使われた。
______________________________________________
/&-0123456789ABCDEFGHIJKLMNOPQR/STUVWXYZ
Y / x           xxxxxxxxx
X|   x                   xxxxxxxxx
0|    x                           xxxxxxxxx
1|     x        x        x        x
2|      x        x        x        x
3|       x        x        x        x
4|        x        x        x        x
5|         x        x        x        x
6|          x        x        x        x
7|           x        x        x        x
8|            x        x        x        x
9|             x        x        x        x
|________________________________________________
パンチカード - Wikipedia
