
ログは、システムの障害解析(デバッグ)や運用モニタリングに使うことを想定して、コンピュータに発生したイベントの履歴を時系列に沿ってファイルに出力したものである。有用なデータではあるが、扱いにくい面がある。そのため、複数のログを突き合わせて分析するといった活用が難しく、従来はもっぱら一つのログを単独で利用するにとどまるケースが多かった。
扱いにくい面とは、例えば「ログを一括して処理するには対象ログを各サーバーから収集しなければならない」「ログはサイズが大きくなりがちなので収集する場合は一部を抜き出すなどの加工が必要」といったことである。ログに新たなデータが書き込まれた際に、それを即座に取り出す手段が用意されていないこともそうだ。
こうしたログの扱いにくさは、「ログ収集基盤」と呼ばれるソフトウエアを使うことで克服可能である。ログ収集基盤は、複数のログを結び付けて分析する際などに必要な、対象ログを収集して加工し、データベースに取り込むといった処理を簡便に実施可能にする目的で開発されたもの。
この記事では、いま注目されている二つのログ収集基盤を取り上げ、よくあるケースでどちらの方が設定が容易で、適切な選択といえるのか探る。取り上げるのは、「Fluentd」(http://fluentd.org/)と「Flume NG*1」(https://cwiki.apache.org/FLUME/flume-ng.html)である(表1)。
*1 Apache Flumeはバージョン1.0.0を境にコードベースが大きく変更された。一般に、0.9.xまでの古いApache Flumeは「Flume OG (Original Generation)」、1.0.0以降の新しいApache Flumeは「Flume NG(New Generation)」と呼ばれる。
IT検証ラボ - ログ収集基盤のFluentdとFlume NG、どちらが使いやすい?:ITpro
