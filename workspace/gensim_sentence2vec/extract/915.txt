個々のレポート ディメンション(ページ、ブラウザ、画面の解像度など)に該当する値には、数多くの種類がある場合があります。1 つのディメンションに該当する固有の値の合計数は濃度と呼ばれます。たとえば、モバイル(または ga:isMobile)ディメンションには 2 つの値(「はい」か「いいえ」)が該当するため、このディメンションの濃度は 2 になります。このように、他のディメンションにもさまざまな種類の値があります。たとえば、ページ ディメンションでは、サイトに表示される各ページのさまざまな URL が値になります。
値の種類が多いディメンションは、高濃度ディメンションと呼ばれます。そして高濃度ディメンションを含むレポートは、Google アナリティクスのシステム上の制限に影響されることがあります。その場合はレポートに集約項目 [(other)] が作成され、システム制限を超えたデータがその項目に集約されます。この記事では、これらのシステム制限とレポートへの影響をご説明します。
この記事の内容:
処理済みテーブルによる高速レポート作成
Google アナリティクスでは、訪問テーブルを使って、プロパティでの各セッションの元データを保存します。また、一般的なレポートの事前集計データも処理済みテーブル(集計テーブルとも呼ばれます)に保存します。これらの処理済みテーブルを使うことで、よくリクエストされるレポートをサンプリングなしですばやく読み込むことを可能にしています。1
標準レポートは、さまざまな種類の処理済みテーブルを使って生成されます。個々の処理済みテーブルでは、種類ごとに異なる頻度(毎日、n 日おきなど)でデータがまとめられます。また、保存容量の上限はまとめるデータの量によって異なります。レポート生成に使われる処理済みテーブルの種類は、レポートで指定した期間によって決まります。
日次処理済みテーブルのデータ制限
日次処理済みテーブルに保存できる行は、標準の Google アナリティクスで最大 50,000 行、Google アナリティクス プレミアムで最大 75,000 行までです。つまり、どちらの処理済みテーブルでも、1 日に保存できる固有のディメンション値の組み合わせ2は、それぞれの上限数までに限られます。ディメンション値の組み合わせがテーブルの上限数を超えた場合は、上位の(数の多い)値の組み合わせ3が保存され、残りの値の組み合わせについては [(other)] 項目が作成されます。
多日処理済みテーブルのデータ制限
長い期間のレポートを生成する際には、生成処理を高速化するため、4 日分のデータを保存する多日処理済みテーブルが使われます。多日処理済みテーブルは対応する日次処理済みテーブルから作成され、標準 Google アナリティクスで最大 100,000 行、プレミアムで最大 150,000 行を保存できます。日次処理済みテーブルと同様、多日テーブルの中のディメンション値の組み合わせの数が規定数を超えると、Google アナリティクスは上位の組み合わせを保存し、残りの値の組み合わせには「その他」の項目を作成して対応します。
多くの場合ディメンション値(固有の URL やキャンペーンのキーワードなど)は、一定期間の間に繰り返し現れます。このため、一般的に多日処理済みテーブルの制限による影響を受けるのは、固有のコンテンツやキーワードの種類がかなり多いサイトに限られます。
レポートクエリの制限
レポートクエリの制限も、[(other)] 項目が作成される原因となるシステム制限の一つです。期間の長さに関わらず、レポートは最大 100 万行まで作られます。百万を超えた行は、「その他」の項目にロールアップされます。
システム制限がレポートに与える影響
上記のシステム制限を超える高濃度ディメンションを持つレポートを表示すると、一部の値が [(other)] 項目にまとめられてしまうため、そのディメンションのすべての値は表示されません。ただし、データは通常どおりトラッキングされており、単にレポートにすべてのデータを個別に表示することができないということです。
また、[(other)] にまとめられる値も変わる可能性があります。たとえば、「/categories/hats」ページは、3 月 1 日にはページビュー数が 3 回で 49,999 番目にアクセスの多かったページでしたが、3 月 2 日にはページビュー数が 1 回になり、50,001 番目に下がったとします。この 2 つの日付を範囲として含むレポートを Google アナリティクスに要求すると、3 月 2 日分のページビューは「その他」にロールアップされるので、"/categories/hats" URL は 3 ページビューと表示されます。
影響を受けないための回避策
[ページ] ディメンションに該当する固有の値の種類が多すぎると、レポートの [(other)] 項目が作られます。このため、この項目の数を減らすには、セッション ID や顧客 ID の動的な変数をクエリ パラメータの設定でフィルタ(除外)することをおすすめします。レポートからクエリ パラメータを除外するには、URL からクエリ パラメータを取り除きます。それには、[ビュー設定] の [サイト内検索の設定] で [クエリ パラメータ] オプションを編集します。
クエリ パラメータを抽出する際には、こちらのスプレッドシートをご利用ください。Google スプレッドシート用の Google アナリティクス API アドオンを使ったこのスプレッドシートでは、過去 7 日間のページのリストが照会され、すべての固有のクエリ パラメータがわかりやすいリストに抽出されます。そこで、このリストに目を通して除外するパラメータをマークし、それらを使ってカンマ区切りの文字列を作り、[ビュー設定] の [URL クエリ パラメータを除外] オプションに直接貼り付けます。
詳しい手順はスプレッドシートに記載されています。
レポートの [(other)] 項目 - アナリティクス ヘルプ
