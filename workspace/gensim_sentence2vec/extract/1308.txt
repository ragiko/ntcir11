とある処理があまりに時間かかっているので、phpMyAdminの「アドバイザ」を見てみたら、以下の様なアドバイスを頂きました。
事象:
クエリキャッシュが有効に機能していません。キャッシュのヒット率が低いです。
推奨設定:
query_cache_limit の増加を検討してください。
判断理由:
現在のクエリキャッシュのヒット率が 11.7% と、20% を下回っています。
判断値の算出方法:
Qcache_hits / (Com_select + Qcache_hits) * 100
判断基準:
value < 20
「キャッシュのヒット率が低い」ことの解決方法がquery_cache_limitの増加だってのがちょっと不可解。算出方法も、一見してキャッシュの上限が関わる様には見えない。
けど、とりあえず素直に従って
query_cache_limit: 128M
として、様子を見ます。
【MySQL】クエリキャッシュが有効に機能していません。キャッシュのヒット率が低いです。 - Fatal Error: Unexpected BLOG
