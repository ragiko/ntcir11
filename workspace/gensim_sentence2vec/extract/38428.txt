
【特許名】認識用言語処理装置製造方法
【産業上の利用分野】この発明は、音声認識や文字認識等の際に用いられる認識用言語処理装置に関する。
【従来の技術】従来、認識装置によって、入力された音声や文字列による文章や単語等を認識する際には、例えば次のようにしている。予め作成されてメモリに格納されている音声信号による音節や画像信号による文字等の標準パターンと、マイクロホンや画像読取装置から入力された音声信号や画像信号から抽出された音節や文字の特徴パターンとのマッチングを行って、複数の認識候補を得る。そして、得られた複数の認識候補を類似度順に展開して文節候補列や単語候補列を作成し、作成した総ての文節候補や単語候補に対して言語処理を行う。
【発明が解決しようとする課題】しかしながら、上記従来の認識方法においては、認識候補数が少ない場合には問題は無い。ところが、認識候補数が増加すると展開して得られる文節候補や単語候補の数が爆発的に増加するという問題がある。
例えば、音節毎に認識を行う音声認識装置の場合には、6音節を認識して夫々の音節に対して8つの認識候補が得られたとすると、その組み合わせによって得られる単語/文節候補数は86≒26万となる。この単語/文節候補夫々に対して言語処理を実施する場合には、例えば一つの単語/文節候補に対する言語処理が1msの時間でできたとしても260秒かかることになり、現実的なシステムが構築できない。
そこで、この発明の目的は、認識候補に対して高速に言語処理を実施できる認識用言語処理方法を提供することにある。
【課題を解決するための手段】上記目的を達成するため、第1の発明の認識用言語処理装置は、入力された音声信号あるいは画像信号に基づいて音声あるいは文字を認識する認識装置からの認識結果に言語処理を施して認識候補を得る認識用言語処理装置において、上記言語処理を実施する際に用いられる言語処理辞書と、上記認識装置からの認識結果の表記を所定のルールに従って上記認識結果の表記が属するカテゴリ数より少ないカテゴリ数の表記に変換する表記変換部と、上記言語処理辞書の見出し語の表記が上記ルールに従って変換されて上記見出し語の表記の属するカテゴリ数が圧縮されて成る圧縮辞書と、上記表記変換部によって表記が変換された上記認識結果に対して上記圧縮辞書を用いて言語処理を行って上記認識候補の予備選択を行う認識候補予備選択部と、上記認識候補予備選択部によって得られた予備選択認識候補を参照して上記認識結果のうち在り得ない認識結果を削除する認識結果削除部と、上記認識結果削除部によって在り得ない認識結果が削除された後の認識結果に対して上記言語処理辞書を用いて言語処理を行って最終的な上記認識候補を得る言語処理部を備えたことを特徴としている。
また、第2の発明の認識用言語処理装置は、入力された音声信号あるいは画像信号に基づいて音声あるいは文字を認識する認識装置からの認識結果に言語処理を施して認識候補を得る認識用言語処理装置において、上記認識装置からの認識結果の表記を所定のルールに従って上記認識結果の表記が属するカテゴリ数より少ないカテゴリ数の表記に変換する表記変換部と、上記言語処理を実施する際に用いられる言語処理辞書の見出し語の表記が上記ルールに従って変換されて上記見出し語の表記の属するカテゴリ数が圧縮されて成る圧縮辞書と、上記表記変換部によって表記が変換された上記認識結果に対して上記圧縮辞書を用いて言語処理を行って上記認識候補の予備選択を行う認識候補予備選択部と、上記認識候補予備選択部によって得られた予備選択認識候補を上記言語処理辞書の見出し語の連鎖に復元して上記認識候補を得る認識候補生成部と、上記認識装置からの認識結果を参照して上記認識候補生成部によって得られた認識候補の重みをトップダウン的に算出して最終的な上記認識候補を得るトップダウン処理部を備えたことを特徴としている。
また、第3の発明の認識用言語処理装置は、第2の発明の認識用言語処理装置において、上記認識装置からの認識結果は夫々に重み付けされた認識単位群から成ると共に、上記トップダウン処理部によって上記認識候補の重みを算出するに際して上記認識候補を構成する複数の認識単位中に上記認識結果に無い認識単位がある場合には、当該認識単位に所定の重みを付加して上記認識結果に自動的に追加する認識結果追加部を備えたことを特徴としている。
また、第4の発明の認識用言語処理装置は、第1乃至第3のうちいずれか一つの発明の認識用言語処理装置において、上記表記変換部が上記認識装置からの認識結果の表記を変換する際に使用する上記所定のルールは、上記認識装置による認識に誤認識のパターンが存在する場合には当該パターンに当て嵌まる認識結果の表記を変換した際に1つのカテゴリに属するような表記に変換されるルールであることを特徴としている。
【作用】第1の発明では、認識装置に音声信号あるいは画像信号が入力されると、この音声信号あるいは画像信号に基づいて音声あるいは文字が認識されて認識結果が出力される。そして、上記認識装置から出力された認識結果の表記が、所定のルールに従って上記認識結果の表記が属するカテゴリ数より少ないカテゴリ数の表記に表記変換部によって変換される。
そうすると、上記表記変換部によって表記が変換された後の上記認識結果に対して、認識候補予備選択部によって、言語処理を実施する際に用いられる言語処理辞書の見出し語が上記所定のルールに従って変換されて成る圧縮辞書を用いて言語処理が行われる。こうして、上記認識候補の予備選択が行われて予備選択認識候補が得られる。
その後、認識結果削除部によって、上記予備選択認識候補を参照して、上記認識結果のうち在り得ない認識結果が削除される。そして、在り得ない認識結果が削除されて構成要素の少なくなった認識結果に対して、言語処理部によって、上記言語処理辞書を用いて言語処理が実施されて最終的な認識候補が得られる。
このように、上記言語処理辞書および認識結果をより少ないカテゴリ数の表記に予め変換することによって、この表記変換後の認識結果に対する上記圧縮辞書を用いた言語処理が非常に短時間に実施される。さらに、こうして認識候補の予備選択を行った結果得られた予備選択認識候補を参照して上記認識結果のうち在り得ない認識結果を削除して認識結果の構成要素を少なくすることによって、以後言語処理部によって実施される言語処理が非常に短時間に実施される。
また、第2の発明では、上記第1の発明と同様にして予備選択認識候補が得られる。そうすると、認識候補生成部によって、上記予備選択認識候補が上記言語処理辞書の見出し語の連鎖に復元されて認識候補が生成される。そして、トップダウン処理部によって、上記認識結果が参照されて、上記生成された認識候補の重みがトップダウン的に算出されて最終的な認識候補が得られる。
このように、上記言語処理辞書および認識結果をより少ないカテゴリ数の表記に予め変換することによって、この表記変換後の認識結果に対する上記圧縮辞書を用いた言語処理が非常に短時間に実施される。以後は、こうして得られた予備選択認識候補に基づいて生成された上記認識候補の重みがトップダウン的に算出されるだけであるから、ボトムアップ的な言語処理を必要とはせず。最終的な認識候補が非常に短時間に得られる。
また、第3の発明では、上記認識装置から夫々に重み付けされた認識単位群から成る認識結果が出力される。そして、上記トップダウン処理部によって上記認識候補の重みが算出されるに際して上記認識候補を構成する複数の認識単位中に上記認識結果に無い認識単位がある場合には、認識結果追加部によって当該認識単位に所定の重みが付加されて上記認識結果に自動的に追加される。こうすることによって、上記認識候補がリジェクトされる場合がなく、上記認識候補生成部によって生成された総ての認識候補の重みがトップダウン的に算出される。
また、第4の発明では、上記認識装置による認識に存在する誤認識のパターンに当て嵌まる認識結果の表記が1つのカテゴリに属するような表記に変換されるルールに基づいて、上記表記変換部によって上記認識装置からの認識結果の表記が変換される。こうして、上記認識結果が、認識装置による認識誤りの傾向に応じて効率良く表記変換される。
【実施例】以下、この発明を図示の実施例により詳細に説明する。本実施例においては、音節を認識単位とし、文節を単位として言語処理を行う場合に基づいて説明する。
<第1実施例>図1は本実施例における認識用言語処理装置のブロック図を示す。入出力部2は、入力された音声信号を音声認識装置10に送出する一方、音声認識装置10からの音節単位の認識結果である音節候補を受け取ってラティス作成部3に出力する。ラティス作成部3は入力された音節候補から音節ラティスを作成する。
縮小表記変換部4は、ラティス作成部3からの音節ラティスを受け取り、音節ラティスを構成する各音節候補の表記を所定のルールに従って縮小表記に変換して縮小表記音節ラティスを得る。上記ルールは、音節ラティスを構成する音節候補の表記(以下、この表記を元表記と言う)を後に詳述するような母音を表す表記(以下、この表記を縮小表記と言う)に変換するルールである。尚、この場合のルールは、元表記と縮小表記との関係を表すテーブルにテーブル化して、メモリに格納しておいてもよい。
縮小表記言語処理部5は、上記縮小表記変換部4によって得られた縮小表記音節ラティスを展開し、縮小表記辞書6を用いて縮小表記言語処理を実施する。そして、候補削除部7は、縮小表記言語処理部5からの縮小表記言語処理の結果を参照して、ラティス作成部3で作成された音節ラティスを構成する音節候補のうちから在り得ない音節候補を削除する。以後、元表記言語処理部8は、この在り得ない音節候補が削除されて構成要素が少なくなった音節ラティスを展開して文節候補列を作成し、元表記辞書9を用いて元表記言語処理を実施するのである。
こうして元表記言語処理に成功した文節候補列は、入出力部2を介して外部装置(図示しない認識結果を得ようとする装置)に出力される。
次に、上記元表記辞書9および縮小表記辞書6の内容、上記ラティス作成部3で作成される音節ラティスの内容、上記縮小表記変換部4,縮小表記言語処理部5,候補削除部7および元表記言語処理部8によって実施される各処理について詳細に説明する。
図2は、本実施例において扱う上記言語処理辞書としての元表記辞書9の内容を示す。この元表記辞書9には3つの接頭語,5つの自立語および3つの付属語が登録されている。そして、総ての自立語はその前に接頭語が付く可能性を有する一方、その後ろには付属語が付く可能性を有しているものとする。
図3は、5音節「国民の」の発声を認識した結果、ラティス作成部3によって得られる音節ラティスを示す。但し、括弧内の数字は各音節候補のマッチング距離(以下、単に距離と言う)を示す。この例においては、各音節に対して3−5の音節候補が存在し、それらの音節候補を言語処理のために展開すると合計720の文節候補列が得られる。
図4は、図3に示す音節ラティスを展開して得られる上記720の文節候補列に対して、図2に示す元表記辞書9を用いて元表記言語処理を実施した場合に得られる認識結果列を示す。ここで言う元表記言語処理とは一般的な仮名漢字変換の処理を指しており、仮名漢字変換に失敗した認識結果列はリジェクトされる。尚、図4においては、仮名漢字変換に成功した認識結果列を距離の小さい順に並べてある。この距離は、認識結果列を構成する各音節候補の距離(図3参照)の合計値である。
この発明は、図3に示す音節ラティス(認識結果)から図2に示す元表記辞書9を用いて図4に示す認識結果列を如何に早く得るかに関するものである。
図5は、この発明の特徴である上記圧縮辞書としての縮小表記辞書6の内容を示す。ここで言う縮小表記とは、認識結果として得られる音節候補をより少ない表記に変換したものを言う。すなわち、本実施例では、「あ/か/さ/た/な/…」の合計111種類の音節を母音が同じ音節毎にグループ化し、母音/あ/のグループに属する音節には縮小表記/A/を与える。以下同様にして、母音/い/のグループには縮小表記/I/を与え、母音/う/のグループには縮小表記/U/を与え、母音/え/のグループには縮小表記/E/を与え、母音/お/のグループには縮小表記/O/を与える。また、撥音/ん/には縮小表記/X/を与える。こうして、111種類の音節は/A/,/I/,/U/,/E/,/O/および/X/の6種類の縮小表記で表されて、元表記のカテゴリ数111"が6"に圧縮される。
上記縮小表記辞書6は、図2に示す元表記辞書9における各見出し語をより少ない縮小表記(本実施例の場合には母音列と発音を表す上記6種類の縮小表記)で表したものである。例えば、図2における元表記辞書9の自立語辞書には5種類の見出し語「こくみん」,「こうみん」,「とうみん」,「ふにん」及び「ふみん」が登録されているが、縮小表記に置き換えた段階で「こくみん」,「こうみん」及び「とうみん」は同じ表記「OUIN」となり、「ふにん」及び「ふみん」は同じ表記「UIX」となる。その結果、縮小表記辞書6における自立語辞書の見出し語は2種類に減少する。
実際には、上記元表記辞書9の各項目には接続関係や活用種類等を示す各種フラグが付いているために、単に縮小表記が同じであるというだけで見出しを統合することはできない。そのような場合であっても新たなフラグを新設したり、一つの見出し語に対して複数のフラグ領域を持たせるなどの操作を行うことによって、同様の見出し語の統合は可能である。
図6は、図3に示す音節ラティスに対して、縮小表記変換部4によって縮小表記変換を行った結果得られる縮小表記音節ラティスである。括弧内には、同一縮小表記になった元の音節が有する距離のうち最小の距離を記述する。
図7は、図6に示す縮小表記音節ラティスに対して、図5に示す縮小表記辞書6を用いて縮小表記言語処理部5によって縮小表記言語処理を実施して得られる結果である。図7においては、図6に示す縮小表記音節ラティスの総ての組み合わせから得られる縮小表記文節候補列を列記し、縮小表記言語処理に成功した縮小表記文節候補列にはを付す一方、縮小表記言語処理に失敗してリジェクトされる縮小表記文節候補列には×を付している。
ここで、本実施例の場合には、図6に示すように、縮小表記音節ラティスを構成する音節候補数は、第1音節は1",第2音節は2",第3音節は1",第4音節は2"および第5音節は2"であるから、縮小表記音節ラティスの総ての組み合わせから得られる縮小表記文節候補列数は8(=1×2×1×2×2)"であり、図3に示す音節ラティスを展開して得られる文節候補列数720(=4×4×3×3×5)"に比較して大幅に減少されている。したがって、上記縮小表記辞書6に登録されている見出し語が少なくなっていることと相俟って、上記縮小表記文節候補列に対して縮小表記言語処理を実施する際の処理回数も大幅に縮小できるのである。また、縮小表記言語処理に成功した文節候補列数は2"であり、図4に示す縮小表記処理に因らない場合の文節候補列数9"よりも少なく、以後の処理を容易にする。
図8は、上記縮小表記言語処理に成功した2つの縮小表記文節候補「OUIXO」および「OUIXE」に対応する元表記辞書(図2参照)9の見出し語の組み合わせを示す。括弧内に列挙した文節がその左側に記載した縮小表記文節から得られる総ての文節である。
次に、上述のようにして得られた2つの縮小表記文節候補から元表記による文節候補を求めるのであるが、この処理は次のようにして行う。すなわち、先ず図3に示す音節ラティスを構成する音節候補の中から、図7に示す縮小表記文節候補を作成することができない音節候補を候補削除部7によって削除する。そして、残った音節候補から成る音節ラティスを展開して文節候補を得ることによって行うのである。換言すれば、上記縮小表記文節候補を作成することは文節候補列の予備選択を行うことを意味し、縮小表記言語処理部5は上記認識候補予備選択部である。
図9は、図3に示す音節ラティスから図7に示す縮小表記言語処理後の縮小表記文節候補を作成できない(すなわち、在り得ない)音節候補を削除した結果を示す。この在り得ない音節候補の削除は、次のようにして行われる。図3(図9)に示す音節ラティスにおける第1音節の第1位音節候補は/こ/であるからその縮小表記は/O/である。一方、図7に示す縮小表記文節候補列における第1音節の縮小表記は/O/であり、両縮小表記は一致する。したがって、上記音節候補/こ/は在り得る音節候補であるとして採択する(図9においてはを付加)。以下同様に、第1音節の第2位音節候補以降の総ての音節候補の縮小表記と縮小表記文節候補列の対応する音節の縮小表記とを順次比較する。
その際に、上記音節ラティスの音節候補と縮小表記文節候補列の対応する音節との縮小表記が異なる場合には、その音節候補は在り得ない音節候補であるとしてリジェクトする(図9においては×を付加)。但し、上記縮小表記文節候補列における第5音節の場合には、その縮小表記が/O/と/E/の2通り許されるから、音節ラティスにおける第5音節の縮小表記が/O/あるいは/E/であればその音節候補は在り得ると判定する。
ここで、図9に示すように、上記得られた2つの縮小表記文節候補「OUIXO」および「OUIXE」に寄与しない音節候補を削除した後の音節ラティスを構成する音節候補数は、第1音節は4",第2音節は3",第3音節は3",第4音節は1"および第5音節は5"であるから、図9に示す音節ラティスの総ての組み合わせから得られる文節候補列数は180(=4×3×3×1×5)"であり、図3に示す音節ラティスを展開して得られる文節候補列数720"に比較して1/4に減少されている。したがって、上記元表記言語処理部8によって実施される元表記言語処理回数も大幅に縮小できるのである。
図10は、図9に示す音節ラティスを展開して得られた文節候補列に、図2に示す元表記辞書9を用いて元表記言語処理部8によって元表記言語処理を行った結果を形態素解析結果をも含めて表記したものである。尚、この発明と直接は関係ないので詳述は避けるが、上記形態素解析も一般的な仮名漢字変換処理(言語処理)内で実施される。図中に示す//"の部分は、接頭語−自立語連鎖における接頭語と自立語との境界あるいは自立語−接尾語連鎖における自立語と接尾語との境界を示す。
以後は、図10に示すように得られた文節候補列が、距離の近い順に表示されて目的とする文節候補がオペレータによって指示選択されることになる。
次に、本実施例による言語処理時間を従来法による言語処理時間と比較してみる。ここで、言語処理速度の仮定として、1つの文節候補を処理する速度を1単位/候補とする一方、文字を処理する速度を0.1単位/文字として、処理時間を単位"で表すものとする。また、使用する言語辞書は図2に示す元表記辞書9および図5に示す縮小表記辞書6であり、認識の結果得られた音節ラティスは図3に示す音節ラティスであるとする。
〔従来法(音節ラティスを総て展開して言語処理を行う)〕
言語処理=1単位/候補×720候補=720単位合計=720単位〔本実施例〕
音節ラティスの縮小表記=0.1単位/文字×19文字=1.9単位縮小表記言語処理=1単位/候補×8候補=8単位音節ラティスから在り得ない音節候補を削除=0.1単位/文字×19文字=1.9単位言語処理=1単位/候補×180候補=180単位合計=191.8単位すなわち、本実施例によれば、言語処理時間を従来法の1/4強に短縮できるのである。
図11は、上記音声認識装置10および認識用言語処理装置1によって実施される音声認識/言語処理動作のフローチャートである。以下、図1および図11に従って、音声認識/言語処理動作について順を追って説明する。
ステップS1で、上記入出力部2から入力された音声信号に対して音声認識装置10によって認識処理が実施されて、音節単位で認識される。ステップS2で、上記ステップS1における認識結果に基づいて、ラティス作成部3によって、図3に示すような音節ラティスが作成される。
ステップS3で、上記ステップS2において得られた音節ラティスが縮小表記変換部4によって縮小表記変換されて、図6に示すような縮小表記音節ラティスが作成される。ステップS4で、上記ステップS3において作成された縮小表記音節ラティスが縮小表記言語処理部5によって展開され、さらに得られた縮小表記文節候補列に対して縮小表記辞書6を用いて縮小表記言語処理が実施される。
ステップS5で、上記候補削除部7によって、上記ステップS4において縮小表記言語処理に成功した縮小表記文節候補(図7において、印が付記された縮小表記文節候補列)を参照して、上記ステップS2において作成された音節ラティスの中から在り得ない音節候補が削除される。ステップS6で、上記ステップS5において在り得ない音節候補が削除された音節ラティスが元表記言語処理部8によって展開され、さらに得られた文節候補列に対して元表記辞書9を用いて元表記言語処理が実施される。こうして、多くの音節候補の組合せからなる文節候補列の中から少ない時間で確からしい文節候補列を得ることができる。
上述のように、本実施例においては、縮小表記変換部4によって音節ラティスを縮小表記に変換し、得られた縮小表記音節ラティスに基づいて縮小表記言語処理部5によって縮小表記言語処理を実施して縮小表記文節候補列を得る。このように、認識結果を縮小表記によって一旦少ない表記で表して少ない時間で言語処理(縮小表記言語処理)を行う。そして、縮小表記言語処置に成功した縮小表記文節候補列を参考にして、元表記による音節ラティスの中から在り得ない音節候補を候補削除部7によって削除して音節ラティスを構成する音節候補数を少なくする。
したがって、以後、上記元表記言語処理部8によって実施される音節ラティスの展開および元表記言語処理が、少ない音節候補から成る音節ラティスによって短時間に実行できるのである。
<第2実施例>図12は本実施例における認識用言語処理装置のブロック図を示す。入出力部,ラティス作成部,縮小表記変換部,縮小表記言語処理部および縮小表記辞書は、図1に示す認識用言後処理装置1と同じであるから図1と同じ番号を付して簡単に説明する。入出力部2は音声認識装置10からの音節候補をラティス作成部3に送出し、ラティス作成部3は入力された音節候補からラティスを作成する。縮小表記変換部4はラティス作成部3からの音節ラティスの表記を所定のルールに従って縮小表記に変換する。縮小表記言語処理部5は、縮小表記変換部4によって得られた縮小表記音節ラティスを展開して縮小表記言語処理を実施する。
解析部12は、縮小表記言語処理部5からの縮小表記文節候補列に基づいて文節候補列の構造を解析し、縮小表記による単語連鎖を作成する。元表記変換部13は、解析部12によって作成された縮小表記による単語連鎖を、その縮小表記見出し語に該当する元表記単語に変換する。トップダウン処理部14は、上記ラティス作成部3によって作成された音節ラティスと元表記変換部13によって得られた元表記単語とに基づいて、後に詳述するようにしてトップダウン評価を行う。
スコア計算部15は、上記トップダウン処理部14によるトップダウン評価結果および解析部12からの解析結果に基づいて、文節候補単位でのスコアを算出する。そうすると、ソーティング部16は、スコア計算部15からのスコアが付加された文節候補列をスコアの低い順にソーティングする。
こうしてスコアの低い順に並べられた文節候補列は、入出力部2を介して外部装置(図示しない認識結果を得ようとする装置)に出力される。
次に、上記解析部12,元表記変換部13,トップダウン処理部14およびスコア計算部15によって実施される各処理について詳細に説明する。尚、縮小表記辞書6の内容、上記ラティス作成部3で作成される音節ラティスの内容、上記縮小表記変換部4および縮小表記言語処理部5によって実施される各処理については、既に第1実施例において詳細に説明したので省略する。
図13は、上記縮小表記言語処理部5での縮小表記言語処理の結果図7に示すように得られた縮小表記文節候補列を解析部12によって解析した結果に、元表記変換部13によって変換した元表記単語候補を併せて表示した図である。すなわち、解析部12および元表記変換部13によって上記認識候補生成部を構成するのである。
図14および図15は、上記トップダウン処理部14によるトップダウン評価結果を示す。図14は図13に示す自立語「OUIX」の部分に対するトップダウン評価結果である。トップダウン評価とは、例えば縮小表記「OUIX」に該当する元表記単語候補「こくみん」,「こうみん」および「とうみん」に対して言語処理をトップダウン的に行うのである。これに対して従来から実施されている言語処理はボトムアップ的言語処理であり、音節候補の総ての組合せから得られる総ての文節候補に対して言語処理を実施するのである。
上記トップダウン評価を詳しく述べれば、先ず、図14(a)に示す「こくみん」の場合には、第1音節は「こ」であり、図3に示す音節ラティスにおける第1音節の音節候補から、第1音節の距離は1.0"であると求められる。以下同様にして、第2音節,第3音節および第4音節の距離が求められる。そして、このようにして求められた第1音節−第4音節の距離を加算して単語候補「こくみん」の距離4.2"を得る。同様にして、単語候補「こうみん」及び「とうみん」に対するトップダウン評価を実施する。但し、図14(b)に示す単語候補「こうみん」の場合には第2音節「う」が図3に示す音節ラティスに存在せず、また、図14(c)に示す単語候補「とうみん」の場合には第1音節「と」および第2音節「う」が音節ラティスに存在しない。したがって、上記距離が算出できないのでリジェクトされる。
図15は図13における他の部分に対するトップダウン評価結果を示し、図15(a)は接頭語「O」の部分に対するトップダウン評価結果であり、図15(b)は自立語「UIX」の部分に対するトップダウン評価結果であり、図15(c)は接尾語「O」および「E」の部分に対するトップダウン評価結果である。
図16は、上記解析部12による文節候補の構造解析結果,元表記変換部13による元表記変換結果およびトップダウン処理部14によるトップダウン評価結果をまとめて表記した図である。
図17は、上記スコア計算部15によって、図16に示す各単語候補を組合せて作成した各文節候補を構成する単語候補の距離を加算してスコアを算出し、上記ソーティング部16によって、各スコアの小さい順にソーティングした結果の文節候補を示す。
次に、本実施例による言語処理時間を従来法による言語処理時間と比較してみる。ここで、言語処理速度の仮定は上述の第1実施例の場合と同じである。さらに、使用する言語辞書は図6に示す縮小表記辞書6であり、認識の結果得られた音節ラティスは図3に示す音節ラティスであるとする。
〔従来法(音節ラティスを総て展開して言語処理を行う)〕
言語処理=1単位/候補×720候補=720単位合計=720単位〔本実施例〕
音節ラティスの縮小表記=0.1単位/文字×19文字=1.9単位縮小表記言語処理=1単位/候補×8候補=8単位トップダウン処理=1単位/候補×10候補=10単位スコア計算=1単位/候補×9候補=9単位合計=28.9単位すなわち、本実施例によれば、言語処理時間を従来法の1/25強に短縮できるのである。
図18は、上記音声認識装置10および認識用言語処理装置11によって実施される音声認識/言語処理動作のフローチャートである。以下、図12および図18に従って、音声認識/言語処理動作について順を追って説明する。
ステップS11で、上記入出力部2から入力された音声信号に対して音声認識装置10によって認識処理が実施されて、音節単位で認識される。ステップS12で、上記ステップS11における認識結果に基づいて、ラティス作成部3によって、図3に示すような音節ラティスが作成される。
ステップS13で、上記ステップS12において得られた音節ラティスが縮小表記変換部4によって縮小表記変換されて、図6に示すような縮小表記音節ラティスが作成される。ステップS14で、上記ステップS13において作成された縮小表記音節ラティスが縮小表記言語処理部5によって展開され、さらに得られた縮小表記文節候補列に対して縮小表記辞書6を用いて縮小表記言語処理が実施される。
ステップS15で、上記解析部12によって解析処理が実施される。すなわち、上記ステップS14において縮小表記言語処理に成功した縮小表記文節候補における同一構造の部分がまとめられて共通化され、縮小表記による単語連鎖が得られる。ステップS16で、上記元表記変換部13によって、上記ステップS15において得られた縮小表記による単語連鎖が元表記による単語連鎖に変換される。尚、この元表記変換は縮小表記による単語連鎖と元表記単語連鎖とを対応付けた復元辞書(図示せず)を用いて行われる。
ステップS17で、上記トップダウン処理部14によって、上記ステップS12において求められた音節ラティスを参照して、上記ステップS16において得られた元表記による各単語に対してトップダウン的に言語処理が実施される。そして、成立する元表記単語の距離が求められる。ステップS18で、上記ステップS15において求められた縮小表記による単語連鎖と上記ステップS17において求められた各元表記単語の距離とに基づいて、上記スコア計算部15によって元表記文節候補のスコアが計算される。ステップS19で、上記ソーティング部16によって、上記ステップS18において得られたスコアが付加された縮小表記文節候補をスコアの小さい順に並べ変えて、最終的な認識結果が得られる。こうして、多くの音節候補の組合せからなる文節候補列の中から少ない時間で正しい認識結果を得ることができる。
上述のように、本実施例においては、縮小表記変換部4によって音節ラティスを縮小表記に変換し、得られた縮小表記音節ラティスに基づいて縮小表記言語処理部5によって縮小表記言語処理を実施して縮小表記文節候補列を得る。このように、認識結果を縮小表記によって一旦少ない表記で表して少ない時間で言語処理(縮小表記言語処理)を行う。そして、上記解析部12によって、縮小表記言語処置に成功した縮小表記文節候補列の構造を解析し、この解析結果を元表記変換部13によって元表記に変換する。こうして、言語処理を実施する元表記単語候補列を予め特定する。
したがって、以後、上記元表記単語候補に対する言語処理は、上記トップダウン処理部14によってトップダウン的に少ない処理で短時間に実施できるのである。
上述の第1実施例および第2実施例においては、上記音声認識装置10による音声認識結果に基づいてラティス作成部3によって作成された音節ラティスを、縮小表記変換部4によって縮小表記音節ラティスに変換するようにしている。ここで、上記縮小表記に変換するということは、元表記をこの元表記よりも少ないカテゴリ数の表記に変換するということである。
したがって、変形例として、最初に粗い認識を行うことでおおざっぱな認識結果(すなわち、縮小表記のような少ないカテゴリ数での認識結果)を得て、その結果を言語処理することによって上記縮小表記言語処理部5による縮小表記言語処理と同じ効果を得ることも可能である。この場合には、その後に詳細な認識処理を行う必要があり、2段階の認識方式となる。
<第3実施例>この実施例は、第2実施例におけるトップダウン評価の結果リジェクトされる単語候補が存在する場合には、この単語候補がリジェクトされるのを防止するものである。
上述の第2実施例においては、上記トップダウン処理部14によって単語候補「こうみん」に対するトップダウン処理を実施した際に、第2音節「う」は図3に示す音節ラティスに存在しない。そこで、本実施例においては、図19に示すように、上記音節ラティスにおける第2音節に音節候補「う」を予め定められた距離3.0"を付加して登録するのである。こうして、単語候補「こうみん」を含む文節候補が認識候補から漏れることを防止するのである。
上記新たな音節候補に付加する予め定め得られた距離としては、単純に大きな値を与えたり、総ての音節を第1位の音節候補とした場合の類似音節との間の距離を表す距離テーブルを予め用意し、音節ラティスの該当する音節位置における第1位の音節候補と新たに付加したい音節候補との距離を上記距離テーブルから得たりする方法がある。
<第4実施例>本実施例は、上記縮小表記に変換する際に、同じ音節の認識候補として現れ易い音節が同一の縮小表記となるように縮小表記に変換することによって、以後の言語処理の処理時間の軽減を図るものである。
例えば、図20(a)に示すように、さ"行,ざ"行およびちゃ"行の元表記には縮小表記/S/を与え、縮小表記/S/に変換される元表記以外の元表記におけるあ"段には縮小表記/A*/を与え、い"段に縮小表記/I*/を与え、う"段には縮小表記/U*/を与え、え"段には縮小表記/E*/を与え、お"段には縮小表記/O*/を与え、ん"には縮小表記/X/を与えるように、縮小表記付与ルールを設定する。このような縮小表記付与ルールは、音節/さ/を認識した際に得られる音節候補には/し/や/す/が現れることが多いという誤認識傾向から作成された縮小表記付与ルールである。
そうすることによって、例えば音声認識の結果得られたある音節の音節候補が図21(a)に示すように/さ/,/ざ/,/す/,/せ/,/そ/,/ちゃ/および/だ/である場合には、図20(b)に示すような第1実施例−第3実施例における縮小表記による縮小表記変換によれば図21(c)に示すように4つの縮小表記/A/,/U/,/E/および/O/に変換される。これに対して、上記本実施例における縮小表記による縮小表記変換によれば、図21(b)に示すように2つの縮小表記/S/および/A*/に減少できる。こうして、本実施例によれば効率よい縮小表記変換が可能となる。
尚、従来から行われている前処理として、認識結果ラティスを展開して文節候補や単語候補等を作成する際に、予め求められている2音節間や3音節間の遷移確率を使用して、ほとんど在り得ない認識候補の組み合わせを除去する処理がある。このような前処理をこの発明に利用しても何等差し支えないまた、この発明における音声認識/言語処理動作のアルゴリズムは図11あるいは図18に示すアルゴリズムに限定されるものではない。また、上記各実施例においては文節候補単位で言語処理を実施しているが、この発明はこれに限定されるものではなく、単語や文章単位であっても何等差し支えない。また、上記各実施例においては音声信号を音節単位で認識する際を例に説明しているが、この発明はこれに限定されるもではない。例えば、HMM(ヒドンマルコフモデル)を用いた音素認識等を用いて音素単位で認識してもよい。
また、上記各実施例においては音声信号を認識して文節候補列を得る際を例に説明している。しかしながら、この発明は、画像信号を文字/記号単位で認識して文節候補列や単語候補列を作成する場合にも適応できる。
【発明の効果】以上より明らかなように、第1の発明の認識用言語処理装置は、表記変換部によって、認識装置からの認識結果の表記をこの表記が属するカテゴリ数より少ないカテゴリ数の表記に所定のルールに従って変換し、認識候補予備選択部によって、上記表記変換部で表記が変換された上記認識結果に対して、言語処理を実施する際に用いられる言語処理辞書の見出し語が上記所定のルールに従って変換されて成る圧縮辞書を用いて言語処理を行って予備選択認識候補を得、認識結果削除部によって、上記予備選択認識候補を参照して上記認識結果のうち在り得ない認識結果を削除し、言語処理部によって、構成要素の少なくなった認識結果に対して上記言語処理辞書を用いて言語処理を実施して最終的な認識候補を得るようにしたので、上記圧縮辞書を用いた言語処理は少ないカテゴリ数の表記に変換することで短時間に実施でき、言語処理辞書を用いた言語処理は認識結果の構成要素を少なくすることで短時間に実施できる。
したがって、この発明によれば、認識結果に対して高速に言語処理を実施できる認識用言語処理装置を提供できる。
また、第2の発明の認識用言語処理装置は、上記第1の発明の認識用言語処理装置と同様にして予備選択認識候補を得た後、認識候補生成部によって、上記予備選択認識候補を上記言語処理辞書の見出し語の連鎖に復元して認識候補を生成し、トップダウン処理部によって、上記認識結果を参照して上記生成された認識候補の重みをトップダウン的に算出することによって最終的な認識候補を得るようにしたので、上記圧縮辞書を用いた言語処理部は少ないカテゴリ数の表記に変換することで短時間に実施できる。さらに、上記予備選択認識候補に基づいて生成された認識候補の重みはトップダウン的に算出できるのでボトムアップ的な言語処理を必要とはせず、最終的な認識候補を非常に短時間に得ることができる。
したがって、この発明によれば、認識結果に対してより高速に言語処理を実施できる認識用言語処理装置を提供できる。
また、第3の発明の認識用言語処理装置は、上記認識装置からの認識結果は夫々に重み付けされた認識単位群から成り、上記トップダウン処理部で上記認識候補の重みを算出するに際して上記認識候補を構成する複数の認識単位中に上記認識結果に無い認識単位がある場合には、認識結果追加部によって、当該認識単位に所定の重みを付加して上記認識結果に自動的に追加するようにしたので、正しい認識候補がリジェクトされる場合がなく、上記認識候補生成部によって生成された総ての認識候補の重みがトップダウン的に算出できる。
したがって、この発明によれば、認識結果に対してより高速に且つ正しい言語処理を実施できる認識用言語処理装置を提供できる。
また、第4の発明の認識用言語処理装置は、上記表記変換部が上記認識装置からの認識結果の表記を変換する際に使用する上記所定のルールは、上記認識装置による認識に存在する誤認識のパターンに当て嵌まる認識結果の表記が1つのカテゴリに属するような表記に変換されるルールであるので、上記認識結果は認識装置による認識誤りの傾向に応じてよりカテゴリ数の少ない表記に効率良く変換される。
したがって、この発明によれば、認識結果に対して更に高速に言語処理を実施できる認識用言語処理装置を提供できる。
【特許請求の範囲】
【請求項1】 入力された音声信号あるいは画像信号に基づいて音声あるいは文字を認識する認識装置からの認識結果に言語処理を施して認識候補を得る認識用言語処理装置において、上記言語処理を実施する際に用いられる言語処理辞書と、上記認識装置からの認識結果の表記を、所定のルールに従って上記認識結果の表記が属するカテゴリ数より少ないカテゴリ数の表記に変換する表記変換部と、上記言語処理辞書の見出し語の表記が上記所定のルールに従って変換されて、上記見出し語の表記の属するカテゴリ数が圧縮されて成る圧縮辞書と、上記表記変換部によって表記が変換された上記認識結果に対して、上記圧縮辞書を用いて言語処理を行って上記認識候補の予備選択を行う認識候補予備選択部と、上記認識候補予備選択部によって得られた予備選択認識候補を参照して、上記認識結果のうち在り得ない認識結果を削除する認識結果削除部と、上記認識結果削除部によって在り得ない認識結果が削除された後の認識結果に対して、上記言語処理辞書を用いて言語処理を行って最終的な上記認識候補を得る言語処理部を備えたことを特徴とする認識用言語処理装置。
【請求項2】 入力された音声信号あるいは画像信号に基づいて音声あるいは文字を認識する認識装置からの認識結果に言語処理を施して認識候補を得る認識用言語処理装置において、上記認識装置からの認識結果の表記を、所定のルールに従って上記認識結果の表記が属するカテゴリ数より少ないカテゴリ数の表記に変換する表記変換部と、上記言語処理を実施する際に用いられる言語処理辞書の見出し語の表記が上記所定のルールに従って変換されて、上記見出し語の表記の属するカテゴリ数が圧縮されて成る圧縮辞書と、上記表記変換部によって表記が変換された上記認識結果に対して、上記圧縮辞書を用いて言語処理を行って上記認識候補の予備選択を行う認識候補予備選択部と、上記認識候補予備選択部によって得られた予備選択認識候補を上記言語処理辞書の見出し語の連鎖に復元して上記認識候補を得る認識候補生成部と、上記認識装置からの認識結果を参照して、上記認識候補生成部によって得られた認識候補の重みをトップダウン的に算出して、最終的な上記認識候補を得るトップダウン処理部を備えたことを特徴とする認識用言語処理装置。
【請求項3】 請求項2に記載の認識用言語処理装置において、上記認識装置からの認識結果は夫々に重み付けされた認識単位群から成ると共に、上記トップダウン処理部によって上記認識候補の距離を算出するに際して、上記認識候補を構成する複数の認識単位中に上記認識結果に無い認識単位がある場合には、当該認識単位に所定の重みを付加して上記認識結果に自動的に追加する認識結果追加部を備えたことを特徴とする認識用言語処理装置。
【請求項4】 請求項1乃至請求項3のいずれか一つに記載された認識用言語処理装置において、上記表記変換部が上記認識装置からの認識結果の表記を変換する際に使用する上記所定のルールは、上記認識装置による認識に誤認識のパターンが存在する場合には、当該パターンに当て嵌まる認識結果の表記を変換した際に1つのカテゴリに属するような表記に変換されるルールであることを特徴とする認識用言語処理装置。
【要約】
【目的】 高速に言語処理を実施できる認識用言語処理装置を提供する。
【構成】 ラティス作成部3は、入力された音節候補から音節ラティスを作成する。縮小表記変換部4は、音節ラティスを構成する各音節候補の表記を縮小表記に変換して縮小表記音節ラティスを得る。縮小表記言語処理部5は、縮小表記音節ラティスを展開して縮小表記辞書6を用いて縮小表記言語処理を実施して縮小表記文節候補を得る。候補削除部7は、縮小表記文節候補を参照して音節ラティスから在り得ない音節候補を削除する。元表記言語処理部8は、構成要素が少なくなった音節ラティスを展開して元表記辞書9を用いて元表記言語処理を実施する。こうして、カテゴリ数の少ない縮小表記による縮小表記言語処理と構成要素の少ない音節ラティスによる言語処理とによって、高速に言語処理を実施する。
【IPC分類】G10L
【公開番号】特開平6−27990
【公開日】平成6年(1994)2月4日
【発明の名称】認識用言語処理装置
【出願番号】特願平4−180937
【出願日】平成4年(1992)7月8日
【出願人】
【識別番号】000005049
【氏名又は名称】シャープ株式会社
【代理人】
【弁理士】
【氏名又は名称】青山 葆 (外1名)
認識用言語処理装置製造方法
