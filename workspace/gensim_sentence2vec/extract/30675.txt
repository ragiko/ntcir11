編集フィルターは、投稿内容を検出し、あらかじめ決められた対処を自動的に行うフィルターです。特別な権限を持つ利用者だけが設定できるように設計されています。
不正利用フィルター拡張機能はウィキメディア財団の支援のもと、 Werdnaによって開発されました。ウィキペディア日本語版では2010年8月から導入されています。ただし、フィルターに一致する操作の全てが「不正利用」ではないため、現在では「編集フィルター」と呼ぶのが一般的となっています。
この拡張機能を利用すると、全ての投稿が自動的にフィルターを通るようになります。フィルターには「投稿回数が500回未満の利用者が、正規表現/うんち/に合致するページ名にページを移動したら、移動した利用者をブロックする」のようなルールを設定することができます。
編集フィルターのログは全ての利用者が閲覧できます。フィルターの内容については、公開・非公開を設定できます。全てのフィルターには、公開・非公開を問わず、フィルターの概要説明を提供することができます。この説明はログ、有効なフィルターの一覧、フィルターが生成するエラーメッセージに表示されます。
ウィキペディアにおける編集フィルターの設置は慎重に行われています。 フィルターは、「ログ取得のみ」の状態で1週間、試験的に運用された後に、警告などの対処操作が作動するモードに切り替えられます。フィルターは「編集フィルター編集者」グループのメンバーのみが変更できます。利用者への権限付与は管理者が行います。このグループに加わることを希望する利用者(管理者自身を含む)は、Wikipedia:編集フィルター/権限付与の申請で依頼してください。
発動条件[編集]
フィルターに一致するかどうかの条件を「発動条件」といいます。
フィルターは、利用者によってある操作がなされた時に、その操作の情報(変数)を取得し、それに対して高度な標準化、正規表現検索、長さおよび値の比較検索を行ない、論理演算を施すことで、発動条件を構成します。
次に示すのは、よく利用される変数の例です。完全な一覧はmw:Extension:AbuseFilter/RulesFormatをご覧ください。
利用者
編集回数
アカウントが作成されてからの時間
権限
電子メールの確認状態
ページ名(移動含む)
名前空間
ページ名
全文
編集差分
編集制限および保護状態
操作
操作の種類(編集、移動、アカウント作成など)
編集の要約
投稿内容
対処操作[編集]
利用者の操作が発動(フィルターに一致)した時に、フィルターが行なう行動を「対処操作」といいます。詳細はmw:Extension:AbuseFilter/Actionsをご覧ください。
各フィルター次のような任意の操作を、操作の深刻さに応じて行うことができます。
ログに記録する(編集フィルター記録でこの編集のフラグをたてる)
フィルターが検知した操作は、すべて特別なページに記録されます。
タグの付与(後で再検討するために編集にタグを付ける)
利用者の操作に対して、特別:タグ一覧で管理できるタグを付与できます。
警告(利用者に警告を与えてからこれらの対処操作を発動する)
利用者に対して、不適切な操作を行った可能性があると警告することができます。
不許可(問題となっている操作を利用者がするのを防ぐ)
利用者の行おうとした操作を許可しないことができます。
自動承認の取り消し(利用者の自動承認ステータスを取り消す)
アカウントの自動承認を除去することができます。
投稿ブロック(利用者および/またはIPアドレスを編集ブロックする)
利用者のアカウントと直前7日間に使用した全IPアドレスを投稿ブロックできます。
権限の剥奪(利用者をすべての特権グループから除く)
利用者に対して付与されている特別な権限(管理者、ボットなど)を剥奪できます。
フィルターには、これらの対処操作を個別に設定できます。問題が発生した場合には、「編集フィルター編集者」はだれでも、そのフィルターによって行なわれた対処を全て差し戻すことができます。
投稿ブロックと権限の剥奪については、abusefilter-modify-restricted(制限された操作を含む不正利用フィルターを変更)権限が必要ですが、ウィキペディア日本語版では、どの権限グループにもこれは設定されていません。
速度制限[編集]
フィルターは、同じ条件で、指定した速度以上の頻度で行われている操作についてのみ、発動させることもできます。 拡張機能としては、これは「利用者が設定された速度限界を越えた場合のみ、対処操作を発動する」という対処操作に属しますが、ウィキペディア日本語版では、これは、発動条件と同等のものとみなし、試験などに利用されています。
指定できる条件は、次の通りです。
アカウント(user)
IPアドレス(ip)またはIPアドレスの/16範囲(range)
アカウント作成日(creationdate)
編集回数(editcount)
対象ページ(page)
これらの条件は、個別に利用することもできますし、これらを組み合わせて設定することもできます。
例えば、userを指定すると、同じアカウントから、user,ipとすると、同じアカウントで同一のIPアドレスから、range,pageとすると、同じ/16範囲のIPアドレスで同じページに対して、という条件になります。
ログ[編集]
フィルターが発動した操作は、全て特別:不正利用記録にその記録が自動生成されます。 このページでは、フィルターの短い要約が示されており、このページは誰でも閲覧することができます。 また、特定のより限定された権限を持つ利用者(具体的には、管理者およびWikipedia:編集フィルター編集者)は、記録の詳細を閲覧できます。
これらの権限について詳しくは 不正利用フィルターの説明をご覧ください。
編集フィルターのログの例[編集]
2008年7月23日 (水) 06:43: Example (会話 | 投稿記録) が メインページ で「edit」操作を行いフィルター xxx に引っかかりました。 対処アクション: 警告; フィルター解説: テストフィルター (詳細|分析)
安全装置[編集]
設定の悪いフィルターによってウィキが破壊されることを防ぐために、フィルターを発動させる操作の割合の上限が技術的に設定されています。
その他の制限も開発中です。
警告および通知[編集]
フィルターが発動した場合の警告や通知は、すべて{{編集フィルターの警告}}を使用して作成されます。
個別の通知が設定されていない場合、各対処操作に対して以下のメッセージが通知されます。
対処操作
メッセージ名
メッセージ
不許可
Wikipedia:編集フィルター - Wikipedia
