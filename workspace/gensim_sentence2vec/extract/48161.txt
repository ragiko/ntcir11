SPTKの使い方 (8)(2013/2/16)の続き。今まで紹介したメルケプストラム分析(2013/1/19)やLPC分析(2013/2/16)を一般化したメル一般化ケプストラム(Mel-Generalized Cepstrum: MGC)分析の実験をしてみます。似たような名前のパラメータがたくさんあってややこしいですが、メル一般化ケプストラムは、メルケプストラム(mcep)やメル周波数ケプストラム(mfcc)とは違うものです。最初は同じものだと勘違いしていましたが・・・
メル一般化ケプストラムの抽出
SPTKでメル一般化ケプストラム分析を行うコマンドは、mgcepです。使い方はメルケプストラム分析のmcepやLPC分析のlpcとほとんど同じですが、と(またはc)という2つのパラメータをとります。はメルケプストラム分析でもあった人間の聴覚により適合したメルスケールを導入するパラメータです。音声のケプストラム分析, メルケプストラム分析という論文に以下のような記述がありました。
周波数伸縮パラメータを適当に選ぶことにより、上記のmelスケールやBarkスケールの良い近似を与えることが知られている。例えば、 を選べば、それぞれ標本化周波数が8kHz, 10kHz, 16kHzの場合のmelスケールを、同様に、 を選べばBarkスケールと良く一致する。
今回の音声は16kHzなので ですね。もう1つのパラメータ  (power parameter) は、先の論文でもいきなり出てきて意味がよくわからなかったですが、の範囲の値を取ります。SPTKのサンプル集では、、になっているので同じ設定で試してみます。
x2x +sf < data.raw | frame -l 400 -p 80 | window -l 400 -L 512 | mgcep -m 20 -a 0.42 -g -0.5 -l 512 > data.mgcep今までと同様に65フレーム目の対数スペクトルとスペクトル包絡を描画してみます。スペクトル包絡を求めるのはケプストラム分析(2013/1/19)と同様にmgc2spでした*1
x2x +sf < data.raw | frame -l 400 -p 80 | bcut +f -l 400 -s 65 -e 65 | window -l 400 -L 512 | spec -l 512 | dmp +f > spec.txt
bcut +f -n 20 -s 65 -e 65 < data.mgcep | mgc2sp -m 20 -a 0.42 -g -0.5 -l 512 | dmp +f > mgcep.txtspec.txtが対数スペクトルのデータ、mgcep.txtがスペクトル包絡のデータです。gnuplotを使えば簡単に描画できます。
% gnuplot
gnuplot> plot "spec.txt" w l
gnuplot> replot "mgcep.txt" w l lw 3結果は下のようなグラフになります。赤が対数スペクトル、緑がメル一般化ケプストラムのスペクトル包絡です。
SPTKの使い方 (9) メル一般化ケプストラム分析合成 - 人工知能に関する断創録
