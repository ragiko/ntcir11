今回の記事では、画像認識機能を使ってブロック崩しをします。早速ですが、次のプログラムをコピーしてメモ帳に張り付けて下さい。while True            //ループ開始ifb CHKIMG("ball.bmp")   //もし、ball.bmpと同じ画像があったらx=G_IMG_X           //xにball.bmpのX座標を代入MMV(x, 770)          //座標(x,770)にマウスを移動(y座標は調整してください)endif               //IFbの条件終了WEND             //whileからここまでの無限ループ        保存をする際に、名前を.uwsと付けます。(は任意で良いです。)プロパティがこのようになっていればOKですTXT ファイルのままになっている場合は、拡張子を表示してから名前を変更してください。次に、ボールのスクリーンショットを撮ります。(2×2ぐらい)こんな感じでOKです画像名はball.bmpとし、uwsファイルと同じフォルダに保存します。これで準備完了です。保存したファイルをUWSCで読み込み、alt+f1で再生します。終了時はalt+f2です。パソコンのスペック次第ですが、上手く行きましたでしょうか?では、プログラムの説明に入ります。まずは、画像認識からCHKIMG("ball.bmp")ball.bmpと同じ画像を、画面内から探しますX=G_IMG_X認識したX座標を、Xに代入します。XをYにすれば、Y座標も取得出来ます。MMV(x,770)マウスを座標(x,770)に移動させます。y座標は、自分のPC用に合わせてください。座標は、SSをペイントに張り付ければわかります。while true①wendこれはセットで覚えて下さいwhileとwendの間(つまり①)を、何回も繰り返すという関数です。IFb ② then③endifこれもセットです。②の条件を満たしたら、③を行います。プログラムのコメントと照らし合わせてみてください。今回はこれにて終了です。おまけ。ifb CHKIMG("ball.bmp")   //もし、ball.bmpと同じ画像があったらx=G_IMG_X           //xにball.bmpのX座標を代入y=G_IMG_YBTN(left,click,x,y)          //座標(x,y)をクリックendif               //IFbの条件終了WENDこれで、ボールの上をクリックするプログラムになります。FFA等クリックゲーのマクロであれば、もう少しで組めるようになります画像認識を使ってgoogleで検索										戻値 = CHKIMG( 画像名, [透過色/色無視, x1, y1, x2, y2, 番号, 色幅] )透過色/色無視: 0: 指定なし (デフォルト)         1: 左上、2:右上、3:左下、4:右下 の1ピクセルの色を透過色として処理        -1: 色を無視して形でチェックするx1, y1, x2, y2: サーチ範囲たとえば、ifb chkimg(".bmp",-1,330,230,680,360)とすると、下の画像範囲を色無視で探索します。まとめ。画像の位置へマウスを移動if CHKIMG(".bmp") then mmv(X_IMG_X,Y_IMG_Y)画像の位置をクリックif CHKIMG(".bmp") then btn(left,click,X_IMG_X,Y_IMG_Y)画像をドラッグ&ドロップifb CHKIMG(".bmp)btn(left,down,X_IMG_X,Y_IMG_Y)sleep(0.3)mmv(a,b)btn(left,up,a,b)endif
BOTの組み方・作り方 画像認識でゲームをする
