
目次
Cisco Unified Communications アーキテクチャの基盤
概要
VoIP
Video over IP
Fax over IP
VoIP プロトコル
音声およびビデオ コーデック
音声およびビデオ対応インフラストラクチャ
QoS
ハイ アベイラビリティ
セキュリティ
IP マルチキャスト
まとめ
Cisco Unified Communications アーキテクチャの基盤
この付録では、Cisco Unified Communications Systemの基盤となるアーキテクチャの概念および要素に関する概要について説明しています。
Vioce over IP(VoIP)技術に関する追加情報については、以下を参照してください。
http://www.cisco.com/en/US/tech/tk652/tsd_technology_support_category_home.html
概要
Cisco Unified Communications Systemは、単一の IP ベースのネットワークを通じた音声、ビデオ、データの転送をサポートしています。これにより、企業はコミュニケーションの統合と合理化ができます。Cisco Unified Communications Systemは、Cisco Unified Communications ソリューションの重要な部分で、ネットワーク インフラストラクチャ、セキュリティ、およびネットワーク管理製品、ワイヤレス接続、サードパーティ製の通信アプリケーション、システムの Preparing, Planning, Designing, Implementing, Operating and Optimizing(PPDIOO; 準備、計画、設計、導入、運用、最適化)に対するライフサイクル サービス手法も含まれています。
Cisco Unified Communications Systemは、(Open System Interconnection［OSI; オープン システム インターコネクション］参照モデルで構築された)既存の IP インフラストラクチャを活用し、音声およびビデオ関連装置、機能、アプリケーションをサポートできるようにします。Session Initiation Protocol(SIP)、Media Gateway Control Protocol(MGCP; メディア ゲートウェイ コントロール プロトコル)、H.323 など主要なシグナリング プロトコルをサポートしていて、従来の音声およびビデオ ネットワークと統合することも可能です。
表A-1
に、OSI 参照モデルと音声およびビデオ プロトコルとの関係と、Cisco Unified Communications Systemの機能を示します。
表A-1	OSI 参照モデルでの Voice over IP および Video over IP
OSI 
レイヤ番号
OSI レイヤ名
音声
ビデオ
7 
アプリケーション 
Unified IP Phone、Unified Personal Communicator 等
ビデオ エンドポイント、Unified Video Advantage 等
6 
プレゼンテーション
G.711、G.722、G.723、G.729
H.261、H.263、H.264
5 
セッション
H.323/MGCP/SIP/SCCP
H.323/SIP/SCCP
4 
トランスポート
RTP/UDP、TCP
3 
ネットワーク
IP
2
データリンク
フレームリレー、ATM、イーサネット、PPP、MLP 等
このモデルを具体的に説明します。
•	レイヤ 6 — Digital Signal Processor(DSP; デジタル信号プロセッサ)が選択されたコーデックを使用して音声およびビデオ信号を圧縮/エンコード(圧縮解除/デコード)します。次に DSP が圧縮/エンコードされた信号をフレームに分割して、これをパケットに格納します。
•	レイヤ 5 — パケットが、Skinny Client Control Protocol(SCCP)、H.323、MGCP、SIP などのシグナリング プロトコルに従って転送されます。
•	レイヤ 4 — シグナリング トラフィック(呼の確立と解放)では、転送媒体として TCP を使用します。
メディア ストリームは、トランスポート プロトコルとして UDP 上で Real-Time Transport Protocol(RTP; リアルタイム転送プロトコル)を使用します。受信側で同期できるように各パケットにタイムスタンプとシーケンス番号が挿入されるため、RTP が使用されます。TCP にはリアルタイム トラフィックでは容易に許容されない(確認応答による)遅延が発生するので、UDP が使用されます。
•	レイヤ 3 — IP レイヤは、ルーティングおよびネットワークレベルのアドレス指定を提供します。
•	レイヤ 2 — データリンク レイヤ プロトコルは、物理メディア上での情報の送信を管理し、方向付けします。
VoIP
一般的に、VoIP ネットワークのコンポーネントは、以下のカテゴリに分類することができます。
•	インフラストラクチャ — IP ネットワークを通じた音声送信の基盤を提供します。ルータとスイッチに加えて、VoIP 装置、レガシー PBX、ボイスメール、ディレクトリ システムを統合し、他の VoIP および旧来のテレフォニー ネットワークに接続するために必要な、インターフェイス、装置、機能が含まれます。インフラストラクチャを構築するために使用される一般的な製品には、シスコ音声ゲートウェイ(非ルーティング、ルーティング、および統合型)、Cisco IOS および Catalyst スイッチ、シスコ ルータの他に、ファイアウォール、Virtual Private Network(VPN; バーチャル プライベート ネットワーク)、Intrusion Detection System(IDS; 侵入検知システム)などのセキュリティ装置が含まれています。さらに、QoS(Quality of Service)、ハイアベイラビリティ、および帯域幅のプロビジョニング(WAN 装置向け)も導入されます。
•	呼処理 — 呼の開始から呼の終了までのシグナリングおよび呼制御サービスを提供します。呼処理コンポーネントは、呼転送およびフォワーディング機能などの機能サービスも提供します。Cisco Unified Communications Systemでは、呼処理は Cisco Unified Communications Manager または Communications Manager Express で実行されます。
•	アプリケーション — ユーザに完全な通信オプション スイートを提供するための、基本的な呼処理を補完するコンポーネントが含まれています。Cisco Unified Communications Systemのアプリケーションには、音声メッセージング製品の Cisco Unity、Cisco Unified MeetingPlace 会議スケジューリング ソフトウェア、Cisco Emergency Responder、システムの使いやすさを強化しユーザの生産性をさらに向上させることのできる Cisco Unified Presence などのアプリケーションが含まれています。
•	音声対応エンドポイント — PSTN へのアクセスを提供し、旧来のテレフォニー装置(POTS ［Plain Old Telephone Service; 一般電話サービス］電話など)との相互運用を可能にする IP 電話、ソフトフォン、ワイヤレス IP フォン、アナログ ゲートウェイです。IP フォンおよびソフトフォンの場合、サポートされているプロトコルは、SCCP、H.323、SIP です。ゲートウェイの場合、サポートされているプロトコルは SCCP、H.323、SIP、MGCP です。
VoIP の詳細については、Cisco Press の『
Voice over IP Fundermentals
』を参照してください。
Video over IP
一般的な IP ビデオ会議コンポーネントには、以下のものが含まれます。
•	ゲートウェイ — さまざまな規格で使用される異なるプロトコル、オーディオ エンコーディング形式、ビデオ エンコーディング形式間の変換を実行します。Cisco Unified Videoconferencing ゲートウェイにより、H.323、H.320、SCCP、または SIP エンドポイントを使用した会議が可能になります。
•	ゲートキーパー — 呼処理コンポーネントと連動して、H.323 エンドポイントの管理を行います。呼処理コンポーネントがすべてのコール シグナリングおよびメディア ネゴシエーションを処理する一方で、ゲートキーパーはすべての Registration, Admission, and Status(RAS)シグナリングを処理します。
•	コンファレンス ブリッジ — 3 人以上の参加者の会議を可能にします。ビデオ エンドポイントは、一般的にポイントツーポイント デバイスで、会議あたり 2 人しか参加できません。コンファレンス ブリッジまたは Multipoint Conference Unit(MCU)は、ビデオ会議を 3 人以上の参加者に拡大する場合に必要です。
•	ビデオ対応エンドポイント — スタンドアロン型のビデオ端末、統合ビデオ機能付きの IP フォン、PC のビデオ会議ソフトウェアが含まれます。これらのエンドポイントは、H.323、H.320、SCCP、または SIP のいずれかをサポートします。
ビデオ会議に関する追加情報については、『
IP Videoconferencing Solution Reference Network Design
』ガイドを参照してください。
Fax over IP
Fax over IP により、パケットベース ネットワーク上で標準的なファックス機の相互作用が可能になります。Fax over IP を使用すると、ファックス画像がアナログ信号から抽出されて、IP ネットワーク上で送信できるようにデジタル データに変換されます。
Cisco Unified Communications Systemのコンポーネントは、Fax over IP について、リアルタイム ファックス、ストアアンドフォワード ファックス、ファックス パススルーの 3 つの伝送方式をサポートしています。
•	リアルタイム ファックスの場合、シスコでは、Cisco ファックス リレーおよび T.38 ファックス リレー(International Telecommunications Union［ITU-T; 国際電気通信連合］より)をサポートしています。この方式を使用すると、DSP が送信元ファックス機からのファックス トーンを特定のフレームに分割して(復調)、ファックス リレー プロトコルを使用して IP ネットワークで情報を送信し、受信側でビットをトーンに変換し戻します(変調)。両端のファックス機は、PSTN 上でやりとりするようにトーンを送受信し、実際には情報が IP ネットワーク上で送信されていることは認識しません。
•	ストア アンド フォワード ファックスの場合、シスコでは T.37(ITU-T より)をサポートしています。この方式を使用すると、オンランプ ゲートウェイが従来型のファックス装置からファックスを受信し、これを Tagged Image File Format(TIFF)形式の添付ファイルに変換します。次に、ゲートウェイが標準 Multipurpose Internet Mail Extension(MIME; 多目的インターネット メール拡張)E メール メッセージを作成し、TIFF ファイルをその E メールに添付します。ゲートウェイが E メール(これをファックス メールと呼びます)とその添付ファイルを、専用の Simple Mail Transport Protocol(SMTP; シンプル メール転送プロトコル)サーバのメッセージング インフラストラクチャに転送します。
ストア アンド フォワード ファックスにより、パケットベース ネットワーク上でファックス送信をまとめて保存および転送できるようになります。これにより、ファックスが最小コスト ルーティングを使用することができ、通信料が適切な場合に保存したファックスを転送することができます。ただし、ストア アンド フォワード ファックスを使用する場合、特定の構成に応じて、数秒から数時間の範囲でファックスの遅延が発生します。
•	ファックス パススルーの場合、ファックス データはパケット ネットワーク上を通過するために復調や圧縮はされません。この方式を使用すると、G.711 コーデックと類似した非圧縮形式を使用してファックス トラフィックが RTP パケット内で 2 つのゲートウェイ間を搬送されます。ゲートウェイは、ファックス コールと音声コールを区別しません。
VoIP プロトコル
シグナリングおよび呼制御用に、Cisco Unified Communications Systemはシスコ独自の VoIP プロトコルである SCCP と、主要な業界標準プロトコルである H.323、SIP、MGCP をサポートしています。これらのプロトコルは、クライアント/サーバ、またはピアツーピア モデルを使用するものとして分類されます。
•	クライアント/サーバ モデルは、従来のテレフォニーで使用されるものと類似していて、ダム エンドポイント(電話)が中央のスイッチで制御されます。クライアント/サーバ モデルを使用すると、ほとんどの処理能力は集中呼処理コンポーネントが持っているので、スイッチング ロジックおよび呼制御が処理され、電話自体ではほんのわずかな処理のみが行われます。
クライアント/サーバ モデルの利点は、管理、プロビジョニング、および呼制御が集中化されていることや、従来の音声機能を再現するためのコール フローが簡略化されることです。また、電話で必要となるメモリ量と CPU が少なくなり、従来の音声エンジニアが理解しやすいモデルとなっています。
MGCP および SCCP はクライアント/サーバ プロトコルの例です。
•	ピアツーピア モデルにより、ネットワーク インテリジェンスをエンドポイントと呼制御コンポーネントとの間に分散することができます。ここでのインテリジェンスとは、コール ステート、通話機能、呼ルーティング、プロビジョニング、課金などの、呼処理に関するものを指します。エンドポイントは VoIP ゲートウェイ、IP フォン、メディア サーバ、または VoIP コールを開始し終端できる装置になります。
ピアツーピア モデルの利点は、より柔軟かつスケーラブルで、IP データ ネットワークを運用するのに慣れたエンジニアにとってわかりやすいということです。
SIP や H.323 は、ピアツーピア プロトコルの例です。
表A-2	Cisco Unified Communications のコンポーネントでサポートされているプロトコル 
プロトコル
説明
SCCP
シスコシステムズ独自のプロトコル。SCCP はクライアント/サーバ モデルを使用します。呼制御は、Cisco Unified Communications Manager または 
Communications Manager Express によって提供されます。Unified IP Phone は、「スキニー」クライアントを実行します。これは、電話自体で非常にわずかな処理のみが必要になるものです。
SCCP は、すべての Cisco IP Phone、Cisco Unified Video Advantage、多くのサードパーティ製のビデオ エンドポイント、および一部のシスコ ゲートウェイでサポートされています。
MGCP
LAN 上でのマルチメディア通信について ITU-T の推奨するプロトコルです。MGCP は、クライアント/サーバ モデルを使用していて、主にゲートウェイとの通信に使用します。
MGCP は、簡単に設定可能で、集中管理されています。ほとんどのシスコ ゲートウェイでサポートされています。
SIP
LAN 上でのマルチメディア通信について、Internet Engineering Task Force(IETF; インターネット技術特別調査委員会)の推奨するプロトコルです。SIP は、ピアツーピアモデルを使用します。呼制御は、SIP プロキシまたはリダイレクト サーバを通じて提供されます。Cisco Unified Communications Manager では、SIP の呼制御は内蔵の Back to Back User Agent(B2BUA)を通じて提供されます。
SIP は、シンプルなメッセージング方式を使用していて、非常にスケーラブルです。多くの Cisco IP Phone や、サード パーティ製のビデオ エンドポイント、およびシスコ ゲートウェイのトランク側でサポートされています。
H.323
LAN 上でのマルチメディア通信について ITU-T の推奨するプロトコルです。H.323 は、ピアツーピアモデルを使用します。ISDN Q.931 プロトコルに基づいています。呼制御は、ゲートキーパーを通じて提供されます。
H.323 は、相互接続性を提供し、PSTN および SS7 と簡単に相互運用できます。数多くのサード パーティ製のビデオ エンドポイントとほとんどのシスコ ゲートウェイでサポートされています。
音声およびビデオ コーデック
すでに述べているように、コーデックは、IP ネットワークで送信できるようにアナログ ストリーム(音声やビデオ)をデジタル信号に符号化し圧縮するのに使用されます。
ヒント	一般的な推奨事項として、帯域幅に余裕がある場合は、ネットワークの設計が複雑になる可能性のあるトランスコーディング リソースのニーズを最小限にするために、キャンパス全体で単一のコーデックを使用するのが最適です。
コーデックの特性は以下の通りです。
•	コーデックは、ナローバンドまたはワイドバンドです。(従来のテレフォニー システムで使用されている)ナローバンドは、音声信号が 300 ～ 3500 Hz の範囲で渡されることを指します。ワイドバンドでは、音声信号は 50 ～ 7000 Hz の範囲で渡されます。したがって、ワイドバンド コーデックの方が、より豊かな音色を持ち高品質な音声が提供されます。
•	サンプリング レート(または周波数)は、1 秒あたりに取得されるサンプル数に相当し、Hz または kHz で表されます。デジタル音声の場合、一般的なサンプリング レートは 8 kHz(ナローバンド)、16 kHz(ワイドバンド)、32 kHz(ウルトラ ワイドバンド)です。デジタル ビデオの場合、一般的なサンプリング レートは 50Hz(Phase-Alternation Line [PAL]、主に西ヨーロッパで使用)および 59.94 Hz(National Television System Committee [NTSC]、主に北米で使用)です。両方のレートは、
表A-3
に示すすべてのビデオ コーデックでサポートされています。
•	圧縮比は、音声またはビデオ ストリームの元のサイズと圧縮後のサイズの相対的な差を示すものです。低圧縮比は品質が良くなりますが、より大きな帯域幅を必要とします。一般的に、低圧縮コーデックは LAN 上の音声に最適で、DTMF およびファックスをサポートできます。高圧縮コーデックは、WAN 上の音声に最適です。
•	複雑度は、圧縮を実行するのに必要な処理量のことです。コーデックの複雑度は、コール密度(DSP で調整される呼数)に影響します。コーデックの複雑度が高いと、処理できる呼数が少なくなります。
Cisco Unified Communications のコンポーネントは、
表A-3
に示す 1 つまたは複数の音声およびビデオ コーデックをサポートしています。
表A-3	Cisco Unified Communications のコンポーネントでサポートされているコーデック 
コーデック
説明
G.711
64 Kbps でトール品質の音声を提供する、ITU-T で定義されたナローバンド音声コーデック。Pulse Code Modulation(PCM; パルス符号変調)を使用し、8 KHz で音声をサンプリングします。G.711 は、2 つのコンパンディング アルゴリズムである mu-law(米国と日本で使用)と a-law(ヨーロッパおよびその他の諸国で使用)をサポートしています。
G.711 は、低圧縮で中複雑度のコーデックです。
G.722
32 ～ 64Kbps で高品質の音声を提供する、ITU-T で定義されたワイドバンド音声コーデック。Adaptive Differential PCM(ADPCM)を使用し、16 KHz で音声をサンプリングします。
G.722 は G.711 と似た圧縮と複雑度ですが、より質の高い音声を提供します。
G.722.1
24 ～ 32 Kbps で高品質の音声を提供する、ITU-T で定義されたワイドバンド音声コーデック。Modulated Lapped Transform(MLT)を使用し、16 KHz で音声をサンプリングします。
G.722.1 は、高圧縮、低複雑度のコーデックです。より低いビット レートで G.722 よりも高い品質を提供します。
G.723.1
6.3 ～ 5.3 Kbps でトール品質に近い音声を提供する、ビデオ会議用に ITU-T が定義したナローバンド音声コーデック。Algebraic Code Excited Linear Prediction(ACELP; 代数的符号励振線形予測)およびMulti Pulse-Maximum Likelihood Quantization(MP-MLQ)を使用していて、8 kHz で音声をサンプリングします。
G.723.1 は、高圧縮、高複雑度のコーデックです。ただし、品質は G.711 よりもわずかに低くなります。
G.726
32Kbps でトール品質の音声を提供する、ITU-T で定義されたナローバンド音声コーデック。ADPCM を使用し、8 kHz で音声をサンプリングします。
G.726 は中複雑度のコーデックです。G.711 とほぼ同一の品質を提供しながら、必要な帯域幅は半分です。G.726 は G.723 に置き換わるものですが、G.723.1 とは無関係です。
G.728
16 Kbps でトール品質に近い音声を提供する、ITU-T で定義されたナローバンド音声コーデック。Low Delay CELP(LD-CELP; ローディレイ CELP)を使用し、8 kHz で音声をサンプリングします。
G.728 は、高圧縮、高複雑度のコーデックです。
G.729a
8 Kbps でトール品質の音声を提供する、ITU-T で定義されたナローバンド音声コーデック。Conjugate-Structure ACELP(CS-ACELP)を使用し、8 kHz で音声をサンプリングします。
G.729a は、高圧縮で中複雑度のコーデックです。品質は G.711 よりも低く、DTMF には適していませんが、帯域幅が制限されているような状況に適しています。
iLBC(internet Low Bitrate Codec)
IETF によって標準化されたナローバンド音声コーデックで、13.33 または 15.2 Kbps でトール品質よりもよい音声を提供します。ブロック独立 Linear Predictive Coding(LPC; 線形予測符号化)を使用し、8 kHz で音声をサンプリングします。
iLBC は、G.729 よりも高い基本品質を提供し、無償で使用できます。損失の多いネットワークで音声品質の低下を緩和させることができます。このコーデックは、リアルタイム通信、ストリーミング音声、アーカイブ、およびメッセージングに最適です。
AAC(Advanced Audio Codec)
MPEG によって(MPEG-4 AAC として)標準化されたワイドバンド音声コーデック。32 Kbps 以上のレートで高品質音声を提供します。AAC-LD(低遅延)を使用し、20 kHz で音声をサンプリングします。
L16
MIME サブタイプとして IETF で定義されたワイドバンド音声コーデック。256 Kbps で適度な品質の音声を提供します。PMC をベースにしていて、16 kHz で音声をサンプリングします。
GSM-FR(Global System for Mobile Communications- Full Rate)
European Telecommunications Standards Institute(ETSI; 欧州通信規格協会)で定義された音声コーデック。これは、元々 GSM デジタル携帯電話システム用に設計されたもので、13 Kbps でトール品質よりは少し劣る音声を提供します。Regular Pulse Excitation with Long-Term Prediction(RPE-LTP)を使用し、8 kHz で音声をサンプリングします。
GSM-FR は中複雑度のコーデックです。
GSM-EFR(Enhancad Full Rate)
12.2 Kbps でトール品質の音声を提供する、デジタル音声用に ETSI によって定義された音声コーデック。ACELP を使用し、8 kHz で音声をサンプリングします。
GSM-EFR は高複雑度コーデックで、GSM-FR よりも質の高い音声を提供します。
QCELP(Qualcomm Code Excited Linear Prediction)
ワイドバンド拡散スペクトル デジタル通信システム向けに 
Telecommunications Industry Association(TIA; 米国電気通信工業会)によって定義された音声コーデックで、8 または 13 Kbps でトール品質の音声を提供します。名前が示すとおり CELP を使用し、8 kHz で音声をサンプリングします。
QCELP は高複雑度のコーデックです。
H.261
ITU-T で定義された最初のビデオ コーデックの 1 つ。当初は ISDN でのビデオ用に使用されていました。64 Kbp の倍数のデータ レートをサポートするように設計されています。H.261 は、Common Intermediate Format(CIF - 352 × 288)および QCIF(176 × 144)の解像度をサポートしています。
H.261 は MPEG と似ていますが、H.261 はリアルタイム エンコーディングにおいて必要となる計算オーバーヘッドが MPEG よりも大幅に少なくなります。H.261 は一定のビットレート エンコーディングを使用するため、比較的動きの少ないビデオの使用に最適です。
H.263
H.261 の改良版として ITU-T によって定義されたビデオ コーデック。H.323、H.320、SIP ネットワークで使用されます。CIF や QCIF の他に、H.263 は SQCIF(128 × 96)、4CIF(704 × 576)、16CIF(1408 × 1152)の解像度をサポートしています。
H.263 は、より低いビットレートの通信、よりよりパフォーマンス、および改善されたエラー回復機能を提供しています。ハーフ ピクセル精度および可変ビットレート エンコーディングを使用しているため、H.263 はビデオ内の動きに対応できるようになりました。
H.264
ビデオ コーデックで次に進化したものです。ITU-T と MPEG によって(MPEG-4 Part 10として)定義され、低ビットレートで高品質なビデオを提供するように設計されています。
H.264 は、H.263 よりも良好なビデオ品質、圧縮効率、パケット/データ損失に対する復元力を提供します。また帯域幅の利用効率も良く、既存システムで実行可能なチャネル数も増加しました。
音声およびビデオ対応インフラストラクチャ
デフォルトで、IP データ ネットワークは「ベスト エフォート」の概念に基づいてデータを伝送しています。トラフィック量と利用可能な帯域幅に応じて、データ ネットワークではしばしば遅延が発生することもあります。ただし、これらの遅延は一般的にわずか数秒(あるいは何分の 1 秒)で、E メールやファイル転送などのアプリケーションでユーザが気づくことはありません。深刻なネットワークの輻輳や小規模のルータ障害の場合は、受信側装置が待機してシーケンス外パケットの再要求を行い、送信側装置が単純に廃棄されたパケットを再送信します。
音声およびビデオは、非常に時間に依存したメディアで、データ アプリケーションでは許容範囲の遅延が発生すると、重大な影響を受けます。重大な輻輳や停止の場合、音声アプリケーションは廃棄パケットを省くことしかできず、品質が低下することになります。したがって、音声およびビデオでは、円滑で保証された配信を提供するインフラストラクチャが必要です。
特にリアルタイムで配信するような、音声およびビデオを伝送するネットワーク インフラストラクチャには、メディアの安全と品質を保証しながら、ネットワーク リソースの効率的な利用も実現するための特別なメカニズムと技術が必要です。音声またはビデオ対応ネットワークでは、以下のものがインフラストラクチャに組み込まれていなければいけません。
•	QoS
•	ハイ アベイラビリティ
•	音声セキュリティ
•	マルチキャスト機能
QoS
QoS(Quality of Service)は、伝送品質とサービスのアベイラビリティを反映した伝送システムのパフォーマンス基準として定義されています。ネットワークの伝送品質は、以下の要因で決定されます。
•	損失 — パケット損失とも呼ばれ、伝送された合計数と比較して、正確に伝送および受信されたパケット数の基準です。損失は、廃棄されたパケットの割合で表現されます。
損失は、一般的にアベイラビリティの機能です(ハイ アベイラビリティ参照)。ネットワークのアベラビリティが高い場合、(輻輳していない期間の)損失は基本的にゼロです。ただし、輻輳している期間では、QoS メカニズムが採用されて、廃棄するのに最適なパケットが選択的に決定されます。
•	遅延 — パケットが送信エンドポイントから伝送されてから受信エンドポイントに到達するまでかかった有限の時間です。音声の場合、これは音が話者の口から聞き手の耳に到着するまでの時間に等しくなります。この期間は、「エンドツーエンド遅延」と呼ばれます。
遅延には次の 3 つのタイプがあります。
–パケット化遅延 — アナログ音声信号をサンプリングおよびエンコードし、パケットにデジタル化するまでに必要な時間
–シリアル化遅延 — パケット ビットを物理メディアに配置するのに必要な時間
–伝搬遅延 — パケット ビットを物理メディアで伝送するのに必要な時間
•	遅延変動 — インターパケット遅延とも呼ばれ、パケット間のエンドツーエンド遅延の差です。たとえば、あるパケットが送信元エンドポイントから宛先エンドポイントまでのネットワークを通過するのに 100 ms 必要で、その後のパケットが同じ経路で 125 ms 必要な場合、遅延変動は 25 ms と計算されます。
VoIP または Video over IP 通話の各エンド ステーションには、ジッタ バッファがあります。ジッタ バッファは、音声を含むデータ パケットの到着時間の違いを平準化するのに使用されます。ジッタ バッファは動的で適応性があり、パケットの到着時間の平均変動を 30 ms まで調整可能です。ジッタ バッファの補正能力を超えるような、パケットの到着時間の変動が瞬間的に発生した場合、ジッタ バッファ オーバーランまたはアンダーランが発生します。
–ジッタ バッファ アンダーランは、パケットの到着時間が遅れたためにジッタ バッファがパケットを排出しきってしまい、次の音声またはビデオを再生する時間になっても、DSP で処理するパケットがないときに発生します。
–ジッタ バッファ オーバーランは、ジッタ バッファがパケットを収容するために動的にサイズ変更するよりも早く音声またはビデオを含むパケットが到着した場合に発生します。これが発生した場合、音声または映像サンプルの再生時にはパケットが廃棄され、音声品質が低下することになります。
シスコでは、ネットワーク管理者が損失、遅延、遅延変動を最小化することのできる QoS ツールセットを提供しています。これらのツールセット(図A-1 参照)により、トラフィックの分類、スケジューリング、ポリシング、およびシェーピングが可能になり、音声およびビデオ トラフィックを優先的に扱うことができます。
図A-1	Cisco QoS ツールキット
•	分類ツールは、フレームやパケットに特定の値をマークします。このマーキング(またはリマーキング)は、スケジューリング ツールで使用する信頼境界を確立します。
•	スケジューリング ツールは、トラフィックから装置が送出される方法を決定します。トラフィックが送出される速度よりも速い速度で装置に入るたびに(速度の不一致)、輻輳点が発生します。スケジューリング ツールは、さまざまなバッファを使用してプライオリティの高いトラフィックをプライオリティの低いトラフィックよりも先に送出します。この動作は、キューイング アルゴリズムによって制御されます。アルゴリズムは、装置が輻輳を検出したときにのみ有効になり、輻輳が解消されたときに無効になります。
•	ポリサーおよびシェイパは古い形の QoS メカニズムです。これらのツールの目的は同じで、トラフィック違反を特定し対応することです。ポリサーおよびシェイパは、同じ方法でトラフィック違反を特定しますが、これらの違反に対して異なる対応をします。ポリサーは一般的にトラフィックを廃棄し、シェイパは一般的に、送信元のデータ レートが予想よりも高い場合に、パケットを保持してフローを成形するためにバッファを使用して、超過トラフィックを遅延させます。
QoS の考慮事項とツールの詳細については、『
Enterprise QoS Solution Reference Network Design Guide
』を参照してください。
ハイ アベイラビリティ
ハイ アベイラビリティの目的は、ネットワークの停止を回避または最小限にすることです。これは、音声およびビデオを搬送するネットワークで特に重要です。ハイ アベイラビリティは、単一の技術ではなく、ポリシー、技術、および相互関係のあるツールの混合体を実装する手法で、サービス、クライアント、セッションのエンドツーエンドでのアベイラビリティを保証します。ハイ アベイラビリティは、ネットワークの冗長性とソフトウェアのアベイラビリティに深く関わっています。
ネットワークの冗長性は、冗長ハードウェア、プロセッサ、ラインカード、リンクに依存しています。ネットワークは、重要なハードウェア(コア スイッチ等)のシングルポイント障害がないように設計されます。カードなどのハードウェア要素は、「ホットスワップ可能」で、ネットワークの中断なく交換可能になっています。電源装置および電源も冗長化されています。
ソフトウェアのアベイラビリティは、スパニング ツリー プロトコルや Hot Standby Router Protocol(HSRP)などの、信頼性に基づくプロトコルに依存しています。スパニング ツリーや HSRP などのプロトコルは、障害発生時にどのように動作するのかをネットワークやネットワーク コンポーネントに指示します。このような障害には、停電、ハードウェア障害、ケーブル切断などがあります。これらのプロトコルは、パケットの再ルーティングやパスの再設定のルールを提供します。これらのルールが適用される速度をコンバージェンスと呼びます。コンバージェンスが完了したネットワークは、ユーザの視点からは、障害から復旧して命令や要求を処理することができるようになっています。
ハイ アベイラビリティの詳細については、『
Designing a Campus Network for High Availability
』を参照してください。
セキュリティ
重要なデータ トラフィックと同様に、IP ネットワーク上の音声(またしばしばビデオ)トラフィックもセキュリティ保護されていなければいけません。場合によっては、データ ネットワークをセキュリティ保護するのに使用できるものと同じ技術が VoIP ネットワークにも採用されています。さらに、独自の技術を実装しなければいけない場合もあります。いずれの場合でも、主な目的の 1 つが、品質に影響を与えずに音声およびビデオ ストリームを保護することです。
ネットワークをセキュリティ保護する際に、脆弱性が疑われるすべての領域を考慮することが重要です。つまり、内部および外部の脅威からネットワークを保護し、内部およびリモート接続をセキュリティ保護し、信頼できる装置、アプリケーション、ユーザにネットワーク アクセスを制限します。包括的なセキュリティは、まずネットワーク自体をセキュリティ保護することで、次にセキュリティをエンドポイントとアプリケーションに広げていくことです。音声およびビデオ通信の場合、セキュリティでは次の 4 つの重要な要素を保護する必要があります。
•	ネットワーク インフラストラクチャ — すべての IP データ、音声、ビデオ トラフィックを搬送する基盤ネットワークを構成するスイッチ、ルータ、接続リンク。これらの保護には、次のツールの使用が含まれています。
–ファイアウォール
–ネットワーク侵入検知および防止システム
–音声およびビデオ対応 VPN
–VLAN セグメント化
–ポート セキュリティ
–アクセス コントロール サーバ/ユーザ認証および許可
–ダイナミック Address Resolution Protocol(ARP; アドレス解決プロトコル)インスペクション
–IP ソース ガードおよび Dynamic Host Configuration Protocol(DHCP)スヌーピング
–Wired Equivalent Privacy(WEP)や Lightweight Extensible Authentication Protocol(LEAP)などのワイヤレス セキュリティ技術
•	呼処理システム — 呼の管理、制御、および課金用のサーバおよび関連装置。これらの保護には、次のツールの使用が含まれています。
–デジタル証明書
–署名付きのソフトウェア イメージ
•	エンドポイント — IP フォン、ソフトフォン、ビデオ端末、および IP コミュニケーション ネットワークに接続されるその他の装置。これらの保護には、次のツールの使用が含まれています。
–デジタル証明書
–エンドポイント認証
–セキュア RTP ストリーム暗号化
–スイッチ ポート セキュリティ
–ウイルス防止および統合 Cisco Security Agent
•	アプリケーション — ユニファイド メッセージング、会議、カスタマー コンタクト、IP コミュニケーション システムの機能を拡張するカスタム ツールなどのユーザ アプリケーション。これらの保護には、次のツールの使用が含まれています。
–セキュア管理
–マルチレベル アドミニストレーション
–メディア暗号化
–H.323 および SIP シグナリングの使用
–堅牢なプラットフォーム
–ウイルス防止および統合 Cisco Security Agent
IP マルチキャスト
IP マルチキャストにより、通信教育など、同じデータを同時に受信する必要のある複数のホストにデータを合理的に配信できます。IP マルチキャストを使用すると、音声およびビデオ ストリームを単一のサーバから複数のエンドポイントへ送信することができます。次の例を参考にしてください。
•	IP マルチキャスト サービスを設定した場合、Music-on-Hold(MoH)では、同じ音声ファイルを複数の IP フォンに流すことが可能で、保留中の各電話に対してそのストリームをそれぞれ複製する必要はありません。
•	IP/TV により、ネットワークを介して同時に数千の受信者に対して音声、ビデオ、およびスライドのストリーミングが可能になります。通常は低速 WAN リンクが混雑するような高レート IP/TV ストリームをローカル キャンパス ネットワーク上にとどまるようにフィルタリングすることができます。
個別のストリームを各受信者に送信するユニキャストと比べて、IP マルチキャストは情報の単一ストリームを数千の受信者に同時に配信するので、図A-2 で示すように、帯域幅の消費が少なくなります。
図A-2	IP マルチキャスト
マルチキャスト パケットは、Protocol Independent Multicast(PIM)およびその他のサポート対象マルチキャスト プロトコルに対応したシスコ ルータおよびスイッチによってネットワーク内で複製されます。これらのルータは、トラフィックを全受信者に配信するために、IP マルチキャスト トラフィックがネットワーク内で通過するパスを制御する「配信ツリー」を作成します。
IP マルチキャストの詳細については、『
Cisco Network Infrastructure IP Multicast Design Guide
』を参照してください。
まとめ
Cisco Unified Communications Systemのコンポーネントおよび技術と基盤となるインフラストラクチャは、統合された音声、ビデオ、およびデータ通信を提供するために協調して動作します。
図A-3	Cisco Unified Communications System
•	インフラストラクチャに採用されたコンポーネントおよび技術(QoS や IP マルチキャスト等)は、セキュアで堅牢な、信頼性の高い効率的な基盤を提供します。
•	インフラストラクチャ上に構築されたゲートウェイや呼処理コンポーネントは、必要な変換、統合、制御機能を実行して、効率的で合理化された通信を可能にします。
•	アプリケーションによって、ユーザの必要とする機能とサービスを提供するための呼処理が拡張されます。
•	エンドポイントでは、ネットワーク サービスおよび機能へのアクセスが提供され、ユーザが通信システムを最大限利用し、生産性を向上させることができます。
Cisco Unified Communications System の解説 Release 7.0(1) - Cisco Unified Communications  アーキテクチャの基盤 - Cisco Systems
