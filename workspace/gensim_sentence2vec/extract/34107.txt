
リムーバブル記憶域は,テープを含むリムーバブル・メディアを管理するコンソールである。［スタート］−［ファイル名を指定して実行］で,「ntmsmgr.msc」と入力すると,管理コンソールを開くことができる(図2)。
リムーバブル記憶域に表示される［メディアプール］とはリムーバブル・メディアの論理的な集まりである。メディア・プールは,NTBackupのような特定のアプリケーションが使う「アプリケーション・プール」と,アプリケーションが使っていないメディアを管理する「システム・プール」に分類できる。さらに,システム・プールは,［空き］［インポート］［非認識］の3種類に分かれる。
NTBackupは最初に起動されたとき,リムーバブル記憶域の［メディアプール］の配下に［Backup］という項目を作成する。これは,アプリケーション・プールの1つで,NTBackupで使用するテープはここに割り当てられる。NTBackupで定期的にバックアップを実行するには,この［Backup］に割り当てたテープを必ず使用しなければならない。
テープ装置にテープを挿入すると,テープの識別情報が読み取られ,メディア・プールのどこに割り当てられるかが判定される。そのテープがアプリケーションで使われていない場合は,テープをシステム・プールの配下に割り当てる。
その後,［スタート］−［ファイル名を指定して実行］で「ntbackup」と入力し,NTBackupを起動したら,NTBackupでもテープの割り当てをチェックする(図3)。ここで,ウィザード画面から詳細モードに切り替え,オプションで［ユーザーに確認を求めず,認識可能なメディアを使用することを常に許可する］を選択しておくといいだろう。NTBackupとリムーバブル記憶域の間で,テープの割り当て情報に矛盾があっても,NTBackupで使うテープが自動的にリムーバブル記憶域の［Backup］メディア・プールに移動される。
テープを認識できなくても対処できる
NTBackupでもテープを認識できない場合は,改めてNTBackupへテープを割り当てる必要がある。未使用のテープを割り当てる最も簡単な方法は,そのテープを使って小規模なバックアップを実施することだ。
まず,NTBackupの詳細モードの画面で［バックアップ］タブを選択し,右側のウインドウからCドライブの直下にある「boot.ini」のような小さなファイルを選択する。バックアップの格納先が［新規］になっていることを確認した後,［バックアップの開始］をクリックすると,［バックアップジョブ情報］画面が開く。デフォルトで入力されている内容は一般的なものなので,分かりやすく書き換えるといいだろう。［バックアップの説明］欄に入力する内容は,［メディアの復元と管理］タブの説明欄に表示される。この記事では一例として,「第1金曜日のバックアップ」と入力する。
2つ目の欄に入力する「ラベル」は,NTBackupとリムーバブル記憶域の画面に表示するテープの名前である。ラベルを入力するときは,そのテープが定期的なバックアップで果たす役割を示す名前にするとよい。この記事では,毎月の第1金曜日にバックアップを実行することにしているので,「第1金曜日」としておく。準備が整ったら,［バックアップの開始］ボタンを押す。
テープがブランクでない場合は,警告画面が表示される。正しいテープを挿入していることを確認したら,［はい］をクリックするとバックアップが始まる。これで挿入されているテープがNTBackupに割り当てられる。定期的なバックアップに新しいテープを使うには,一連の操作を繰り返す必要がある。
割り当てられたテープは,リムーバブル記憶域の画面で一覧表示できる。左ウインドウにあるメディア・プールを展開して［Backup］を展開し,使用しているテープ装置を選択する。
NTBackupにテープを割り当てようとしたときに,いくつかのエラー・メッセージが表示されることがあるかもしれない。その場合は,テープの割り当てを解放して再割り当てを行う必要がある。テープの割り当て情報を解除するには,リムーバブル記憶域コンソールに表示されているテープを右クリックして,［すべてのタスク］−［解放］を選択して,続いて表示される［メディアの解放の確認］画面で,すべて［はい］を選択する。こうすることで,テープを［空き］メディア・プールにドラッグ&ドロップで移動できる。この手順が済んだら,再度バックアップを実行してみよう。
(次のページへ続く)
Windows読者限定 - 操作方法の特殊さを克服してNTBackupを使いこなす:ITpro
