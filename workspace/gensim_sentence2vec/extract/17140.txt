ポリシーによって制御されるクライアントの操作
IBM Tivoli Storage Manager のポリシーは、このセクションで説明する次のクライアント操作を支配します。
"バックアップとリストア"
アーカイブとリトリーブ
クライアントのマイグレーションとリコール
バックアップとリストア
|バックアップ/アーカイブ・クライアントは、ファイルとディレクトリーをバックアップし、リストアすることができます。UNIX および Windows システムのバックアップ/アーカイブ・クライアントは、論理ボリュームのバックアップとリストアを行うこともできます。バックアップは、ファイルが変更されるにつれ、ファイルの異なるバージョンを保存することができます。
バックアップ
情報の消失を防ぐために、バックアップ/アーカイブ・クライアントは、ファイル、サブディレクトリー、およびディレクトリーを、サーバーが制御するメディアにコピーすることができます。バックアップは、管理者が定義するポリシーおよびスケジュールによって制御するか、またはユーザーは自分のデータのバックアップを要求することができます。バックアップ/アーカイブ・クライアントは、次の 2 つのタイプのバックアップを提供します。
増分バックアップ
ファイルの管理クラスのバックアップ・コピー・グループに定義されているポリシーに従った、ファイルのバックアップ。増分バックアップは、一般的に、新しいファイル、または最後の増分バックアップの後で変更されたすべてのファイルをバックアップします。
選択的バックアップ
ユーザーが指定したファイルだけをバックアップします。このようなファイルは、バックアップ・コピー・グループに定義されているポリシー要件の一部にも適合していなければなりません。
論理ボリュームもバックアップできるバックアップ/アーカイブ・クライアントの詳細については、「バックアップ/アーカイブ・クライアント インストールとユーザーのガイド」を参照してください。論理ボリュームは、バックアップ・コピー・グループに定義されているポリシー要件のいくつかを満たす必要があります。論理ボリューム・バックアップ用のポリシーを参照してください。
リストア
ユーザーがファイルのバックアップ・バージョンをリストアする場合、サーバーはそのファイルのコピーをクライアント・ノードへ送ります。バックアップ・バージョンはサーバーのストレージに残ります。論理ボリューム・バックアップのリストアも同様に働きます。
バックアップ・バージョンが複数ある場合は、活動バックアップ・バージョンまたは、任意の非活動バックアップ・バージョンをリストアすることができます。
ポリシーが適切に設定されている場合、ユーザーは、バックアップ・ファイルを特定の時刻に合わせてリストアすることができます。要件の詳細については、クライアントの特定時点リストアを可能にするポリシーの設定を参照してください。
アーカイブとリトリーブ
後で使用するためまたは記録のためにファイルを保存する場合、ユーザーはバックアップ/アーカイブ・クライアントを使用して、ファイル、サブディレクトリー、およびディレクトリーを、サーバーが制御するメディアにアーカイブ (保管) しておくことができます。ユーザーはファイルをアーカイブするときに、クライアントがファイルをアーカイブした後で、バックアップ/アーカイブ・クライアントが元のファイルをワークステーションから消去するように指定することができます。
ユーザーがファイルをリトリーブする場合、サーバーはそのファイルのコピーをクライアント・ノードへ送信します。アーカイブされたファイルはサーバーのストレージに残ります。
クライアントのマイグレーションとリコール
Tivoli Storage Manager for Space Management プロダクトがワークステーションにある場合、ユーザーはファイルをワークステーションのストレージからサーバーのストレージにマイグレーションし、必要に応じてこれらのファイルをリコールすることができます。Tivoli Storage Manager for Space Management は、新しいデータのためにスペースを解放し、ストレージ・リソースをより有効に利用できるようにします。インストールされた Tivoli Storage Manager for Space Management プロダクトも、スペース管理クライアントまたは HSM クライアントと呼ばれます。
HSM クライアントを使用してマイグレーションおよびリコールが行われるファイルは、スペース管理されたファイル と呼ばれます。
Tivoli Storage Manager for Space Managementの使用の詳細については、「IBM Tivoli Storage Manager for Space Management for UNIX: User's Guide」を参照してください。
マイグレーション
サーバーにファイルをマイグレーションすると、クライアント・ノード上のそのファイルは元のファイルと同じ名前の小さいスタブ・ファイルで置き換えられます。このスタブ・ファイルには、サーバー・ストレージ上でマイグレーションされたファイルを見つけるために必要なデータが入っています。
Tivoli Storage Manager for Space Management には、選択マイグレーションと自動マイグレーション (マイグレーション) とがあります。
選択マイグレーションでは、ユーザーは名前を指定してファイルをマイグレーションします。自動マイグレーションには、次の 2 つのタイプがあります。
Threshold (しきい値)
スペースの使用状況がクライアント・ノードで設定されたマイグレーション開始しきい値 (高しきい値) を超えた場合、マイグレーションが開始され、やはりクライアント・ノードで設定されたマイグレーション停止しきい値 (低しきい値) に使用状況が下がるまで続けられます。
Demand (要求)
あるクライアント・ノードでスペース不足条件が発生した場合、マイグレーションが開始され、使用状況がマイグレーション停止しきい値 (低しきい値) に下がるまで続きます。
効率の良い自動マイグレーションが行われるように準備するために、Tivoli Storage Manager for Space Management はある割合のユーザー・ファイルを IBM Tivoli Storage Manager サーバーからコピーします。
事前マイグレーション・プロセスは、Tivoli Storage Manager for Space Management が自動マイグレーションを完了したときに常に発生します。次にクライアント・ノードでフリー・スペースが必要になったときは、サーバーに事前マイグレーション済みのファイルを、クライアント上でスタブ・ファイルにすぐに変更することができます。省略時の事前マイグレーション率は、マイグレーション開始しきい値 (高しきい値) とマイグレーション停止しきい値 (低しきい値) の差です。
自動マイグレーションと事前マイグレーションのファイルは、そのファイルが最後にアクセスされてからの日数とクライアント・ノードで設定された他の要因に基づいて選択されます。
再呼び出し
Tivoli Storage Manager for Space Management には、選択再呼び出しと透過再呼び出しの機能があります。選択再呼び出しでは、ユーザーは名前を指定してファイルを再呼び出しすることができます。透過再呼び出しは、ユーザーがマイグレーション済みファイルをアクセスするときに自動的に行われます。
調整
マイグレーションおよび事前マイグレーションでは、クライアント・ノード上のスタブ・ファイルとサーバー・ストレージ内のスペース管理されたファイルの間に不整合を生じる場合があります。例えば、ユーザーがクライアント・ノードからマイグレーションされたファイルを削除しても、そのコピーはサーバーに残っています。IBM Tivoli Storage Manager は、クライアント・ノードで設定された一定の間隔で、クライアント・ノードとサーバー・ストレージとを比較し、古いファイルやクライアント・ノードにないファイルがあればサーバーから削除して、両者の間を調整します。
[ ページのトップ | 前ページ | 次ページ | 目次 | 索引 ] 
IBM Tivoli Storage Manager for AIX:  管理者の手引き - ポリシーによって制御されるクライアントの操作
