
第1章 ファイルの概念
1 レコードとファイル
1. 1 ファイルとは
日常、会社の業務や私生活などでファイルという言葉を使用するが、これは身の回りの様
々な情報を、いろいろな形で整理、分類、保存することを意味する。
目的が異なる情報は、混在させずに分野ごとにまとめて管理する必要がある。たとえば、
日々の社会の出来事を伝えてくれる新聞と、企業や家族への来客者の名刺などを同じファイ
ルにひとまとめにはできない。情報処理の分野においても同様で、発生したデータは分野ご
とににまとめて管理し、その内容を加工したり、新たに整理、分類、保存のためファイルを
作成したりする。情報処理用語としてのファイルとは、「情報処理の目的で、一つの単位と
して取り扱われる関連したレコードの集まり」である。
コンピュータで扱われるファイルは、人手で処理されていた伝票や帳票を、コンピュータ
で処理できる形式にして補助記憶装置の磁気ディスクや磁気テープに記憶され保存されたも
のである。
1. 2 ファイルの構成
ある企業の来客情報を保存するファイルを例に考えてみることにする。来客情報を整理す
るためには、来客者ごとの番号や来客者名、住所および電話番号などが必要になる。これら
が、来客者ごとに一連の関連データとなり記録される。この関連データの集まりをレコード
と呼ぶ。ファイル中のデータは、一定様式の項目が並んだレコードで成り立っている。
(1) 項目(フィールド)
項目(フィールド)とは、来客番号、来客者名、住所および電話番号のようにプログラム
で取り扱う意味のある情報の最小単位をいう。このなかで、来客番号のようにファイル中の
レコードを他のレコードと識別できる項目をキー項目と呼ぶ。
(2) レコード
レコードは、複数個の項目から構成される。来客情報で考えれば、来客番号、来客者名、
住所および電話番号が1人分の情報として考えられる。この1人分の項目の集まりをレコー
ドと い う。また、プログラム言語との関連で考えると、READ(読み込み)命令、W
RITE(書き込み)命令の対象となる情報群である。
図表1・1 項目とレコード
(3) ファイル
ファイルは、一定の意味を持って組織化されたレコードの集合である。
来客情報を例にあげると、レコードは1人分の情報となる。これらのレコードを集めて、
一つのまとまりを持たせた情報の集合をファイルと呼ぶ。来客情報であれば、来客情報ファ
イルなどと呼ばれる。
(4) ファイルの構成要素
コンピュータでデータを表現する場合は、1バイトで一つの文字を表現する。なお、情報
の最小単位は、ビット(bit)であり、8ビットを単位としてバイト(byte)と呼ぶ。
文字が複数集まって項目を作り、項目が複数集まってレコードを構成する。また、レコー
ドが特定の編成法により編成され、ファイルを構成する。
図表1.2 ファイルの構成要素
1.3 ファイルの記憶媒体
コンピュータで扱うデータは、ファイルという形式で補助記憶装置に記憶される。この補
助記憶装置に使用される記憶媒体の種類として、磁気ディスク、磁気テープ、フレキシブル
ディスク(フロッピーディスク)および光ディスクなどがある。
(1) 磁気ディスク
磁性材料を塗布した金属円盤を数枚から10数枚重ねたもので、大量のデータやプログラ
ムの記憶用として用いられる。この媒体はあらゆる編成のファイルを作成できる。
即時に処理を要求するレコードを読み書きできることから、直接アクセスでよく利用され、
DASD(Direct Access storage Device:直接アクセス記
憶装置)と呼ばれることもある。
(2) 磁気テープ
この媒体は、テープの表面に磁性材料を塗布したもので、主に大量のデータやプログラム
の保管用として利用される。順次アクセス用の記憶媒体である。
(3) フレキシブルディスク(フロッピーディスク)
この媒体は、ビニール製の円盤の表面に磁性材料を塗布したもので、磁気ディスクに類似
している。主にパソコンやオフコンなどの補助記憶用に用いられる。磁気ディスクと同様に、
あらゆる編成のファイルを作成できる。
(4) 光ディスク
光ディスクは、ディスクの薄膜にレーザ光で微小な孔をあけデータを記録し、読み出すと
きは光の反射光によって読み取る。この媒体は、記録密度が非常に高く磁気ディスクの10
倍以上のデータが記録できる。
1.4 論理レコードと物理レコード
前述の例において、1レコードは来客情報の一連の関連項目の集まりであった。言い換え
れば来客者1人に関するデータ項目(フィールド)の集合体で、プログラムで処理するとき
の基本単位になり、これを論理レコードという。
それに対して、主記憶装置と入出力装置間で転送されるデータの物理的な単位レコードを
物理レコードという。これは、ハードウェア間におけるデータ転送で、1単位として扱うレ
コードを指している。
一つの論理レコードが一つの物理レコードとなる場合もあるが、通常はブロック化されて
いるために複数の論理レコードをまとめて一つの物理レコードとする場合が多い。
(1) ブロッキングとデブロッキング
利用者がプログラムを通して扱うのは論理レコード単位である。しかし、1物理レコード
に1論理レコードのみを記録するとIBG(またはIRG)の割合が多くなるため、複数の
論理レコードをまとめて記録する手法が用いられる。
いくつかの論理レコードをまとめて一つのブロック(物理レコード)にすることを、ブロ
ッキングまたはブロック化といい、逆に一つの物理レコードから論理レコードを取り出すこ
とをデブロッキングまたは非ブロック化という。
ブロッキングされた物理レコードをブロック化レコードと呼ぶ。ブロック化レコードでは、
1物理レコードの中に、複数個の論理レコードが含まれることになる。また、1物理レコー
ドの中に含まれる論理レコードの数を、ブロック化係数(BF)という。
これに対して、ブロック化しないで記録した物理レコード(1物理レコード=1論理レコ
ード)を非ブロック化レコードという。
ブロック化は、主記憶装置と補助記憶装置の入出力回数を減らし、入出力の処理効率と記
憶効率の向上につながる。
1.5 レコードの形式
論理レコードの形式には、固定長非ブロック化レコード、固定長ブロック化レコード、可
変長非ブロック化レコード、可変長ブロック化レコード、不定長レコードおよびスパンドレ
コードがある。
(1) 固定長非ロック化レコード
ファイルに存在する論理レコードの長さがすべて同一であるとき、このレコードを固定長
レコードという。
図表1・4(a)に示すレコードは、1論理レコードが1物理レコードのときで、固定長
非ブロック化レコードと呼ばれる。
図表中、IBGは物理レコードの間に生じる何も記録されない空白部分のことである。
(2) 固定長ブロック化レコード
論理レコードの長さがすべて同一で、いくつかの論理レコードがブロッキングされ一つの
ブロック(物理レコード)を構成しているものを固定長ブロック化レコードという。
図表1・4(b)は、三つの論理レコードで一つの物理レコードを構成している。
(3) 可変長非ブロック化レコード
ファイルに存在する論理レコードの長さが一定でないものを可変長レコードという。図表
1・4(c)は、可変長論理レコードが1つで1物理レコードを構成している様子を示して
いる。BDWという1物理レコードの長さを表現するブロック記述項目と、RDWというそ
れぞれのレコードの長さを表現するレコード記述項目が必要になる。
1可変長論理レコードで、1物理レコードを構成しているとき、これを可変長非ブロック
化レコードという。
(4) 可変長ブロック化レコード
可変長論理レコードがブロッキングされている形態を可変長ブロック化レコードという。
(図表1・4(d))
(5) 不定長レコード
ファイルに存在する論理レコードの長さが一定でないことは、可変長レコードと同じであ
るが、可変長レコードとの違いはBDW、RDWを持たないことである。(図表1・4(e))
(6) スパンドレコード
隣接した複数のブロックに、一つのレコードがまたがっている形式のレコードをスパンドレ
コードという。(図表1・4(f))
図表1・4 レコード形式
(7) テキストレコード
パーソナルコンピュータが主に使用するレコード形式であり、ワープロ文章や表計算アプ
リケーションのデータファイルなどが代表例である。
2 情報システムとファイル
2.1 情報処理形態の種類
最近ではデータ通信技術の発達により、コンピュータと端末装置を通信回線で結んで、い
ろいろな形でコンピュータを利用するようになってきた。
これら両者の結びつきにより今後さらに広い範囲での利用が予想される。ここでは、デー
タ通信とコンピュータとの結びつきにより、可能となったデータ処理方式を、ファイル処理
の観点から説明する。
(1) バッチ処理
バッチ処理とは、発生したデータを一定期間蓄え、一括処理する方式である。
たとえば、小売店のある商品の月末在庫を把握するために、毎日の仕入れと売上げの記録
を1ケ月分貯えておき、月末にそれらを一括して処理するような場合に使用される。
この処理方式の場合、多くのデータを一括処理することができるため、単位時間当たりに
処理される仕事の量(スループット)が大きいという利点がある。
(2) オンライン処理
オンライン処理とは、「処理要求やデータをその発生箇所から途中に人手を介さずに、直
接計算機に入力し、かつ処理結果を必要な箇所に直接出力する方式」である。
このため、問合せ型、交換型および集信型・配信型の三つは、オンライン処理とみなすこ
とができる。
オンライン処理の中で、問合せ型はオンラインリアルタイム処理と同義に扱われ、即時処
理ともいわれる。通常はデータ発生場所で端末装置からデータを入力し、処理結果をできる
だけ早く端末装置に返す形態がとられている。
オンラインリアルタイム処理の応用例は多く、JR、私鉄、航空会社の座席予約システム、
銀行預金の預入れや引き出し処理および交通管制や列車の運行制御などに用いられている。
交換型は、必要な処理を行い、指定端末へメッセージを送り返す処理を行う。
集信型・配信型は、一定期間のデータをすべて収集した後に処理し、結果を配信する。図
1・6にオンライン処理の形態を示す。
(a) 問合せ型(オンラインリアルタイム処理)
(b) 交換型
(c) 集信型・配信型
2.2 ファイルのアクセス法の種類
ファイルのアクセス法の種類としては、順次アクセス、直接アクセスおよび動的アクセス
の3種類がある。
(1) 順次アクセス
ファイル内のレコードを、先頭から順番にアクセスする方式を順次アクセスという。バッ
チ処理では、多量のデータを一括処理するため、順次アクセスを利用することが多い。
図表1・7 順次アクセス

