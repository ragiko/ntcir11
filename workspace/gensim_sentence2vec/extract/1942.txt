ダイレクト入力枠
配置データ文を直接入力できるコンボボックスです。譜面ファイルをメモ帳などのテキストエディタで開いたとき、
*---------------------- MAIN DATA FIELD
というコメントの以降にある部分は、このフォームから 1 行ずつ入力できます。
たとえば (1) このフォームを左クリックして、(2) キーボードから #00011:FOON と入力し、(3)  を左クリックすると、「#000 の 1 Player 側 1 鍵盤レーン」 に 「オブジェクト番号 FO / ON」 が 「小節を 2 等分する間隔」 で配置されます。
テキストボックス右端の矢印アイコンを左クリックすると、直近 10 件までの入力履歴リストがドロップダウンします。矢印キー , ホイール回転, マウスオーバーなどで履歴アイテムを選択できます (エンターや左クリックで確定)。この入力履歴は BMSE 終了時にクリアされます。
ダイレクト入力は、使い方次第で編集効率が向上する機能です。たとえば連番オブジェクトの書き込みや、配置間隔の変更を一括で行うなど。(テンプレート例)連番オブジェクトの書き込みに特化した譜面編集支援ソフト BmWh を BMSE と併用すると、同じことがもっと簡単にできるようになります。
* 配置データとして解釈されない記述を入力すると無視されます (変更フラグは立つ)。
* ダイレクト入力は Undo Counter にカウントされません。つまり、【直接入力でオブジェクトを書き込む操作】 には "元に戻す / やり直し" が適用されません。ダイレクト入力で書き込んだオブジェクトに対する 移動, 切り取り, コピー, 貼り付け, 削除 などの編集作業は通常通り行えます (こちらは "元に戻す / やり直し" も可能)。
BMSE 1.3.9 beta14 では、たしかダイレクト入力も "元に戻す / やり直し" ができたような気がします (* 手元にないため未確認)。
* 配置済みオブジェクトの真上にオブジェクトを直接入力した場合、オブジェクトが一時的に重なった状態になります。単体選択で山を崩すことができます。配置済みオブジェクトの真上に番号 00 (休符) を直接入力した場合、その場所には配置済みオブジェクトが残ります。設定や環境によっては、配置済みオブジェクトの真上にダイレクト入力を行うと不具合が生じるようです。直接入力したオブジェクトが一時的に単体選択できなくなるなど。
* 譜面を読み込まずに BMSE を起動したとき、ダイレクト入力が効きません。譜面のドラッグ & ドロップや関連づけによって BMSE を起動するか、BMSE 起動後に譜面ファイルを一度でも開けば、以降ダイレクト入力が有効になります。これは BMSE 1.3.8 のバグです (1.3.9 beta 14 で修正されました)。
* #xxx01 (BGM) をダイレクト入力すると強制終了します (BMSC では入力可)。
* BMSE のダイレクト入力で小節長変更 (#xxx02:n) を行うと、表示がおかしくなります。1.3.9 beta 14 で修正されましたが "元に戻す / やり直し" などでも微妙に不具合が出るようなので、小節長の直接入力は避けたほうが良さそうです。
* ダイレクト入力による 拡張 BPM / STOP の書き込みは、1 ~ 1295 の整数値を 2 桁の 36 進数で指定する形になります。たとえば #00008:11FF00zz と入力すると、「#000 の BPM レーン」 に 「11 (=37) / FF (=555) / 00 (=休符) / ZZ (=1295)」 が 「小節を 4 等分する間隔」 で配置されます。拡張 BPM はマイナス値も直接入力できるようですが、よくわかりません。小数値はたぶん直接入力できないと思いますが、これもよくわかりません。
1 ~ 255 の整数値は、標準 BPM チャンネル (#xxx03:) から 2 桁の 16 進数で書き込むこともできます。たとえば #00003:11ff と入力すると以下のようになります。
* ダイレクト入力を行ったとき再描画範囲が広すぎると、BMSE が強制終了します。垂直スクロール範囲を一気に広げようとして #99911:11 とか入力すると落ちます。
閾値は調べていませんが、要は広範囲の再描画を行わなければオーバーフローは回避できるので、小節をたくさん入力する予定があるときはあらかじめ譜面ソースにダミーを記述しておき (#99911:11 のように)、それを開くようにすれば問題ありません。
全小節 4/4 拍子、End キーの移動先が [#166 ~] より少ないとき、#154 以降にダイレクト入力すると落ちます。#153 への直入力はセーフ。そこまでのどこか 1 小節の長さを 21/32 以下にしておくと、#154 への直入力もセーフになります (43/64 以上だと、#154 への直入力でアウト)。
全小節 4/4 拍子、End キーの移動先が [#166 ~] より多く [#500 ~] より少ないとき、#495 以降にダイレクト入力すると落ちます。そこまでのどこか 1 小節の長さを 63/64 以下にしておくと、#495 への直入力もセーフになります。
#000 ~ #100 あたりまで拍子をすべて 64/4 にすると、#047 以降に直接入力したとき落ちます。#000 ~ #050 あたりまで拍子をすべて 64/4 にすると、#050 に直接入力しても落ちません。
配置チャンネル
#xxxch:n の形式で記述します。#xxx は小節番号、ch はチャンネル番号です。
n は配置するオブジェクトの定義番号です。コロン以降のオブジェクトの個数で、小節を等分します。たとえば #00104:110022 なら、#001 の BGA レーンに、小節を 3 等分する間隔で、オブジェクト 11, 00, 22 を配置します。番号 00 は休符です。
定義番号は 2 文字でオブジェクト 1 個を示すので、コロン (:) 以降の文字数は必ず偶数になります (奇数のとき、BMSE は末尾 1 文字を無視します)。
ch
レーン
ダイレクト入力の際の備考
01
BGM
小節を音声オブジェクト個数で等分する* BMSE で BGM をダイレクト入力すると落ちる
02
小節長
* このチャンネルのみ、拍子の値を指定するたとえば 7/16 拍子なら、#xxx02:0.4375 と記述するただし BMSE では小節長のダイレクト入力は非推奨
03
標準 BPM
1 ~ 255 の整数値を、2 桁の 16 進数で指定
04
BGA
小節を映像オブジェクト個数で等分する
06
POOR
07
LAYER
08
拡張 BPM
1 ~ 1295 の整数値を、2 桁の 36 進数で指定
09
STOP
1 ~ 1295 の整数値を、2 桁の 36 進数で指定
11-19
1P 可視
小節を音声オブジェクト個数で等分するチャンネル番号 11-69 において、末尾の番号は演奏領域のレーンを表す 1-5 は鍵盤 1 ~ 5 番 6 はスクラッチ 7 はフリースクラッチ (BMSE は無視する) 8-9 は鍵盤 6 ~ 7 番
21-29
2P 可視
31-39
1P 不可視
41-49
2P 不可視
51-59
1P LN
61-69
2P LN
以下はテーマファイルを編集し、レーン情報にチャンネルナンバーを表示させた例。(example.ini)
以下は配置チャンネルナンバーと同じ定義番号のオブジェクトを配置した例。bms
oct/fp
pms
テキスト入力フォームの操作
他の部位のテキスト入力操作もこの項にまとめています。
操作
結果
* 以下はテキスト入力フォーム上にフォーカスがないときの操作
テキストボックス左クリック
テキストボックスにフォーカスコンボボックスの場合、左クリック時にテキストボックス内に文字列があれば、その文字列を全選択しつつフォーカスする
テキストボックス右クリック
テキストボックスにフォーカスし、入力フォームのコンテキストメニューを開く (後述)コンボボックスの場合、右クリック時にテキストボックス内に文字列があれば、その文字列を全選択しつつメニュー開く
コンボボックス領域上で ホイール回転
リストアイテムがあるとき、リストを展開せず選択
左クリック
テキストボックスにフォーカスし、リストを展開テキストボックスに文字列があれば、その文字列を全選択しつつリストを展開下方向のスクリーン高さがリスト高さに満たない場合、リストをプルアップ展開
左クリック
ダイレクト入力枠のテキストボックス内に文字列があればそれを配置データとして入力し、テキストボックス内文字列をクリアしてフォーカス* テキストボックスが空ならフォーカスしない
左クリック
#BGA タブのテキストボックス内に文字列があればそれを定義リストに登録し、テキストボックス内文字列をクリア
* 以下はオブジェクトパネル (拡張命令タブなど) のスクロールバー操作
* グレーアウト時
内容がテキストボックス 1 ページに収まる場合、以下のスクロールバー操作は無効
左ドラッグ
ドラッグ中、縦横にライブスクロール* 垂直スクロールバーのノブ高さは自動伸縮する(ウィンドウサイズや文書全体の行数に依存)* 水平スクロールバーのノブ幅は縮む一方(テキストボックスを空にするか譜面を開くまで、一度伸びた水平バーの全長は短くならない)
左クリック
上下に 1 行ずつスクロール
左クリック
左右に 1 文字ずつスクロール
トラックを左クリック
ノブ位置からクリック位置の方向に、1 ページ (= ノブ長さ) ずつスクロール押しっぱなしでクリック位置まで連続スクロール
スクロールバー領域を右クリック
スクロールバーのコンテキストメニューを開く マウスオーバー, 矢印キーで項目を選択選択した項目を、左右クリックや Enter で実行Esc や F10 や他の場所をクリックで閉じる
以外をShift + 左クリック
クリック位置に瞬時にスクロール(コンテキストメニュー "ここにスクロール" と等価)
* 以下はスクロールメニューとほぼ等価な操作 (拡張命令タブで有効)
左の端 [Home]
最上部 [Ctrl + Home]
右の端 [Ctrl + Page Up]
最下部 [Ctrl + End]
左のページ [不明]
前のページ [Page Up]
右のページ [Ctrl + Page Down]
次のページ [Page Down]
* 以下はメインパネル & 定義リスト領域上にマウスポインタがないとき有効
Tab,Shift + Tab
メインパネル / メニューバー 以外の場所にフォーカスを移動 (Shift + Tab で逆方向移動)
* 以下は入力フォームのボタンにフォーカスがあるとき有効
Space, Enter
ボタンを押下することで各テキストボックスにある内容を入力
* 以下はテキストボックスにフォーカスがあるとき (キャレット点滅中) 有効
任意のキー
フォーカスがあるテキストボックスに文字を入力選択文字列があるとき、選択範囲を削除して入力
Alt + テンキー
文字コードを指定して入力 (参照)
テキストボックス右クリック,アプリケーションキー,Shift + F10
入力フォームのコンテキストメニューを開く (サブメニュー)マウスオーバー, 矢印キーで項目を選択選択した項目を、左右クリックや Enter で実行各項目アクセスキーで、選択と同時に実行Esc や F10 や他の場所をクリックで閉じるグレーアウト項目は状況に依存する
マウスアウト
メインパネル / 定義リストにマウスオーバーするとそちらにフォーカスが奪われる
矢印キー 
キャレットを左右に移動選択文字列があるとき、選択を解除
矢印キー ,ホイール回転 
リストアイテムがあるとき、リストを展開せず選択
左クリック,Alt + 矢印キー ,Shift + F4
ドロップダウンリストを展開 (履歴は 0 ~ 10 件)/ リスト展開中ならリストを折りたたむ矢印キー , ホイール回転, Page Up / Down,マウスオーバーなどでリストアイテムを選択左クリック, Enter で選択アイテムを確定Esc で展開中のリストを折りたたむ垂直バーのノブを左ドラッグでライブスクロールトラックを [Shift + 左クリック] で瞬間スクロール  左クリックでリストを 1 行ずつスクロールスクロールバー右クリックで意味なしメニュー開く
左クリック
クリック位置にキャレットを移動選択文字列があるとき、選択を解除
Home
キャレットを行頭に移動
End
キャレットを行末に移動
Backspace,Ctrl + H
キャレットの左にある 1 文字を削除/ 選択文字列があるとき、選択文字列を削除
Delete
キャレットの右にある 1 文字を削除/ 選択文字列があるとき、選択文字列を削除
Insert
キャレット位置に文字列を挿入挿入モードは他の特殊キー押下時に解除
Page Up,Page Down
ドロップダウンリストの選択されている項目から、最大 7 件上or下にあるリストアイテムを選択(リスト 1 ページのアイテム表示件数は最大 8 件)リストそのものの展開・非展開状態は問わない/ 拡張命令タブでは 1 ページ量、垂直スクロール
Shift + Page Up,Shift + Page Down
1 ページ量、垂直スクロールし、かつスクロールした区間の文字列を全選択(* 1 行フォームでは無効)
Ctrl + Page Up
水平スクロールバー末尾にスクロール(* 1 行フォームでは無効)
Ctrl + Page Down
1 ページ量、右にスクロール(* 1 行フォームでは無効)
左ドラッグ, Shift + 
押下中、マウスポインタやキャレットが通過した文字列を選択状態にする左クリックやキャレット戻すと選択を解除
Shift + 
上下行のキャレット位置までの範囲を選択* 1 行フォームでは [Shift + ] と等価* コンボボックスではリストアイテム選択が優先
Shift + 左クリック
Shift 押下中、範囲選択の始点を固定し、任意の左クリック位置を範囲選択の終点に指定
Shift + Home
キャレット位置から行頭までの文字列を全選択
Shift + End
キャレット位置から行末までの文字列を全選択
Ctrl + Home
キャレットを文書全体の先頭に移動
Ctrl + End
キャレットを文書全体の末尾に移動
Ctrl + Shift + Home
キャレット位置から文書先頭までの区間を全選択
Ctrl + Shift + End
キャレット位置から文書末尾までの区間を全選択
Ctrl + 
キャレットを左右に単語ごとに移動
Ctrl + Shift + 
キャレット位置から左右に、単語ごとに範囲選択
Ctrl + Delete
キャレット位置から行末までの文字列を削除
左ダブルクリック
クリック位置の単語のみを範囲選択
Ctrl + A
入力フォーム内の文字列をすべて選択
Ctrl + X, Shift + Delete
選択文字列を切り取り
Ctrl + C, Ctrl + Insert
選択文字列をコピー
Ctrl + V, Shift + Insert
貼り付け
Ctrl + Z
元に戻す (* コンボボックスでは無効)
Ctrl + Y
やり直し (* コンボボックスでは無効)
Ctrl + J, Ctrl + M
改行文字を入力 (* 1 行フォームでは無効)
Ctrl + Tab, Ctrl + I
Tab 文字を入力 (* 1 行フォームでは無効)
Enter
テキストボックス内文字列を配置データとして入力* ダイレクト入力枠のみ有効だがたまに効かない* 拡張命令タブでは Enter は改行
* 以下は MS-IME が有効なときの操作
[半角 / 全角]
[IME 有効 > IME 無効] のトグル/ 未変換文字列 or 文節があるとき、全確定
F10, Ctrl + T
うっかり IME 有効状態で文字列を入力したとき、確定前の文字列を半角英数に変換[小文字 > 大文字 > 先頭のみ大文字 > ...]
F5, Ctrl + Y
確定前の文字列を部首変換
F6, Ctrl + U
確定前の文字列をひらがなに変換[先頭から 1 文字ずつカタカナに変換]
F7, Ctrl + I
確定前の文字列をカタカナに変換[末尾から 1 文字ずつひらがなに変換]
F8, Ctrl + O
確定前の文字列を半角カタカナ (半角) に変換[1 文字ずつかな変換 / 大文字小文字変換]
F9, Ctrl + P
確定前の文字列を全角英数に変換* [Ctrl + P] > [Ctrl + O] で半角英数になる
左クリック
確定前の文節群をクリック位置に移動・挿入
矢印キー 
未変換文字列の先頭にキャレットを移動/ アクティブな文節を前候補変換/ 文節長の変更中、選択範囲を短縮
矢印キー 
未変換文字列の末尾にキャレットを移動/ アクティブな文節を次候補変換/ 文節長の変更中、選択範囲を伸張
Shift + 
文節の区切り直し (注目文節)
Shift + 
未変換文字列 or 文節を先頭から順に確定
Ctrl + 
注目文節を確定
Ctrl + 
未変換文字列の先頭 / 末尾にキャレットを移動
Ctrl + 
アクティブな文節を前候補変換
変換キー
変換 / アクティブな文節を次候補変換/ 確定済み文節の再変換
Shift + 変換キー
変換候補のメニュー表示中、前候補変換
Ctrl + 変換キー,Ctrl + F10
IME のコンテキストメニューを開く(プロパティ-全般タブ-設定ボタンで 設定一覧)
Space
変換 / アクティブな文節を次候補変換
Shift + Space
変換 / アクティブな文節を前候補変換
Ctrl + Space
半角スペースを入力
Ctrl + Shift + Space
全角スペースを入力
Ctrl + Backspace
確定直後に入力で、未確定状態に戻す
Ctrl + Delete
確定前文字列の以降から行末までを削除/ 変換候補のメニューから、選択中の変換候補を一時的に削除する (詳細)
Shift + Alt * 未確認
入力言語の切り替え (日本語 > 中国語 等)
Shift + Ctrl * 未確認
キーボードレイアウトの切り替え(MS > ATOK, スタンダード > ナチュラル 等)
Tab * 未確認
変換候補選択中に、すべての選択肢を表示
無変換
ひらがな、カタカナ、半角カタカナ(モードトグル / 文字列変換トグル)英数入力時は 全角 > 半角 トグル変換
Shift + 無変換
全角英数、半角英数 (文字列変換トグル)
Caps Lock
全角英数、ひらがな (モードトグル)
ひらがなキー
IME を有効化して、ひらがな入力モードに
Shift + ひらがなキー
IME を有効化して、カタカナ入力モードに
Alt + ひらがなキー,ローマ字キー
ローマ字入力 / かな入力 の切り替え
Ctrl + E
変換前の文字列の先頭にキャレットを移動/ アクティブな文節を変換 (前候補)
Ctrl + A, Home,Ctrl + 
変換前の文字列の先頭にキャレットを移動/ 先頭文節に移動
Ctrl + S or D,矢印 
変換前の文字列のキャレットを左右に移動/ 文節を左右に移動
Ctrl + F, End,Ctrl + 
変換前の文字列の末尾にキャレットを移動/ 末尾文節に移動
Ctrl + G, Delete
変換前の文字列の、キャレットの右 1 文字を削除
Ctrl + H, BackspaceCtrl + BackspaceShift + Backspace
変換前の文字列の、キャレットの左 1 文字を削除/ アクティブな文節の変換を取り消し
Ctrl + J
確定前の文字列の直前位置で改行確定前の状態は維持 (* 1 行フォームでは無効)
Ctrl + K or L
変換前の文字列のキャレットを左右に移動/ 文節の区切り直し (注目文節)
Ctrl + Z, Esc
変換前の文字列を削除/ 文節区切り時、文節区切りを取り消し/ アクティブな文節の変換を取り消し* 連続入力するとすっきり爽快
Shift + Esc
変換前の文字列を削除/ 文節区切りをすべて取り消し
Ctrl + X
アクティブな文節を次候補変換
Ctrl + N
変換中の文字列を全確定 /変換中の文字列が選択されているとき、選択範囲のみ変換を確定 (注目文節)
Ctrl + M,Enter, Ctrl + Enter
変換中の文字列を全確定
Page Up / Down,Shift + 
変換候補メニューのページめくり
Home / End
変換候補メニューのアイテム先頭 / 末尾
Ctrl + 変換キー
変換候補メニュー表示中、漢字の読み候補をすべて表示 (画像)
アプリケーションキー
変換候補メニュー表示中、一覧メニュー表示 コレを左クリックするのと同じ (画像)
* そもそも BMSE に IME 関係ないし!
ダイレクト入力枠
