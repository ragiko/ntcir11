
ホーム > QoS > QoS - クラス分類とマーキング
QoS - クラス分類とマーキング
QoS で使われる色々な機能 QoS の細かい話に入る前に、QoS がどのような動作をしているのか について書いておきましょう。 QoSの基本的な機能には以下の4つがあります。  クラス分類(Classification) マーキング(Marking) キューイング(Queuing) スケジューリング(scheduling)  
QoS は特定のトラフィックを他のトラフィックよりも優先させて 通信を行ったり、トラフィックが輻輳していても特定のパケットだけは 廃棄させないようにするための機能です。 ということはつまり QoS は、まず優先させるためのパケットを 分類することから始めるわけですね。 分類するキーワードには様々あるのですが、代表的なキーワードは 以下の通りです。  送信元 / 宛先IPアドレス   送信元 / 宛先ポート番号   入力インタフェース   パケットサイズ   NBAR(Network Based Application Recognition)   IP Precedence   DSCP   CoS(Class of Service)   MPLS Exp  このように、アプリケーションや宛先アドレスなど、パケットを ある特定の条件で分類することを、「クラス分類(Classification)」と呼んでいます。 
分類されたパケットをそれぞれグループ化するプロセスを 「マーキング(Marking)」と呼んでいます。 ネットワークに流れているパケット毎に、特定の条件にマッチしたものを それぞれの優先度に合わせてグループ化していきます。 具体的には、パケットのヘッダにある以下のフィールドに記述していきます。 IP Precedence   DSCP   CoS(Class of Service)   MPLS Exp IP Precedence / DSCP IP Precedence と DSCP は IP ヘッダの ToS(Type of Service)フィールド にあります。 
ToS フィールドの上位 3 ビットを IP Precedence としてパケットを マークするために使用されます。 IP Precedence は 3 ビットのため、0 ～ 7 まで 8 クラスしか 分けることは出来ない。 そこで、IP Precedence を拡張させるために考えられたので DSCP です。 DSCP は ToS フィールドの上位 6 ビットを使用し、最大 64(0 ～ 63) まで分類が可能となっています。 さらに、IP Precedence と同じ ToS フィールドを使用しているため、 IP Precedence との互換性も保たれています。 CoS(Class of Service) CoS は、IEEE802.1Q VLANタグ内のフィールドで、レイヤ 2 フレームに 優先度を付与する際に使用されます。 CoS はイーサヘッダ内ではなく、VLAN タグ内の TCI フィールドに 記述されます。 CoS については、別途 Switch の QoS について書く際に詳しく 解説する予定です。 MPLS Exp MPLS Exp は MPLSラベル内のExp(Experimental)ビットに設定します。 MPLS ネットワーク内で、QoS を実施する際に使用されます。 MPLS に関してはここでは解説しませんです。 MPLS に興味の有る方はこちらをごらんくださいませ。 MPLS技術 以上のようにネットワーク上のルータに、上記フィールドの優先度を 設定しておけば、そのネットワーク上を流れるパケットごとに 優先度を確認し、輻輳が起こった際は優先度の高いパケットを 優先して転送するわけです。
おすすめ記事
改正労働基準法で注目!勤怠管理システム
「BIツール」シェア
直感で解決!カオスコンピュータってなんだ
失敗しない!グループウェア選び9つの心得
おすすめ書籍紹介
マスタリングTCP/IP 応用編入門編を卒業したらこちら。 応用編も入門編と同様に豊富な図を使用し、TCP/IPに関するさらに詳細な解説を記している。 特にパッケットの構造はかなり詳細に解説しており、初心者にはすこしつらいかもしれないが非常に読みやすいのでぜひ読んでみてほしい。  インターネットルーティング入門 第2版 ネットワーク初心者の方にぜひおすすめしたい一冊。絵を豊富に使用し、「ルーティングとは」から始まり最後はRIP、BGP、MPLSまで深い解説ではなく、浅く満遍なく解説しています。 この本が理解できればルーティングスキルの第一歩を踏み出せるでしょう。 
関連記事
QoSとはQoSの基本 QoS - クラス分類とマーキングクラス分類とマーキングについて学んでいきましょう QoS - それぞれの機能QoSの3つの基本機能について QoS - 輻輳制御 (Queueing)輻輳制御 (Queueing)についての解説 QoS - プライオリティ・キューイング(PQ)プライオリティ・キューイングについての解説 QoS - カスタムキューイング(Custom queueing)カスタム・キューイングについての解説 QoS - カスタムキューイング(Custom queueing)その2カスタム・キューイングについての解説 QoS - WFQ(Weighted Fair Queue)その1WFQ(Weighted Fair Queue)についての解説 QoS - WFQ(Weighted Fair Queue)その2WFQ(Weighted Fair Queue)についての解説 QoS - IP PrecedenceIP Precedenceについての解説 QoS - DSCPDSCPについての解説 QoS - CBWFQCBWFQについての解説 QoS - LLQ (Low Latencey Queuing)LLQについての解説 QoS - WRED(Weighted Random Early Detection)WREDについての解説 QoS - ポリシングとシェーピングポリシングとシェーピングについての解説 QoS - GTS(Generic Traffic Shaping)GTSについての解説 
メールマガジン
ネットワ−ク初心者のみなさま。
ネットワークの基礎知識を疎かにすることは
大変危険です!! 
「初心者にも理解できるネットワーク技術」
これを読めばネットワークの基礎が分かる!!
ネットワーク関連の仕事に就きたいとお考えの学生の方や、ネットワークに興味があって転職を考えている社会人の方、まずは登録してみてください。
もちろん無料です!!
メールマガジン購読はこちら
メールアドレス:
ネットワークエンジニアにおすすめのサイトはこちら 
Search
QoS - クラス分類とマーキング - ネットワークエンジニアを目指して
