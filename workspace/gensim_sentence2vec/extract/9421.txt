今回はandroid:layout_weight属性を使ったレイアウトの編集方法について紹介します。レイアウトを編集している時、画面に真ん中で半分に分けて修正したい時があったんですが、Android端末って機種によって画面のサイズも解像度も違うから、ピクセル単位で指定しちゃうと他の機種では表示が崩れる事があるんですよね。そんなときに使ったのがandroid:layout_weightでした。
占有比率って難しい言葉ですよね・・・割合というかなんというか・・・オブジェクトAが画面の40%を使用して、オブジェクトBが30%使用して、オブジェクトCが20%使用して、オブジェクトDが10%使用するといった設定がでるわけです。画面にオブジェクトが1個しかない時はなんとも無意味な属性ですが、2個以上になった時に力を発揮します。画面を縦に3分割して、それぞれにボタンをフルサイズで表示するプログラムです。<?xml version="1.0" encoding="utf-8"?><LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"    android:layout_width="fill_parent"    android:layout_height="fill_parent"    android:orientation="vertical"    >    <Button        android:id="@+id/btn1"        android:layout_width="fill_parent"        android:layout_height="0dp"        android:text="Button A"        android:layout_weight="1"        />    <Button        android:id="@+id/btn2"       android:layout_width="fill_parent"        android:layout_height="0dp"        android:text="Button B"        android:layout_weight="1"        />    <Button        android:id="@+id/btn3"        android:layout_width="fill_parent"        android:layout_height="0dp"        android:text="Button C"        android:layout_weight="1"        /></LinearLayout>上のコードでは三つのボタン全てにandroid:layout_weight属性で1を指定しています。それぞれのボタンが使用する画面の割合が、1:1:1にするという意味になります。android:layout_weight属性はあくまで割合を指定しているだけです。決して大きさを指定してるわけではありません。なのでボタンを1個追加してandroid:layout_weight=1を指定すると次のように表示されます。他のボタンは1枚目の画像と同じくandroid:layout_weight=1のままです。android:layout_weight属性の指定値は変更していないのに大きさが変わってますよね。android:layout_weight属性が大きさではなく、割合を指定しているということが分かってもらえたかと思います。もちろんですが指定値には別々の値を指定する事ができます。上の画像のプログラムで指定値を上から順に1、2、3、4と変更してみます。このように表示されました。ボタンAは指定値が1です。ボタンBは指定値が2なのでボタンAの2倍の大きさで表示されます。ボタンCは指定値が3なのでボタンAの3倍の大きさで表示されます。ボタンDは指定値が4なのでボタンAの4倍の大きさ、ボタンBの2倍の大きさで生じされます。これら4個のボタンが画面に収まる大きさで表示してくれます。
Androidアプリ開発  android:layout_weightの使い方
