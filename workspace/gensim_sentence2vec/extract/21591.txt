どのサイトでもスマホからの流入が増えているかと思います。
だもんで、Googleアナリティクスでスマホデータの
色々な見方をご案内します。
訪問数やページビュー、コンバージョン等の簡単な指標だけなら
メニューの「ユーザー」内にある「モバイル」レポートから確認できます。
こちらで、モバイルとそうでないモノのデータと、デバイス毎のデータを見る事が出来ますが
「参照元は?」とか「流入KWは?」など、別次元のデータを確認したい場合は別の方法が必要です。
概ね
セカンダリディメンションで見る
カスタムレポートを作成する
アドバンスセグメントを使う
プロファイルをフィルタで分ける
プロパティをトラッキングコードで分ける
カスタム変数とかユーザー変数とか
という6パターン位かと思います。
セカンダリディメンションで見る
まずは、先ほどお話した「モバイル」の「サマリー」レポートで
モバイルだけのデータを見るため検索ボックスで「Yes」と入力し
検索するとモバイルのデータだけが抜き出されている状態になります。
次にセカンダリディメンションで見たい項目を選択。それだけです。
ただ、この場合ですと他に組み合わせたいディメンションや
それ以外の指標が見れませんので、その場合は次以降の方法が良いでしょう。
カスタムレポートを作成する
まずは、カスタムレポートの作成。
ここで見たいディメンションや指標を定義しましょう。
モバイルだけのデータを見るたフィルタオプションで
「モバイル」を選択し「Yes」と入力してください。
すると、モバイルだけのデータが抽出された状態で
設定したディメンション・指標に基づきレポートを見る事が出来ます。
ただ、見たいディメンションや指標毎に作る必要がありますので
面倒です!
そんな時はアドバンスセグメント!
(まぁ、上記2つは使わないでコレ使いますよね。。)
アドバンスセグメントを使う
アドバンスセグメントで分ける場合は簡単。
(楽ですし、基本的にこれだけ覚えておけばOK!)
アドバンスセグメントでデフォルトのセグメント内にある
「モバイルトラフィック」を選択すればOKです。(楽ですね～)
これをするだけでモバイルのデータが抽出され
その状態のままで、それぞれのレポート見る事が出来ます。
PCだけ切り出してみたい場合は「カスタムセグメント」で
新しく作らなくてはなりません。
「いや、抽出とかじゃなくて別モノとして見たい」
という場合は、プロファイルを分けてしまいます。
プロファイルで分ける
プロファイルをフィルタで分ける場合は
まずプロファイルを新規作成し、そこにフィルタを作成していきます。
プロファイルとフィルタの新規作成はコチラ
新しく作成したプロファイルのフィルタ作成画面にて
「カスタムフィルタ」を選択し、開かれた項目の中の「一致」を選びます。
フィルタフィールドにて「ユーザー層」の中から「モバイル」を選択
フィルターパターンにて「Yes」を入力します。
そうすることでモバイルデバイスを利用した訪問だけを切り出す事が出来ます。
「いや、そもそも計測を別に行いたい!」
と言う場合は、強引にトラッキングコードを差し替えます。
レスポンシブに!(流行ってるみたいなので言ってみました。。)
プロパティで分ける
まず新しくスマホ計測用のプロパティを作成します。
プロパティの作成はコチラから
続いて用意するモノはモバイルかスマホか切り分けるJavaScript。
ユーザーエージェントを取得して訪問時に、トラッキングコード内の
“UA-XXXXXX-X”を切り替えます。
で、下記のようにJavaScriptファイルを書いてあげます。
(ユーザーエージェントを見て、対応するプロパティIDをGA_accountに格納しています。)
var UA = navigator.userAgent;
var GA_account;
if(UA.indexOf('iPhone')> 0 || UA.indexOf('iPod')> 0 || UA.indexOf('iPad')> 0 || UA.indexOf('Android')> 0 || UA.indexOf('IEMobile')> 0 || UA.indexOf('BlackBerry')> 0 || UA.indexOf('Symbian')> 0 || UA.indexOf('Maemo')> 0){
GA_account=("UA-XXXXXXX-2");//スマホ用プロパティID
}else{
GA_account=("UA-XXXXXXX-1");//PC用プロパティID
}
こちらはユーザーエージェントに含まれる情報を検索し
あれば1、なければ0を返すのでそれで判断します。
一応主要なOSを挙げていますが、足りない場合は追加してください。
続いて、トラッキングコードの_setAccountにて
「’UA-XXXXXXXX-1′」となっている箇所を
「GA_account」と書き換えます。
_gaq.push(['_setAccount', GA_account]);
すると、こんな感じになります。
<script type="text/javascript">
var UA = navigator.userAgent;
var GA_account;
if(UA.indexOf('iPhone')> 0 || UA.indexOf('iPod')> 0 || UA.indexOf('iPad')> 0 || UA.indexOf('Android')> 0 || UA.indexOf('IEMobile')> 0 || UA.indexOf('BlackBerry')> 0 || UA.indexOf('Symbian')> 0 || UA.indexOf('Maemo')> 0){
GA_account=("UA-XXXXXXX-2");
}else{
GA_account=("UA-XXXXXXX-1");
}
var _gaq = _gaq || [];
_gaq.push(['_setAccount', GA_account]);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
FireFoxのアドオンでUserAgentSwitcher等を使って
alert(navigator.userAgent);でアラートを立てると
どんなUAが取得できてるか分かります。
カスタム変数とかユーザー変数
上記のJavaSciprtファイルを利用してプロパティIDでなく
カスタム変数やユーザー変数の値を切り替えるものになります。
これ、ここで書くともっと長くなりそうなので止めときます。
また要望があれば書きますが、ひとまず今日はここまで。
ではでは
Googleアナリティクスでスマホ訪問のデータを抽出 | アクセス解析するとかしないとか
