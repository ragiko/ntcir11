講演音声ドキュメント検索のための広域文書類似度と局所文書類似度の統合
弥永裕介 南條浩輝 吉見毅彦龍谷大学理工学部情報メディア学科e-mail: iyonaga@nlp.i.ryukoku.ac.jp
1 はじめに
講演音声集合から探したい内容を表す箇所を見つける「講演音声ドキュメント検索」の研究を行う.これまで音声ドキュメント検索の主な研究対象はTREC SDRに代表されるようにニュースであった.本研究での対象である講演とニュースではドキュメントとしての性質が大きく異なる.ニュースは通常30秒から1分程度で自己完結的に作られており, 各ニュース音声を検索単位とするのが自然であった.これに対し, 講演は通常短くても10分以上の長さを持っており, このような講演を検索単位とするのは目的とする情報にダイレクトにアクセスできないため不便である.ユーザの利便性を考えると, 講演をDVDのチャプタのように30秒から1分程度に区切り, 各区間を検索対象とすることが必要である.しかし, このように短いドキュメントを検索単位とすると一般的に高い検索精度を得るのが難しい.
この問題に対して, 我々は講演には講演自体が扱うトピックがあり, さらにその一部となるサブトピックに分けられるという構造があること[1]に着目し, 講演単位(広域文書)で絞込んだ上で1分程度の単位(局所文書)を検索することを考える.具体的には, クエリと広域文書との類似度を局所文書との類似度に統合して, 局所文書を検索する手法を提案する.
2 音声ドキュメント検索
2.1 検索システム
本研究ではベクトル空間モデル[2]に基づく文書検索システムを用いる.ベクトル空間モデルは, 文書とクエリをベクトルで表現し, ベクトル間の距離により検索を実現するモデルである.
本研究では, ベクトル間の類似度にSMART[3]を用いる.すなわち, あるクエリQと文書Di(1 ≤ i ≤ N)
の類似度を, 索引語をtk(1 ≤ k ≤ m)として, 式(1)で与えるものである.
SMART(Q, Di)=
(qtk × di, tk) (1)
k=1
ただし, ⎧
1 + log(tfi, tk)1 + log(avtf)
di, tk =
if tk > 0
(1 - slope)  pivot + slope  utfi
0 otherwise
⎧
1 + log(qtftk
)
qtk = 1 + log(avqtf) × log N if qtf
n
tk
> 0
tk
0 otherwise
ここで, tfi, tkはDi中でのtkの出現数, avtfはDiにおける単語の出現数の平均を表す.pivotは1文書中の異なり単語数の平均, utfiはDi中の異なり単語数
を表す.slopeは補間係数(0.2)である.qtftk
は, Q
中でのtkの出現数, avqtfはQに含まれる単語の出現数の平均を表す.Nは検索対象の文書集合の全文書数を表す.ntkは, tkを含む文書の数を表す.
本研究では, クエリQが与えられたとき, 全ての文書DiについてQとの類似度SMART(Q, Di)を算出し, 類似度が0より大きいものを高い順に全件出力する.
2.2 講演音声ドキュメント検索
本研究では, 講演音声を対象として検索を行う.講演を記録したものには音声だけでなく話し手の身振り手振りや表情, スライドの画像などが含まれることがある.スライドの文字を解析して, 索引語に追加することも考えられるが, 本研究では, これは扱わず音声のみを検索対象として検索する方法を研究する.
図1: 15発話区間
本研究では, 講演には構造があり, 探したい部分が講演のトピックの一部のサブトピックとなっている点に着目し, 講演音声を検索する方法を提案する.具体的には, 大きなトピック単位を広域文書, 探し出したいサブトピック単位を局所文書と定義し, クエリと広域文書との類似度を局所文書との類似度に統合して, 局所文書を検索する手法を提案する.局所文書として, 1分程度の長さを持ち, 秋葉ら[4]の検索性能評価でも利用されていた15発話を採用する.具体的には図1に示すように講演の先頭から順に15発話ごとに区切り, 各区間を1つの局所文書とする.広域文書としては15発話を包含する30発話, 60発話, 講演全体を採用する.広域文書と局所文書類似度の統合を行わず, 局所文書(15発話単位)をドキュメントとみなして検索する方法をベースラインの手法とし, 広域文書類似度と局所文書類似度の統合手法(提案手法)の有効性を示す.提案手法については3章で説明する.
3 広域文書類似度と局所文書類似度の統合
3.1 2つの文書類似度の統合
はじめに, 広域文書の文書類似度と局所文書の文書
l+n
類似度の2者を統合する方法を述べる.Di, l
を講演
k+15
Diのlからl+nまでの発話区間, Di, k
を講演Di
のkからk+15番目までの発話区間とし, 統合後のク
k+15
k+15
エリQと局所文書Di, k
の類似度S(Q, Di, k
)は, l+n
l+n
Qと広域文書Di, l
の類似度SMART(Q, Di, l
)と
k+15
k+15
QとDi, k
との類似度SMART(Q, Di, k
)を線形
l+n
補間したものと定義する(式(2)).ただし, Di, l
は
を包含している, すなわちl≤k, k+15≤l+n
Di, k+15k
をみたすものとする.
k+15
l+n
S(Q, Di, k
) = (1− λ)SMART(Q, Di, l
)
k+15
+λSMART(Q, Di, k
) (2)
λは各文書類似度に対する重み係数であり, λを0.0から1.0まで0.1刻みで変化させて実験を行う.
また, 文書類似度を対数線形補間する方法も用いる(式(3)).
k+15
l+n
S(Q, Di, k
) = (1− λ) log SMART(Q, Di, l
)
k+15
+λ log SMART(Q, Di, k
) (3)
対数線形補間では, 一方の文書類似度が高くても, 他方の文書類似度が低い場合は最終的な文書類似度が低くなるため, 両類似度が高い文書のみが選択される.
3.2 4つの文書類似度の統合
次に, 講演単位, 60発話単位, 30発話単位, 15発話単位の4者の文書類似度を統合する方法を式(4)に示す.まず, 講演単位との類似度と60発話との類似度を重みγを用いて統合する.次に, 統合した結果と30発話との類似度を重みβを用いて統合する.
同様に, 15発話との類似度を重みαを用いて統合し, 最終的な結果とする.
()
k+l5
k+l5
S(Q, Di, k
) = 1 − α SMART(Q, Di, k
)
(()
l+30
+α 1 − β SMART(Q, Di, l
)
(
m+60
+β (1 − γ)SMART(Q, Di, m)+γSMART(Q, Di))) (4)
ただし, l≤k, m≤k, k+15≤l+30, k+15≤m+60である.これについても対数線形補間を検討する.
4 評価実験と考察
4.1 検索対象と評価尺度
4.1.1 検索評価用テストコレクション
本研究では, 音声ドキュメント検索処理WGによって作成されたテストコレクション[4]を用いて研究を
行った.以下にこの詳細について述べる.
文書集合
検索対象の文書集合は, 日本語話し言葉コーパス(CSJ)[5]の学会講演987件と模擬講演1715件の合計2702件である.模擬講演は, 一般話者による日常的話題についての12分程度のスピーチである.テストコレクションでは, この2702件の音声に対して音声認識が行われており, 認識率は65 %から95 %である.本研究では, この音声認識結果の1-bestを使って研究を行う.
クエリ集合
テストコレクションにおける検索システムの評価用のクエリ集合は, クエリの性質と講演音声を対象とすることを考慮して, 以下をみたす39件のクエリとなっている.
- 内容を問うクエリ
- 10件程度の適合情報が存在する- 特定の分野に偏りがないクエリ
適合情報
テストコレクションには検索質問集合の各検索質問文に対し, 適合, 部分適合, 不適合の3段階が用意されており, 本研究では適合判定のみを用いて評価する.
4.1.2 評価尺度
検索性能の評価尺度には, 式(5)で示す補間11点平均精度(Interpolated 11-points Average Precision , 11ptAPと記す)を用いる.これは各検索クエリQに対して0.0から1.0まで0.1刻みでの各再現率レベルxにおける補間精度IPQ(x)を求め, それらの平均AP(Q)を全検索クエリで平均をとったものである.今回は, 1つのクエリに対して類似度が0でないものを全件検索し, 検索結果全体での再現率よりも高い再現率レベルxの補間精度IPQ(x)は0とした.
11ptAP = 1N
AP(Q) (5)
k=1
AP(Q)= 111
i=0
IPQ(i
10)
表1: 15発話単位での検索性能
索引語
11ptAP
形態素の出現形 0.152
形態素の基本形(名詞, 動詞のみ) 0.186
IPQ(x) = max
x≤Rqi
Pqi
ここでRqiとPqiは, それぞれクエリQに対する検索結果の上位i番目までの検索結果の再現率と適合率である.
4.2 ベースラインシステムによる検索結果CSJの2702講演を索引付けして検索を行った.2702講演を15発話ごとに区切り各区間を検索対象の文書とした場合, 文書数は60202となる.索引語には[6][7][8]を参考に形態素の出現形, 形態素の基本形(名詞, 動詞のみ)の2種類, 検索システムには汎用連想計算エンジンGETA[9]を用いた.
実験結果を表1に示す.索引語に形態素出現形を用いた場合の11点平均精度は0.152であった.索引語に形態素基本形(名詞, 動詞のみ)を用いた場合に11点平均精度は0.186であった.このことは索引語として形態素基本形(名詞, 動詞のみ)を用いることが有効であることを示しており, この結果は[6][7][8]の傾向と一致する.以後の評価実験においては形態素基本形(名詞, 動詞のみ)を索引語とする.
4.3 広域文書類似度と局所文書類似度の統
合による検索
4.3.1 2種類の文書類似度の統合
広域文書類似度と局所文書類似度の2者の統合の結果について述べる.局所文書を15発話単位とし, 広域文書として講演単位, 60発話単位, 30発話単位の3通りを試した.実験は39クエリに対し3分割交差検定で行った.使用した重みλの具体的な値は以下の通りである.広域文書を講演単位とし, 線形補間により類似度の統合を行った場合の重みλは, 3通りとも0.7であり, 対数線形補間の場合は0.42, 0.46, 0.46であった.広域文書を60発話とした場合の重みλは0.12, 0.07, 0.17(線形補間), 0.28, 0.1, 0.29(対数線形補間)であった.広域文書を30発話とした場合の重みλは0.2, 0.03, 0.2(線形補間), 0.17, 0.04, 表3: 4種類の文書類似度の統合
局所文書 広域文書 類似度の統合 11ptAP 15発話 講演+60発話+30発話
線形補間 0.226対数線形補間 0.233
表2: 2種類の文書類似度の統合
局所文書 広域文書 類似度の統合 11ptAP 15発話 講演
線形補間 0.232対数線形補間 0.228
15発話 60発話
線形補間 0.228対数線形補間 0.221
15発話 30発話
線形補間 0.220対数線形補間 0.221
018(対数線形補間)であった.
提案手法による検索性能の評価結果を表2に示す.
広域文書に講演単位を用いた場合の11点平均精度は0.232であり, 広域文書として60発話単位, 及び30発話単位を用いる場合よりも高い結果となった.これは, 長いドキュメントを検索単位としたときの検索精度が高いためと考えられる.また, 類似度の統合において式(2)と式(3)のどちらを用いても検索性能に大きな違いは見られなかった.
4.3.2 4種類の文書類似度の統合
次に, 15発話単位の文書類似度に講演単位, 60発話単位, 及び30発話単位の類似度の統合(式(4))による検索性能について述べる.これについても3分割交差検定を行った.線形補間により類似度の統合を行った場合の重みは, γが0.32, 0.4, 0.32, βが0.1, 0.09, 0.15, αが0.12, 0.02, 0.05であった.対数線形補間により類似度の統合を行った場合の重みは, γが0.75, 0.76, 0.67, βが0.44, 0.19, 0.4, αが0.07, 0.02, 0.18であった.
検索性能を表3に示す.類似度の統合方法として対数線形補間を用いた場合に, 本研究で最も高い0.233となった.この結果がベースラインの結果よりも有意に高いかについて, 対応のある2群の差の検定(T検定)を行ったところ, 有意水準1 %で有意差が認められた.このことは, クエリと広域文書との類似度を局所文書との類似度に統合する提案手法は有効であることを示している.
5 結論
講演音声ドキュメント検索において, 1分程度の発話区間(局所文書)と, 局所文書を包含する広域文書を用いて局所文書を検索する手法を提案し, CSJテストコレクションで評価実験を行った.文書類似度の統合を行わない場合の精度は0.186であったが, 文書類似度の統合を行った場合に精度が0.233に向上した.
クエリと広域文書との類似度を局所文書との類似度に統合する提案手法の有効性を示した.
参考文献
[1] Tatsuta Kawahara, Masahiro Hasegawa, Kazuya Shitaoka , Tasuku Kitade, and Hiroaki Nanjo. Automatic indexing of lecture presentations using unsupervised learning of presumed discourse markers. In IEEE Trans. Speech & Audio Process, Vol.12, No.4. pp.409–419, 2004.
[2] 北研二, 津田和彦, 獅々堀正幹.情報検索アルゴリズム.共立出版株式会社, ISBN4-320-12036-1, 2002.
[3] 小作浩美, 内山将夫, 井佐原均, 河野恭之, 木戸出正継.WWW検索における複数検索結果の結合処理とその評価.情報処理学会論文誌Vol.44 No.SIG 8(TOD 18), 情報処理学会論文誌, pp. 78–91, 2003.
[4] Tomoyosi Akiba, Kiyoaki Aikawa, Yoshiaki Itoh, Tatsuya Kawahara, Hiroaki Nanjo, Hiromitsu Nishizaki, Norihito Yasuda, Yoichi Yamashita, and Katunobu Itou. Construction of a test collection for spoken document retrieval from lecture audio data. In IPSJ-Journal, Vol.50. No.2, pp.501–513, 2009.
[5] 前川喜久雄.言語研究における自発音声.日本音響学会研究発表会講演論文集(春季), pp. 19–22, 2001.
[6] 重安幸治, 南條浩輝, 吉見毅彦. 日本語講演音声ドキュメント検索における索引付けの検討.情報処理学会研究報告, SLP-76-8, 2009.
[7] 重安幸治, 南條浩輝, 吉見毅彦.音声ドキュメント検索における音声認識誤りを考慮した種々の索引付けの検討.第12回関西支部若手研究者交流研究発表会, 2009.
[8] Koji Shigeyasu, Hiroaki Nanjo, and Takehiko Yoshimi. A study of indexing units for japanese spoken document retrieval. In 10th Western Pacific Acoustics Conference (WESPACX), 2009.
[9] 汎用連想計算エンジンGETA. http://geta.ex.nii.ac.jp.

