
作成中のFRIENDSという表は、連絡先レコードごとに次のデータを保持します。
名
姓
ニックネーム
知り合った日付
電子メール・アドレス
「表を作成」ダイアログが上に示す指定と同じになっていることを確認したら、「OK」をクリックします。IDEによって、データベースにFRIENDS表が生成されて、「表」ノードの下に新しいFRIENDS表ノード()の表示を確認できます。表ノードの下に、主キー()で開始する各列(各フィールド)が一覧表示されます。
SQLエディタの使用                   
「サービス」ウィンドウで「Contact DB」接続ノードまたはその下にある「表」ノードを右クリックし、「コマンドの実行」を選択します。メイン・ウィンドウ内にSQLエディタが開き、空白のキャンバスが表示されます。
SQLエディタに次の問合せを入力します。これは、作成するCOLLEAGUES表の表定義です。
CREATE TABLE "COLLEAGUES" (
"ID" INTEGER not null primary key,
"FIRSTNAME" VARCHAR(30),
"LASTNAME" VARCHAR(30),
"TITLE" VARCHAR(10),
"DEPARTMENT" VARCHAR(20),
"EMAIL" VARCHAR(60)
);
注意: SQLエディタで作成した文および問合せは、SQL (Structured Query Language)で構文解析されます。SQLは厳密な構文ルールに準拠しています。IDEのエディタで作業をするときは、これらのルールを理解しておいてください。SQL構文はまた、データベース管理システムによって異なることがあります。具体的なガイドラインについては、Java DB Reference Manualを参照してください。
エディタ([Ctrl]-[Shift]-[E])の上部にあるタスク・バーの「SQLの実行」()ボタンをクリックし、問合せを実行します。「出力」ウィンドウ([Ctrl]-[4])に、文の実行に成功したことを示すメッセージが表示されます。 
変更内容を確認するには、「サービス」ウィンドウで「Contact DB」接続ノードを右クリックし、「リフレッシュ」を選択します。これで、指定したデータベースの現在のステータスにあわせて実行時UIコンポーネントが更新されます。NetBeans IDEでSQLエディタから問合せを実行するときは、このステップが必要です。「サービス」ウィンドウの「表」の下に、新しいCOLLEAGUES表ノード()が表示されていることに注意してください。
表へのデータの追加     
contactデータベースに1つ以上の表を作成したので、表へのデータの生成を開始できます。表にレコードを追加するには、いくつかの方法があります。
SQLエディタにSQL文を書き、表スキーマに存在するすべてのフィールドに値を提供します。 
SQLエディタを使用して、表にレコードを追加します。
外部のSQLスクリプトを使用して、表にレコードをインポートします。 
これらのすべての使用方法を学習し、FRIENDS表にデータを生成するには、次の各項を参照してください。  
SQL文の実行 
「サービス」ウィンドウのContact DBノードの下にある「表」を展開し、FRIENDS表を右クリックして「コマンドの実行」を選択し、「SQLエディタ」ウィンドウを開きます。
SQLエディタに次の文を入力します。
INSERT INTO APP.FRIENDS VALUES (1,'Theodore','Bagwell','T-Bag','2004-12-25','tbag@foxriver.com')
入力中はSQLエディタのコード補完を使用できます。
SQLエディタ内を右クリックし、「文を実行」を選択します。「出力」ウィンドウに、文の実行に成功したことを示すメッセージが表示されます。
FRIENDS表に新しいレコードが追加されたことを確認するには、「サービス」ウィンドウで「FRIENDS」表ノードを右クリックし、「データを表示」を選択します。
「データを表示」を選択すると、表からすべてのデータを選択する問合せがSQLエディタの上部ペインに自動的に生成されます。文の結果は、SQLエディタの下部ペインに表示されます。この場合、FRIENDS表は下部ペインに表示されます。SQL文から供給されたデータを使用して、新しい行が追加されています。
SQLエディタの使用 
「FRIENDS」表ノードを右クリックして、「データを表示」を選択します(前の項の最後のステップで実行しなかった場合)。 
「レコードを挿入(Alt+I)」ボタンをクリックして、行を追加します。「レコードを挿入」ダイアログ・ボックスが表示されます。
各セルでクリックして、レコードを入力します。Dateデータ型のセルでは、カレンダから日付を選択できます。完了したら、「OK」をクリックします。 SQLエディタでは、行のヘッダーをクリックして結果をソートしたり、既存のレコードを変更および削除したり、(ポップアップ・メニューの「SQLスクリプトを表示」コマンドで)エディタで実行しているアクションのSQLスクリプトを表示したりできます。 
表の削除
次の手順では、外部SQLスクリプトを使用して、新しいCOLLEAGUES表を作成します。しかし、COLLEAGUES表は前述のSQLエディタの使用の項で作成したばかりです。SQLスクリプトによって本当に新しい表が作成されることが明確にわかるように、ここでは、すでに作成したCOLLEAGUES表を削除します。データベース表を削除するには:
「サービス」ウィンドウのデータベース接続ノードの下にある「表」ノードを展開します。
削除する表を右クリックして「削除」を選択します。
外部SQLスクリプトの使用
外部SQLスクリプトからコマンドを発行するのは、データベースを管理するのに一般的な方法です。他の場所でSQLスクリプトをすでに作成している場合、そのスクリプトをNetBeans IDEにインポートし、指定したデータベースに対して実行します。
この課題では、スクリプトでCOLLEAGUESという名前の新しい表を作成してその表にデータを移入します。contactデータベースに対してこのスクリプトを実行するには、次の手順を実行します。
ローカル・システムにcolleagues.sqlをダウンロードします。
IDEのメイン・メニューから「ファイル」>「ファイルを開く」を選択します。ファイル・ブラウザでcolleagues.sqlファイルを保存した場所に移動し、「開く」をクリックします。SQLエディタで自動的にスクリプトが開きます。
または、colleagues.sqlの内容をコピーし、SQLエディタを開いてその中にファイルの内容を貼り付けます。
エディタの最上部のツールバーにある「接続」ドロップダウン・ボックスでContact DBへの接続が選択されていることを確認します。  
SQLエディタのタスク・バーにある「SQLの実行」()ボタンをクリックします。選択したデータベースに対してスクリプトが実行され、「出力」ウィンドウにフィード・バックが生成されます。
変更内容を確認するには、「サービス」ウィンドウで「Contact DB」接続ノードを右クリックし、「リフレッシュ」を選択します。SQLスクリプトからの新しいCOLLEAGUES表が、「サービス」ウィンドウの「contact」の下に表ノードとして表示されます。
新しい表に含まれているデータを表示するには、COLLEAGUES表を右クリックして「データを表示」を選択します。このように、表形式のデータとSQLスクリプトに含まれるデータとを比較して、一致しているかどうかを確認することもできます。
異なるデータベースの表の再作成
異なるデータベースにある表を、NetBeans IDEから操作中のデータベースで再作成したい場合、IDEには便利なツールが用意されています。まず、このチュートリアルの最初に説明したものに似た2つ目のデータベースがIDEに登録されている必要があります。このチュートリアルの目的で、Java DBにパッケージされているsampleデータベースを使用します。このプロセスは基本的に2つの段階に分けて実行されます。まず、選択した表の表定義を「保存」し、その後選択したデータベースに表を再作成できます。
「サービス」ウィンドウの「データベース」ノードの下にある接続ノードを右クリックして、「接続」を選択し(ユーザー名とパスワードはapp)、sampleデータベースに接続します。           
sampleデータベース接続の下にある「表」ノードを展開し、CUSTOMER表ノードを右クリックして「構造を保存」を選択します。
開いた「表を保存」ダイアログで、作成される保存(grab)ファイルを保存するコンピュータの場所を指定します。「保存」をクリックします。 
保存ファイルには、選択した表の表定義が記録されます。
Contact DBデータベース接続の下にある「APP」スキーマ・ノードを展開し、「表」ノードを右クリックして「表を再作成」を選択し、「表を再作成」ダイアログ・ボックスを開きます。
「表を再作成」ダイアログ・ボックスで、CUSTOMER保存ファイルを保存した場所に移動して「開く」をクリックし、「表に名前を付ける」ダイアログ・ボックスを開きます。
ここで表の名前を変更したり、表定義を編集したりできます。そうしない場合、「OK」をクリックすると、contactデータベースにすぐに表が作成されます。「Contact DB」接続ノードの下に「CUSTOMER」表ノードが新しく表示されます。           
新しいCUSTOMER表にデータを表示するとデータベースにレコードが表示されませんが、表の構造は保存した表と同一です。
Java DB (Derby)データベースの操作 - NetBeans IDEチュートリアル
