XML 名前空間入門
Aaron Skonnard
DevelopMentor July 2002
日本語版最終更新日 2002 年 12 月 3 日 Aaron Skonnard の『XML 名前空間入門』の初出は 2001 年 7 月の『MSDN Magazine』です。この改訂版は、著者の許可の下で掲載されています。Copyright© 2001 Microsoft Corp. and CMP Media LLC。 名前空間は、XML にとって、特にこのテクノロジに馴染みのない人にとって混乱の元となっています。筆者が読者、学生、およびカンファレンスの出席者から受ける質問の多くは、何らかの形で名前空間に関連しています。これは、Namespaces in XML 勧告が、付録を除くと 10 ページ未満という、XML 仕様の中では短い部類に属することを考えると皮肉なことです。しかし、この混乱は、仕様に記されている構文ではなく、名前空間のセマンティクスに関連しています。XML 名前空間を完全に理解するためには、名前空間とは何か、名前空間はどのように定義されるか、そしてそれらがどのように使用されるかを知っておく必要があります。 このコラムは、この 3 つの疑問に、構文の面と抽象的な面の両方から答えることを目的としています。読者は、本稿を読み終えた頃には、名前空間が XML テクノロジのファミリにどのような影響を与えるかを理解していることでしょう。 名前空間とは? 名前空間とは、それに属するすべての名前が一意であるような名前のセットです。たとえば、私の子供の名前、カリフォルニア州の企業の名前、C++ の型識別子の名前、インターネット ドメインの名前などの集まりは名前空間と考えることができます。名前空間とは、それを構成する個々の名前が一意でなくてはならない、何らかの意味で論理的なつながりを持つ名前のセットのことです。 名前空間により、一意の名前を作り出すことが簡単になります。地球全体で名前が一意でなくてはならなかった場合、次に生まれる子の名前を考えつくのがどれほど難しくなるかを想像してみてください。この一意性を、私の子供のセットというような限定されたコンテキストに制約することで、物事ははるかに単純化されます。次の子に名前を付けるときには、すでに他の子に付けたのと重ならないようにするということだけを注意すればいいからです。他の両親たちは、私が自分の子に付けたのと同じ名前を選択する可能性がありますが、それらの名前は異なる名前空間に属しているので、簡単に区別することができます。 名前空間に新しい名前が追加されるときには、名前空間オーソリティが、新しい名前がその名前空間にまだ存在していないことを確認する必要があります。子供の命名のようなシナリオでは、これは単純な作業です。しかし、これがかなり複雑になるケースもあります。今日のさまざまなインターネットのドメイン管理団体がその良い例でしょう。このステップを省略してしまうと、重複する名前が名前空間を汚染し、曖昧さなしに特定の名前を参照するのが不可能になってしまいます。このようなことが起こった場合、その名前のセットは公式には名前空間とは見なされなくなります。定義上、名前空間はそのメンバの一意性を保証できなくてはならないからです。 名前空間そのものも、何かの目的に使用するためには、名前を持つ必要があります。名前空間に名前が付けられたら、そのメンバを参照することが可能となります。たとえば、図 1 の 2 つのボックスに示したサンプルの名前空間を考えてみましょう。これらのサンプルの名前空間の名前は、それぞれ Microsoft と AcmeHardware です。この 2 つの名前空間は同じローカル名をいくつか含んでいますが、これも図 1 に示すように、名前空間で修飾された名前を使用することで、曖昧さを残さない参照が可能になります。  図 1. 曖昧さのない名前空間 もちろん、これは名前空間名もまた一意であることを前提としています。これが保証できない場合には、実際の名前空間名そのものを何らかの名前空間に入れる必要があります。たとえば、複数の AcmeHardware 金物店がある場合 (カリフォルニア州に 1 つ、ユタ州に 1 つ) には、次に示すように、AcmeHardware という名前を 2 つの名前空間に入れることで衝突が解決されます。
XML 名前空間入門
