
JP1/Base 運用ガイド
7.4.6 フィルターファイル(snmpfilter.conf)の詳細
フィルターファイル(snmpfilter.conf)の詳細について説明します。
<この項の構成>
(1) 格納先ディレクトリ
(2) 形式
(1) 格納先ディレクトリ
フィルターファイルの格納先ディレクトリを次に示します。
Windowsの場合
インストール先フォルダ\conf\evtgw\snmpfilter.conf
UNIXの場合
/etc/opt/jp1base/conf/evtgw/snmpfilter.conf
(2) 形式
フィルターファイルの形式について説明します。フィルターファイルには,JP1イベント変換対象とするSNMPトラップの指定と,JP1イベント変換対象外とするSNMPトラップの指定ができます。trapd.confに定義されているSNMPトラップを,フィルターファイルに指定してください。エンタープライズ名,およびイベント名の大文字小文字は区別されます。NNMのtrapd.confの定義を十分確認して定義してください。行頭に「#」を指定すると,その行はコメント行になります。フィルターファイルの形式を次に示します。
[+]エンタープライズ名.イベント名
[+]エンタープライズ名.*
!エンタープライズ名.イベント名
(凡例)
[ ]:[ ]内は任意に指定する
:一つ以上のスペースまたはタブ
エンタープライズ名
変換するSNMPトラップのOID_ALIASを指定します。
*
指定したエンタープライズ名のSNMPトラップすべてを,JP1イベントの変換対象とします。
イベント名
変換するSNMPトラップのイベント名を指定します。
+
SNMPトラップのバリアブルバインディングをJP1イベントの拡張属性の固有情報として変換する場合に指定します。「+」とフィルター定義の間には,一つ以上のスペースまたはタブを入れてください。なお,1行の中で「+」と「!」の指定を混在させないでください。混在させた場合は,その行は無効となります。
バリアブルバインディングをJP1イベントに変換する際の注意事項
変換できる各バリアブルバインディング値の最大値は1,023バイトです。1,024バイト以降のデータは変換されません。
JP1イベントの最大値は10,000バイトです。バリアブルバインディングをJP1イベントの拡張属性の固有情報として変換すると,JP1イベントのサイズが10,000バイトを超える場合,変換されないバリアブルバインディングが存在します。
JP1イベントの拡張属性の固有情報として変換できるバリアブルバインディングの個数は最大28個です。
!
JP1イベント変換対象として指定されたSNMPトラップ([+]エンタープライズ名.*または[+]エンタープライズ名.イベント名)のうち,指定したSNMPトラップをJP1イベント変換の対象外とします。[+]エンタープライズ名.*または[+]エンタープライズ名.イベント名の指定がない場合は,無効となります。
なお,フィルターファイル(snmpfilter.conf)の定義内容は,次に示す式で900バイト以下にしてください。
((a1+1)+(a2+1)+(a3+1)+(a4+1)・・・(an※+1))+34 < 900バイト
注※ フィルターファイル(snmpfilter.conf)で定義されているSNMPトラップのオブジェクトID長。例えば,オブジェクトIDが「.1.2.3.4.5」の場合,anは10バイトになります。
フィルターファイルに一般トラップを定義する場合は,次に示す式で計算してください。
上記計算式の結果+(一般トラップ数x2) < 900
注意事項
SNMPトラップ変換機能では,SNMPトラップをJP1イベントに変換する際にフィルターファイルの定義順に比較します。そのため,フィルターファイルにはJP1イベントに変換する優先度の高い順に定義してください。
フィルターファイルでは「エンタープライズ名」および「イベント名」に.(ピリオド)を指定できません。変換対象のSNMPトラップの「エンタープライズ名」および「イベント名」に,(ピリオド)が含まれる場合は,NNMで.(ピリオド)を使用しない名前に変更してください。
[目次][前へ][次へ]
[他社商品名称に関する表示]
All Rights Reserved. Copyright (C) 2006, 2008, Hitachi, Ltd.
フィルターファイル(snmpfilter.conf)の詳細
