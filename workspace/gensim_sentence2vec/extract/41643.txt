名古屋大学の学生には、一人一人に対して、大学のアカウントが割り振られており、
メールを含むインターネットサービスが受けられる。
一つのアカウントは、30MBの容量を持っており、それはつまり、web spaceとして利用可能なわけである。
広告の付かない、free spaceと考えてもらえれば良い。
しかし、ある問題がある。
それは、学外からの接続には、sshを推奨しているために、
FTPによるファイル転送が不可能なことである。[参照リンク]
そこで、Macintosh(特にMac OS X)における、名古屋大学サーバへのファイル転送の仕方を含め、
サーバの利用の仕方を紹介する。
1. 名古屋大学のサーバに接続しよう
ファイルを送る前に、まず自分のアカウント内を覗いてみよう。
必要なアプリケーションは、sshが使えれば問題無い。
〜OS 9ならMacSSH[ダウンロード] , NiftyTelnet 1.1 SSH r3[ダウンロード]がフリーで落とせるほか、
OS Xを使っているユーザーなら、Application > Utilities に含まれる Terminal が標準装備されている。
ただし、後述する「ファイル転送」を行う際のscp機能は、MacSSHには付いていなかったと思うので、
ファイル転送を行うなら、NiftyTelnet 1.1 SSH r3をお薦めする。
さて、本題に戻ろう。
名古屋大学のサーバに接続する方法であるが、MacSSHや NiftyTelnet 1.1 SSH r3は、
あくまでMacintoshのアプリケーションであり、全ては自動でやってくれる。
そのため、「サーバ名」「ログイン名」「ログインパスワード」を予め入力しておけば、
それ以降は自動で接続してくれる。そこで、OS XでのTerminalを用いた方法
(一般的なUNIXの方法)を紹介しよう。
Terminalを起動させる
Terminalを起動させると以下のような状態が、まず現れる。
大学のサーバへ接続
大学のサーバへと接続するコマンドは、ズバリ『ssh』。
『ssh -l(小文字のエル)  』 の順番で記述。
ログイン名は大学から各個人に割り振られているものです。
一方、は、二つあり、『sv007.media.nagoya-u.ac.jp』か『sv006.media.nagoya-u.ac.jp』を記述。どちらのサーバも最終的には同じで、『telnet.media.nagoya-u.ac.jp』と記述すると、自動でどちらかのサーバに繋いでくれる。ただし、後にファイル転送をする時は、『telnet.media.nagoya-u.ac.jp』では送れないので、
この時点から『sv007.media.nagoya-u.ac.jp』か『sv006.media.nagoya-u.ac.jp』の
どちらかで覚えておいた方が楽。
パスワードを入力
パスワードを入力する際は、カーソルは動かないので、注意。
以上で、大学のサーバへと接続し、以下のような画面になっていると思う。
2. 自分のアカウント内で操作しよう(面倒くさい人は読み飛ばす) 
大学のサーバに接続し、自分のアカウント内に入ったならば、コマンドを駆使して様々な操作ができる。
今回は、自分のアカウントをweb spaceとして利用するために、
最低限必要と思われるコマンドのみを紹介する。もし、より多くの他の事をしたいと思うならば、UNIXコマンドを紹介した様々なHPを参考にしていただきたい。
ちなみに、これらのコマンドは、大学のサーバに繋がずとも、Terminalを用いて、OS X内でも使用可。
コマンドは全て小文字アルファベット
pwd
自分の居場所(ディレクトリ)を知るコマンド
サーバからの絶対位置で表される。
[使い方] % pwd[改行]
cd
自分の操作するフォルダ(ディレクトリ)を移動したいときのコマンド
通常、自分のいるフォルダ(ディレクトリ)の中にあるファイル以外は扱えない。
そこで、扱いたいファイルのあるフォルダ(ディレクトリ)まで、一階層ずつ自分が移動する。
[使い方] % cd 『動きたいフォルダ名(例えばpublic_htmlなど)』[改行]
ls
自分のいるフォルダ(ディレクトリ)内にあるファイルやフォルダを全表示するコマンド
[使い方] % ls[改行]
mkdir
自分のいるフォルダ内に、新しくフォルダ(ディレクトリ)を作るコマンド
make directory の略。
[使い方] % mkdir 『新しく作るフォルダ名』[改行]
rm
自分のいるフォルダ内の、ファイルやフォルダを削除するときのコマンド
フォルダを削除したいときは、オプションで、 -r をつける。
[使い方](ファイルを消す) % rm 『削除したいファイル名』[改行]
(フォルダを消す) % rm -r 『削除したいフォルダ名』[改行]
chmod
ファイルやフォルダに対して、パーミッションを与えるコマンド
説明すると長くなるので、割愛。
[使い方] % chmod 数字 『対象ファイル/フォルダ』[改行]
おそらく、今回の目的を達成するには、これぐらいのコマンドで十分でしょう。
上でも書いたように、他のコマンドについては、
「初心者のためのUNIXコマンド一覧」http://www02.so-net.ne.jp/~oable/okui/unix_howto.html
などで勉強して下さい。
3. ファイルを外部に公開しよう
以上のように、大学のサーバにあるファイルにアクセスするにはsshを用いるのだが、
市販されているパソコン、また日常触るパソコンには、通常sshなどは装備されていないことが多い。
そこで、大学のサーバにあるファイルでも、通常のブラウザーからアクセスできるようにしたい。
まず、自分のアカウント内の全ファイル・フォルダを公開してしまうことは、
セキュリティ上得策ではなく、外部への公開専用フォルダを作ることが、まず第一であり、そのフォルダを普通『public_html』と名付ける。
『public_html』以外の名前だと、ファイルを外部に公開できないので要注意。
以下、Terminal上での、その手順を示す。()内はコマンドの意味。
(名古屋大学のサーバにアクセス) ssh -l 『自分のログイン名』 sv007.media.nagoya-u.ac.jp[改行]
(自分のアカウントのパスワードを入力) 『自分のパスワード』[改行]
(自分のアカウント内に『public_html』というフォルダを作る) mkdir public_html[改行]
(『public_html』フォルダにパーミッションを与える) chmod 755 public_html[改行]
以上で、家からできる、ファイルを公開する準備が整った。
後は、大学のコンピューターを使って、大学のサーバに公開許可を取るだけ。
これは大学のメディアセンターや図書館などのコンピューターでしかできない。
ここからは、大学のパソコンを使っていると仮定して進める。
大学のパソコンから、「ユーザーページ公開登録」のページにアクセス。
そこのページで、公開登録を行う。これで、ファイル公開の全準備が終了。[参考リンク]
4. ファイルを転送しよう
あとは、公開したいファイルを『public_html』フォルダに転送していけば良い。
HomePageを作成したい人は、html書類を転送していくことになるが、
htmlの書き方についてはここでは記述しない。
ファイルの転送は、sshで大学のサーバに繋いだままでは無理なので、一度自分のOS Xに戻ってくる。
これは、一番始めに起動させた状態に戻すという意味である。
なので、初めから大学のサーバに繋いでいない状態ならばそのままで良いが、
もし大学のサーバに繋いであるならば、コマンド『exit』と書いて、
大学のサーバへの接続を切断する必要がある。
上記したように、Terminalでは、自分が今存在しているフォルダ(ディレクトリ)にあるファイルしか
基本的には扱わない。なので、自分が扱いたいファイル/フォルダが存在するフォルダ(ディレクトリ)まで
移動しなければならない。ここで先ほどのコマンド『cd』を用いる。
Terminalでは、一番最初起動したとき、『ホーム』ディレクトリにいる。
そこから、『Desktop』や『Documents』へと移動するのだが、
もし移動できるディレクトリが分からなければ、コマンド『ls』を使うと良いだろう。
ただし、Terminalは日本語に対応していないので、日本語の名前は全て文字化けするので要注意。
そこで、一番楽なのは、作ったファイルやフォルダをコピーして、一時的に英語の名前に全て変更し、
それらをデスクトップに置いておくと良い。『ホーム』ディレクトリからDesktopへの
移動(cd)は簡単である。
では、実際にファイルを送る手順を記す。ファイル転送のコマンドは『scp』である。
自分が転送したいファイル/フォルダが存在するフォルダ(ディレクトリ)へ移動する。
(転送) % scp  @:
フォルダを転送したい場合は、scp -r とすると良い。
下の写真は、自分のログイン名が「h970765b」だとした時の、
名古屋大学のサーバへのファイル転送を示す。
注意すべきは、『:』以下のの記述。
これは、入れ物に対する絶対表記である。つまり、sshでアカウントに接続したとき、
コマンド『pwd』で分かる位置情報(住所)+/public_html と考えてくれれば良い。
おそらくだが、『/mdhome』は医学部の学生なら少なくとも同じであろう。
次の『/home5』は、数字の部分が学籍番号の下二桁目(出席番号の末尾)を示していると思われる。
なので、079900631、という学生がいたならば、『/home3』ということになり、
出席番号37番なら『/home7』となると思われる。
しかし、これらはあくまで推測なので、きちんとpwdを見ることをお薦めする。[参考リンク]
きちんとアップロードされているかは、
http://www.media.nagoya-u.ac.jp/people/自分のログイン名/
がアドレスとなるので、チェック。
大学サーバへの道(UNIX系)
