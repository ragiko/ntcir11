談話タグ
ここでは、談話タグのタグ付けガイドラインについて説明し、本ガイドラインに基づいて行った談話ラベリング実験についてその概要と結果について述べる。なお、本ガイドラインは1999年に対話委員会で提案されたものであり、以下の説明はその時点での内容になっている。したがって、以下の説明での「現段階」という表現は「1999年時点」の意味である。
本ガイドラインでは、現段階での発話単位の認定基準と、発話単位および他の対話要素の分類法について解説する。以下、第1項では発話単位であるスラッシュ・ユニット、第2項ではタグ体系、第3項ではコーディング時の注意点について述べる。
(1) 発話単位-- スラッシュ・ユニット(Slash
Unit)
本ガイドラインでは、発話単位の認定基準について、Meteer(1995)の「スラッシュ・ユニット」というアイディアを参考にする。なお、オリジナルのスラッシュ・ユニットの定義と本ガイドラインの定義とは必ずしも一致しないので注意されたい。
本ガイドラインにおけるスラッシュ・ユニット(slash
unit)とは基本的にポーズ(空白)で区切られた(統語的な意味での)節 (clause)とし、あいづちなどを含む以下の(i)〜(vi)のタイプとし、さらに以下の条件を満すものとする。
・節が構成できない場合は構成要素(constituent)
(例えば、後置詞句、動詞句)のみでも、スラッシュ・ ユニットと見なす。(但し、できるだけ節に近い形で区切ること。) 
・ユニット中にポーズ(空白)が含まれていてもよい。
・スラッシュ・ユニットは単文を越えない。      
i. 了承、承諾、あいづち 
A: はい/
A: うん/
A: ええ/
A: そう/
B: そうですねえ/
※ 「ふーん」「えーと」「うーん」等のポーズ・フィラー(pausefiller)、また
談話標識、接続詞は除く((c)-(iv)参照)。
ii. 句
B: はなは?/
iii. 名詞、および体言止め
A:                          
とおもうんですけど -/ みたかんじ/
B: くちのほうがおおきいんだよね/                 
~~~~~~~~~~
B: じゅうようんばん/
B: めまんべつよんばん/
iv. 従属節、連用形
A: {C でー} {F えっと}  それはかおがわなんですけど/ 
A:                     
あまりととのってないから/
B: あばしりからしべちゃしべちゃからばすとかんがえれば/
v. 単文
A: みぎがわのほうが そういうふうにうつってる/
B: かみのけは
B: そんなにながくない/
A: このけいろはだめってこと                 ですね/
vi. 倒置
B: ぜんぜんわからないですか
かおからは/ 
(a) 不完全なスラッシュ・ユニット(IncompleteSlash Unit)
リペア(repair)、リスタート(restart)、間投詞、談話標識、笑い、editing term(注1)などを除いた、発話途中で放棄あるいはターンの交替で中断されてできたスラッシュ・ユニットを「不完全な」スラッシュ・ユニットと呼ぶ。これに対し、意味的に完全な(つまり、途中でターンの交替がない、途中放棄していない)スラッシュ・ユニットを「完全な」スラッシュ・ユニットと呼ぶ(注2)。不完全なスラッシュ・ユニットとは、例えば、以下のようなものである(下線部)。  
B:      くび*の -/
~~~~~~~~
A: 
*あ$_1とくちびる*と$_2 -/            
めそんなにおおきくないです/
~~~~~~~~~~~~~~~~~~~~~~~
また、不完全(あるいは完全)なスラッシュ・ユニットのうち、特に発話の意味(意図)が理解できないものについては、`un'とマークすることにする。 (意味は理解できるが、分類が不明なものは`?' とする。) また、不完全なユニットは`-/'で区切る。
(以下の例で、`A.68'の`68'は付録サンプルの発話番号。)
B:      くび*の -/
%        un-
(注1)「橋本さん いや/失礼/じゃなくて山本さんですね」の「いや」「失礼」「じゃ なくて」のように言い直しを導入する標識語句. 
(注2) 相手発話の(部分)反復あるいは補完による、あいづち、了承、承諾は構成要素を形成していなくても、完全なスラッシュ・ユニットとする。(例えば、以下のA.30)。但し、途中放棄、中断があった場合は、通常通り不完全なスラッシュ・ユニットとし、`-/'でマークする。
A.30:                    
*でない$_7/
B.30:{C で}わけめはまんなか*じゃない$_7/こわいかおしてます/
(b) 話者交替
スラッシュ・ユニットの認定は話者Aと話者Bで独立に行う。 従って、話者交替のたびに終了境界を付与する次のようなタギングは誤りである。
(誤)
A:                                               
ごふん/
B:いちじかんごふんまえっていうとじゅうじにじゅう/     ごふん/
(正)
A:                                               
ごふん/
B:いちじかんごふんまえっていうとじゅうじにじゅう         ごふん/
(c) スラッシュ・ユニット以外の発話要素
(i) 言い誤り
発話産出上の明らかな言い誤り(speech
error)は次の記述形式で明示する。 ここで、Xは言い誤り(target)、Yはその言い直し(repair)を表す。  
* 言い直しを伴う言い誤り(restartswith repair)
[X + Y]
A:[ちょっ- + ちょっと]
* 言い直しと言い誤りの間にポーズ・フィラーや談話標識が存在する場合(restartswith repair and non-sentence elements)
[X + {Z} Y]
A: {F え} [おでこ+  {F えー} まえがみ]は
* 言い直しを伴わない言い誤り(restartswithout repair)
[X +]
A:[かくれ- +]
スラッシュ・ユニットレベルでの言い直し、言い誤りは認めない。従って、次のタギングは誤りとする。(タグコードについては、(2)参照。)
A:[どちらかといえばまるがおです+ {F あ} まるがおにみえるのかな]/
%                        
ans
上の発話には次の方法でタギングする。
A:どちらかといえばまるがおです/{D あ} まるがおにみえるのかな/
%             
ans                       
clr 
(ii) 不完全語
不完全な単語は全て言い誤りとして扱う。不完全な単語の直後には"-"(ハイフン)を付与することにより、 それが不完全語であることを明示する。
A:[みみは + みみが][ちょ-+]ふつう[こう+こう]いうんじゃなくてこうまえにでてる/
A:[かくれ- + ]いしきしてかくしてないってかんじ/
[なん- +] かくれてないほう/
(iii) 
チェーンとネスト
言い誤りの記述が入れ子構造になることもある。複雑な言い誤りの形態としてはチェーン型とネスト型がある。例は、Meteer(1995)による。
チェーン型
(ここでは言い直しが2回生起する場合の例を示す。)
[ [ I + I ] + I]
[ [ the + theboy ] + the big boy]
[ [ I really +I ] + I ] like it
[ [ he + she ]+ she ]
[ [ he + she ]+ they]
ネスト型 
[ I liked + {Fuh,} [ I + I ] liked ] it a
lot
[ I + I ] thinkthe line item veto [ is [
not + not ] + is not ] necessarily a bad thing.
It's, must bedepressing [ to + to ] [ walk
+ walk ] the halls [ and see + [ an- + and ] see] all these other
people whoreally don't know where they are.
{F Uh, } [ I, +before [ I, + I, ] ] {F uh,
}
I'm sure [ thatthe, + that [ the, + {F uh,}
the ] ] staff [ l-, + learn ] what's normal forthis person.
[ I'm actuallymaking just about as much as,
+ {D you know, } I'm [ m-, + making ] actually [over average, + over the
average ] ] --
[ [ I've heardsome, ] + {E I mean} I've
heard [ [ sta-, + sta-, ] + statistics ] ] and things
(iv) ポーズ・フィラー、談話標識他
* ポーズ・フィラー
{F えー}
{F ふーん}
* 談話標識(DiscourseMarker)
{D はい じゃ}
* 接続詞(Conjunction)
{C で(ー)}
{C でも}
(2) タグセット 
本ガイドラインでは、タグセットとしてDAMSL(James
Allen & Mark Core, 1997)を若干改変したものを使用する。詳細は以下の通り。(タグ名の後の括弧はタグ名の略記。)
* Communicative Status コミュニケーション(言葉の伝達)のレベル
oUninterpretable
(UN)..........解釈不可能な発話
oAbandoned
(ABA)..........発話途中で放棄された発話(注3)
oSelf-talk
(ST)..........独り言
* Information Level 発話内容のレベル
oTask (TSK)..........課題を遂行している発話
oTask-management
(TM)..........課題の遂行(やり方)に関するメタ的発話
oCommunication-management (CM)..........コミュニケーションを維持す
るための発話
oOther-level
(OL)..........その他(冗談、雑談等)
* Forward Looking Function それ以降の対話に影響を及ぼす発話
oStatement
(STT)..........主張、言明、真偽を問える内容の発話
+ Assert (ASR)..........聞き手の信念の変更を意図した発話
+ Reassert (RAS)..........言明の繰り返し
+ Other-statement (OS)..........その他
oInfluencing-addressee-future-action
(IAF)..........聞き手の今後の
行動に影響を与える
+ Open-option (OO)..........間接的な命令
+ Action-directive (ADR)..........直接的な命令
oInfo-request
(IR)..........情報の要求。YES/NO疑問、WH疑問。応答は
非言語的であってもよい。さらに以下の下位分類を設ける。
+
IR(YN) ...... YES/NO型疑問
+ IR(WH) ...... WH型疑問
+ IR(YONE).....「よね」型の情報要求
oCommiting-speaker-future-action (CSF)..........発話者の将来の行動
を拘束する発話
+
Offer (OF)..........聞き手がキャンセルできる申し出
+
Commit (COM)..........聞き手がキャンセルできない申し出
oConventional
(CNV)..........会話上の儀礼的な発話
+ Opening (OPN)..........呼びかけ。例:「いらっしゃいませ。」
+ Closing (CLS)..........会話の終了。例:「さようなら。」
oExplicit-performative
(EP)..........遂行発話。「すみません」など。
但し、「タグ」節の説明を参照。
oExclamation
(EXC)..........驚き。「いてっ。」
oOther-forward-function
(OFF)..........その他
* Backward Looking Function 先行対話に関連した発話(応答など)
oAgreement
(AGR)..........承諾のタイプ
+ Accept (ACC)..........あきらかな承諾
+ Accept-part (AP)..........部分的な承諾
+ Maybe (MB)..........承諾の保留
+ Reject-part (RP)..........部分的な拒否
+ Reject (RJ)..........拒否
+ Hold (HLD)..........承諾の一時棚上げ
oUnderstanding
(UND)..........コミュニケーション
+ Signal-non-understanding (SNU)..........相手発話の問い返し、
聞き直し
+
Signal-understanding (SU)..........相手発話の了解、了承
+ Acknowledgement (ACK)..........相手発話の了解(承諾ではない)
+ Repeat-rephrase (RR)..........相手発話の(部分的)繰り返し
+ Completion (CMP)..........相手発話の補完
+ Correct-misspeaking (CMS)..........相手発話の訂正
oAnswer (ANS)..........相手発話(Info-request型)への応答
oClarify (CLR)..........応答の補足、追加。相手が質問している以上の
ことを答える。 (Carletta, 1997)
oInformation-relation
(IRL)..........定義未定
(注3) Abandon タグはスラッシュ・ユニットのレベルで扱う(具体的には不完全発話の
終了境界である`-/'で代用する)。
(a) タグについての補足
完全、不完全にかかわらず、すべてのスラッシュ・ユニットについてタグを一つ付与する。不完全ユニットのタグはタグコードの末尾にダッシュ `-'を付ける。また、付与すべきタグが分らない場合は、`?'と書く(`un'とは意味が違うので注意)。 それ以外の要素にはタグを付けない。
Explicit Performative(EP)は、illocutionary actを表わす表現とし、本体系では特に「ありがとう」「すみません」、またはこれらに類する表現、例えば、「どうも」「サンキュー」「失礼」「ごめん」などに限定する。
その他の遂行表現、「命名する」「約束する」等は、epの分類からはずす。これらは、対話レベルの要素として分類するよりは動詞の語彙レベルで分類したほうが適切である。
また、以下の例で、
A: いきます/ 6番です/
A: 解答します/ 3番です/
「いきます」「解答します」はその発話によって発話者の将来の行動を拘束するので、"com" (Forward-Looking F)と考える。 
(3) コーディング
以下ではスラッシュ・ユニットに付与されたタグ情報を「ラベル」と呼ぶ。また、「タグ」という時には、タグセットで定義されているタグを指すことにする。 
タグラインの下に備考欄としてコメントラインを新たに設ける。コメントラインは`#'で始まるものとする。コメントラインは複数あってもよい。
一つのスラッシュ・ユニットについて
Forward-Looking Function, Backward-Looking Function, Understandingのいづれかのクラスからタグを一つ選択する。複数タグの付与は原則的に禁止する。但し、以下のように応答(Backward-LookingF)と質問(Forward-Looking F)が同一発話で実現されている場合は、例外的に複数タグの付与を許す。
A: その列車の到着時刻は何時ですか/
%   ir(wh)
B:                             
到着時刻ですか/
%                               rr;ir(y/n)
ラベルは以下のシンタックスに従う。複数個のタグを付与する場合はセミコロン`;'で区切る。`;'は`and'の意味。
label:=InformationLevel:tag1;tag2;....
;tagN
ここで、InformationLevelは `tm'(Task-Management), `tsk' (Task), `cm'
(Communication-Management), `ol'(Other-Level) のいづれかとする。ディフォルトは`tsk' とする。従って、InformationLevelが省略された場合は、以下の規則で解釈する。
tag1;tag2; ...-> tsk:tag1;tag2; ... 
ちなみに、`cm'の例としては、以下のようなものがある。
A:{F えー} よく聞こえないのですが/
% cm:asr
A:もう一度おっしゃってください/
% cm:adr
ラベリングの確信度は、本体系では「ある」「なし」の二段階で表記する。確信がある場合は、ラベルを通常通り記入し、ない場合は`?'をラベルの代りに記入する。また、ない場合でもある程度タグの絞りこみができているのであれば、その旨コメントラインに書く。
コーディングについて問題点、コメントがあったら、問題箇所のコメントラインにその旨記す。
また、不完全なスラッシュ・ユニットにラベルを付与する場合は、ラベルの末尾に`-'を付け、完全なスラッシュ・ユニットのラベルと区別する。
(4) ラベリング実験
ラベリング実験を行う際、被験者には2つのグループを設けた。まず1つ目のグループは転記テキストのみの情報からラベリングを行うグループ、2つ目のグループは転記テキストと音声情報を基にラベリングを行うグループである。ラベリングは全部で5対話に関して行ったが、それぞれの対話に関して各グループ3名ずつでラベリングを行った。(すなわち各対話合計6名のラベラがラベリングを行った。)
ラベリング実験に用いた音声情報は、マルチモーダル対話コーパスCD−ROM にMPEG1 形式で収録されている映像・音声データから音声データのみをMP2 形式で抽出して得た。
(5) ラベリングの評価
談話ラベリングを行うために設定したタグセット及びラベリング基準が適切か否かを客観的に判断するため、また、談話ラベリングを行う際、音声情報が有意な役割を果たすかを調べるために談話ラベリングの評価を行った。
ラベリングに関する評価は Slash Unit および DAMSL に関して行った。また、Slash Unit、DAMSL それぞれに関して転記テキストのみからラベリングを行ったグループと転記テキストと音声情報からラベリングを行ったグループに有意な差が見られるか否かをt検定を行って吟味した。
①     Slash Unitラベリング評価結果
本項ではSlash Unitのラベリング評価結果を示す。Slash Unitのラベリングに関する評価はκ統計を用いて行った。Slash Unitのκを計算する際、転記テキストに含まれるスペース(空白)をSlash Unit の候補とした。表3.2.2−1に転記テキスト・音声情報を基にラベリングしたグループのラベリング結果を、3.2.2−2に転記テキストを基にラベリングしたグループのラベリング結果を示す。
また、転記テキストのみからラベリングをしたグループと転記テキストと音声情報からラベリングをしたグループのラベリング結果に関して有意水準5%でt検定を行ったところ、有意な差が見られた(p < 0.05)。
表3.2.2−1 音声・テキスト条件による Slash Unit ラベリング評価結果
課題名
純粋一致率(P(O))
偶然一致率(P(E))
κ値
FM2
0.951
0.567
0.888
FM3
0.923
0.500
0.846
FM4
0.891
0.502
0.782
FS1
0.994
0.521
0.988
FS2
0.917
0.568
0.807
表3.2.2−2 テキスト条件によるSlash Unit ラベリング評価結果
課題名
純粋一致率(P(O))
偶然一致率(P(E))
κ値
FM2
0.950
0.577
0.882
FM3
0.817
0.530
0.611
FM4
0.809
0.514
0.607
FS1
0.922
0.508
0.841
FS2
0.889
0.588
0.731
②     DAMSL ラベリング評価結果
本項ではDAMSLのラベリング評価結果を示す。DAMSLのラベリングに関する評価は Slash Unit 同様、κ統計を用いて行った。DAMSL のκを計算する際、各グループ(転記テキスト、転記テキスト+音声情報)に関して3人のラベラ全てがSlash Unit と判定した箇所に限って評価の対象とした。
表3.2.2−3に転記テキスト・音声情報を基にラベリングしたグループのラベリング結果を、図3.2.2−4に転記テキストを基にラベリングしたグループのラベリング結果を示す。また、転記テキストのみからラベリングをしたグループと転記テキストと音声情報からラベリングをしたグループのラベリング結果に関して有意水準10%でt検定を行ったところ、有意な差が見られた(p< 0.1)。
表3.2.2−3 音声・テキスト条件によるDAMSL ラベリング評価結果
課題名
純粋一致率(P(O))
偶然一致率(P(E))
κ値
FM2
0.757
0.091
0.733
FM3
0.666
0.115
0.623
FM4
0.666
0.168
0.599
FS1
0.815
0.263
0.749
FS2
0.688
0.145
0.635
表3.2.2−4 テキスト条件によるDAMSL ラベリング評価結果
課題名
純粋一致率(P(O))
偶然一致率(P(E))
κ値
FM2
0.633
0.094
0.595
FM3
0.554
0.152
0.474
FM4
0.681
0.224
0.588
FS1
0.785
0.244
0.715
FS2
0.705
0.159
0.649
(6)考察
①     Slash Unitラベリングに関する考察
表3.2.2−1およびエラー!参照元が見つかりません。3.2.2−2に示したSlash Unit のラベリング評価結果を見ると、全ての課題に関して転記テキストと音声情報を基にラベリングしたグループの方が転記テキストのみからラベリングを行ったグループよりもκ値が高いことが分かる。
κ値そのものに注目してみると、転記テキストと音声情報を基にラベリングしたグループの方が転記テキストのみからラベリングを行ったグループよりもばらつきが小さい。「音声+転記テキスト条件」グループの分散が0.0066、「転記テキスト条件」グループの分散が0.0162ということからも分かる。
「転記テキスト条件」グループのSlash
Unit のκ値が際立って低かったFM3,FM4に関してその理由を分析する。
ラベリングに用いた転記テキストはマルチモーダル対話コーパスが収録されているCD−ROMに併せて収録されているものであるが、課題によって、1行の文字数が多かったり少なかったり、また、発話のポーズに合わせて改行されていたりポーズではない箇所で改行されていたり、とまちまちである。FM3の転記テキストは発話のポーズに合わせて改行されているものの、1行に書き起こされた文字数が少なく文の途中の文節で改行されているケースが見受けられる。改行された箇所の文の途中の文節を体言止と解釈したラベラと、正しく「文の途中の文節での改行」と解釈したラベラがいたため、κ値が小さくなったと考えられる。改行された箇所の文の途中の文節を体言止と解釈するか、「文の途中の文節での改行」と解釈するかはそこにある程度の長さのポーズがあるか否かを判断出来る音声情報が大きな影響を及ぼす。このことは「音声+転記テキスト」グループのFM3のSlash Unit ラベリング結果のκ値が他の課題のκ値と比較して遜色のないことから解る。
次にFM4に関してκ値が小さかった原因を分析する。FM4の転記テキストを見てみると、FM3とは逆に、発話のポーズとは関係のない箇所で改行されており、また、1行に書き起こされた文字数が多く文の途中の文節とは関係ない箇所で改行されているケースが見受けられる。しかし、FM4は文の途中の文節とは関係ない箇所で改行されているためか、転記テキストの行末のSlash Unit か否かの判定がκ値に及ぼした影響はFM3ほどは多くなかった。FM4では転記テキストの行末の Slash Unit か否かの判定以上に、ポーズ・フィラー、談話標識、接続詞などの{}で囲む対象とするか Slash Unit で区切る対象とするかの判定がκ値の低下の原因になったと考えられる。FM4の話者の一人が発話の中で相槌でも了承でもない「うん」という発話を多くしており、この「うん」の発話をSlashUnit で区切ったラベラとポーズ・フィラーとして{ }で囲んだラベラに分かれた。このことが転記テキストの改行箇所と併せてFM4のκ値が小さくなった原因だと考えられる。
②     DAMSL ラベリングに関する考察
3.2.2−3および3.2.2−4に示した DAMSL のラベリング評価結果を見ると、課題FS2に関するラベリング結果のみが転記テキストのみの情報からラベリングしたグループが音声情報と転記テキストからラベリングしたグループをκ値に関して上回っている。この結果の原因は課題FS2の対話を行った話者の話し方にあると考えられる。顔課題における二人の発話者は、「説明する側」と「説明を受ける側」に分けられる。課題FS2において「説明する側」の話者は発話末を上げる特徴がある。この特徴が見られる発話に「ASR(言明)」とラベリングするラベラと「IR(情報要求)」とラベリングするラベラに分かれたことが音声情報と転記テキストからラベリングしたグループの課題FS2のκ値が低くなった原因だと考えられる。ラベリングする際に音声情報を聞くことが出来ない「転記テキストグループ」は「FM2の説明者の発話末が上がる」という情報が得られないため、「音声情報+転記テキストグループ」の様な混乱がなかったためにκ値が「音声情報+転記テキストグループ」を上回ったと察W$o$l$k!#
③     音声情報が談話ラベリングに及ぼす影響に関する考察
前述した通り、発話境界を決定する際にも、発話内容を理解する際にも音声情報は有意な影響を及ぼす。詳しく見てみると、Slash Unit に関するラベリングの方がDAMSL
に関するラベリングよりも音声情報の影響を強く受けている。その理由Slash  Unit の考察で述べた通り、Slash Unit の決定には音声情報が含むポーズ情報が影響を及ぼす。しかし、DAMSLのラベリングは前後の文脈である程度付与すべきタグの予測がつくため、Slash Unit のラベリングほど音声情報は影響を及ぼさない。
J-ToBIラベリングにおけるBI層の文末に付与するタグ4の一致率が高いことは、上記の「音声情報が含むポーズ情報がSlash Unit の決定に強い影響を及ぼす」ことと深く関連していると考えられる。
(注)以上記した実験とは別に、2名のラベラがそれぞれ全課題に対してタギングを行っている。
[参考文献]
Marie Meteer. 1995.Dysfluency Annotation
Stylebook for the Switchboard Corpus. Linguistic DataConsortium.
ftp://ftp.cis.upenn.edu/pub/treebank/swbd/doc/DFL-book.ps.gz.
Mark G. Core and James F. Allen. 1997.
Draft of DAMSL: Dialog ActMarkup in Several Layers. Manuscript.
河津恵. 1999. マルチモーダル対話のための音声・談話ラベリング〜タグセットの構成と異情報タグの統合および評価〜. 慶應義塾大学 大学院
政策・メディア研究科 修士論文.
Carletta J. 1996. Assessing Agreement on
Classification Tasks: The KappaStatistic. 
ComputationalLinguistics, Vol.22, No.2,
pp.249-254.
3
