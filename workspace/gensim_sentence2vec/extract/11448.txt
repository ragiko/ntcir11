事業継続性を高める目的でシステム災害復旧(DR)を検討する企業は多いが、ツールや環境などは予算や規模に適切なものを選択できているだろうか。後編では、クラウドとレプリケーション/HAクラスタリングのツールを用いたDR構築を解説する。
クラウドの有効活用でDRが容易に実現
東日本大震災以降、多くの経営者や情報システム担当者が災害時の事業継続性の向上に危機感をもって取り組み始めた。従来、中堅・中小企業において情報システムのバックアップは直接的な営業利益を生まない分野であるとして後回しにされがちであったが、災害復旧(DR:Disaster Recovery)が広域災害発生時の企業の生命線であると認識が高まったためである。
前回では、災害によるシステム破壊、停止からデータを守り、業務を継続するために構築するDisaster Recovery Site(以下DRサイト)を検討するにあたり、ITの災害復旧計画(IT-DRP)や災害復旧管理(IT-DRM)の位置づけ、策定ステップのほか、目標復旧時点(RPO)と目標復旧時間(RTO)を基軸とする3つのシステム保全方式を紹介した。すなわち、データを保存したテープまたはディスクを遠隔地に保管してDRを行う「バックアップ」、ネットワーク経由でデータを遠隔地のデータセンター等へ複製する「レプリケーション」、そしてデータ複製とサービス状態監視も含めてフェールオーバーを行う「HA(高可用性)クラスタリング」の3種類だ。
レプリケーションとHAクラスタリングの利用にあたって、インフラとして親和性が高いのがクラウドコンピューティングだ。中小企業におけるクラウド利用のメリットについて、サイオステクノロジー株式会社 セールスコンサルティング部 テクニカルスペシャリストの倉持健史氏は、次のように説明する。「ハードウェアなどのIT資産を自社で管理する必要がなく、必要量・必要スペックの機器を必要な時に利用できるクラウドは、DRのハードルを劇的に下げました。特にIaaSによって中小企業でも効果的なDR環境が実現できるようになりました。」
サイオスの製品とクラウドサービスの組みあわせ
サイオステクノロジーでは7月1日より中堅企業向け事業継続ソリューションとして、データレプリケーションソフトウェアの「DataKeeper」とHAクラスターソフトウェアの「LifeKeeper」を、IaaSのIBM Smart Business Cloud Enterpriseと組み合わせて提供する「事業継続 簡単クラウド」の提供を開始した。少ない初期投資と短い構築時間で中堅企業の事業継続を支援する。
共有ディスクを使わずに稼働系サーバーから待機系サーバーへディスクをネットワーク越しにレプリケーションするDataKeeperは、システム管理者がオンプレミスの自社稼働系サーバーからクラウド上の待機系サーバーへ手動で切り換えることで災害時のRTOを短縮する。大規模災害時に数時間程度での復旧を想定する企業であれば、DataKeeperが投資対効果としては最適だ。
一方、よりリアルタイムに近いスピードでのITシステム継続が必要なユーザーには、HAクラスタリングによるフェールオーバーを実現するLifeKeeperを推奨。稼働系サーバーを常時監視しているので、障害発生を自動的に検出してクラウド上の待機系サーバーへの切換えを行う。切換えられた場合、システム管理者は通知によって現在アクティブなシステムを把握できる。「LifeKeeperならばRPO、RTOも意識した手間のかからない復旧が可能です」(倉持氏)。
一般的なDRサイトの構築では、システムが利用できるまでに機器選定、社内稟議、発注、サービス契約締結、設置・回線引き込み、組み込み、OS導入、ミドルウェア導入など多くのステップがある。しかしクラウドサービスならば、
契約締結とID取得の後にプロビジョニングを行うだけでその後はすぐにシステムが利用でき、迅速なDRサイト構築が可能なのである。
IBM Smart Business Cloud Enterprise上でのパフォーマンスを検証
しかしパブリッククラウドの利用について漠然とした不安をもっている経営者や情報システム担当者は少なくない。倉持氏はそうしたクラウドへの評価は過去のものであると話す。 「外部に自社データを預けることに抵抗感をお持ちのお客はまだ若干いらっしゃるものの、東日本大震災以降は『データが自社内だけにしかない』ことの方を問題視しているお客様の方が多いと感じています。クラウドを検討しているお客様が懸念している点は、セキュリティと信頼性、そしてパフォーマンスの3つです。IBM社のクラウドサービスであるIBM Smart Business Cloud Enterprise(以下SBCE)は、セキュリティと信頼性について世界トップレベルのエンタープライズ向けサービスであり、IBM社が自社利用していることからも担保済みです。さらに当社では今回実際にお客様の業務環境を用いてパフォーマンスを検証し、問題なく利用できるものであるかどうか確認しました。」
検証は本社サーバルームに業務システムがあり、各営業所からWAN経由で利用する構成の顧客企業にて実施。DataKeeperで保護されたファイルサーバのデータをSBCE上へレプリケーションした。
「平日の通常の業務時間内でスループットを計測した結果、一昔前のネットワークよりもずっと高速で、実用性がありました。DataKeeperは数百テラバイト以上の大規模データのレプリケーションには向きませんが、中堅・中小企業様で扱われる数百ギガから数テラ程度であればまったく不自由ありません。計測したスループットは15Mbpsでしたが、DataKeeperの圧縮機能を使う事で、さらに倍近い数値が計測できました。また、実際のDataKeeper導入作業は30分から1時間程度で完了し、非常にスピーディでした。」(倉持氏)
資産を持たないサービス利用がこれからの「IT投資」
ハードウェアを自社で保有しないクラウドの利用形態は、従来の「IT資産」のイメージと異質だ。このことは情報システム担当者が経営者を説得する際の障壁のひとつになっていると倉持氏は分析している。
「現在は、形のないクラウドへ費用を払うという感覚が経営者へ浸透しつつある過渡期の段階だと考えています。オンプレミスはベンダーから見積りをとって実物を購入する資産ですが、クラウドはサービス利用なので経費としての意味あいが強いです。また、費用を最適化できる従量課金制についても実際に発生する金額の見通しが立ちにくいとお考えの場合が多いようです。従来の予算取りのあり方など、業務の習慣にも変化が迫られている時期かもしれません」(倉持氏)
企業のIT投資のあり方は震災を契機に変わりつつある。DRはこの変化の中で最初に出てきたテーマなのだ。そのためサイオステクノロジーは、コンサルティングによって顧客企業が業務継続のために真に必要なシステムはどれなのかの見極めや、優先順位設定を支援している。
クラウドを利用するDRサイト構築のモデルケース
SBCEとDataKeeperを実際に組み合わせる、DRサイト構築のモデルケースを紹介しよう。従業員100～300人規模、支店や営業所はWAN経由でアクセスして全社員が本社のサーバを利用している中小企業の「製造業A社」だ。基幹系システムと併存しているファイルサーバをDR対象としてクラウドへ移すことにした。
まず、サイオステクノロジーのコンサルティングを受け、ビジネス影響度分析(BIA)を実施。RPOを4時間、RTOを8～12時間と設定した。つまり災害発生によってシステムが停止した場合、最大4時間前のデータを基に、8～12時間以内に復旧するという目標だ。A社はSBCEの契約を行い、プロビジョニングを実施。速やかにシステムが利用可能となった。並行してDataKeeperのインストールなど、オンプレミス側の設定やDRサイト移行用システムを構築。レプリケーション設定を経て運用開始となった。
運用開始以降はインターネットにアクセスできる環境があれば、いつでもどこにいてもクラウド上の環境のメンテナンスや管理業務が可能となる。DataKeeperはWindowsライクな操作性でシンプルな画面のため、ツール習得の負荷は極めて低い。災害発生時に本社が被災地となった場合でもあらかじめ定めておいたBCPの手順に従い、支社からクラウドへの切換え操作を行う事で、守られているデータにアクセスでき、業務が再開可能だ。このモデルケースのA社がもし24時間営業を行っている小売業などの場合は、よりRTOとRPOが短縮できるHAクラスタリングのLifeKeeperを採用するだろう。
倉持氏はDRサイト運用のコツは日々の業務の中で災害復旧の手順を見直すなどして練度を高めておく事だと説明する。「災害時には多くのシステムが停止しますので、大切なのはどのような順番でシステムを復旧させていくのか、その手順を明確にしておくことです」。こうしてクラウドとオンプレミス、双方のメリットを最大限に引き出したリカバリー体制が構築できる。本連載で紹介した手法を用いて、力強いITシステムを手に入れてみてはいかがだろうか。サイオステクノロジーの製品とクラウドサービスを組み合わせたソリューションについて同社が7月29日に開催予定のセミナー「クラウドで実現するディザスターリカバリー～ITサービス事業継続セミナー～」で、その詳細を聞く事ができる。さらに技術的な詳細などは下記よりダウンロードしてご覧いただきたい。
クラウドで実現するディザスターリカバリー - ZDNet Japan
