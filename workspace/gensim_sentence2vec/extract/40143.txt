
統計的かな漢字変換の仕組み: ChaIME 徹底解説
トップに戻る
統計的仮名漢字変換では、与えられた仮名文字列の入力yに対して変換候補
xを条件付き確率P(x|y)の降順に提示します。仮名文字列が来たときに仮名漢字
交じり文になる確率です。この確率値が高い順に変換結果が並んでいて
くれればいいわけです。言い換えると、確率値最大のものがもっとも尤もらしい
変換候補となり、尤もらしさ順に確率値が並んでいることが統計的仮名漢字変換
の基本原理となります。
さて、直接P(x|y)を推定する方法があればそのまま仮名漢字変換に用いること
ができるのですが、一般にこの確率値を直接推定することは難しいため、
近似を用いて推定することになります。
この定式化は統計的機械翻訳や音声認識と同様で、ベイズの定理を用いることに
よってP(x|y)はP(y|x)とP(x)の積として推定することができます。この定式化において、
仮名漢字交じり文xの生起確率P(x)は確率的言語モデルと呼ばれ、
P(y|x)は確率的仮名漢字変換モデルと呼ばれます。以下でそれぞれについて説明します。
確率的言語モデル
確率的言語モデルとは、与えられた文字列が与えられた言語の文である尤度を
数値化したものです。こういった言語モデルは統計的機械翻訳や音声認識でも
用いられています。最も一般的に用いられている確率的言語モデルは単語 n-gram
モデルで、このモデルは文を単語列からなるものと見なして文頭から順に単語を
予測します。
自動単語分割
日本語入力の場合、単語境界が示されないため、仮名漢字変換においては
単語分割が最初に大きな問題となります。この問題を解決するために、単語
n-gram モデルに基づく自動単語分割器が提案されています(末尾の論文リスト参照)。
こういった自動単語分割器を用い、文字列xとして与えられる文の確率が最大と
なるような単語分割が、いちばんもっともらしい単語分割だと考えられます。
確率的仮名漢字変換モデル
確率的仮名漢字変換モデルとは、仮名漢字交じり文xが与えられたときの
キーボードからの入力記号列yの確率を表します。単語列wが与えられたときの
確率的仮名漢字変換モデルによる確率P(y|w)は、単語分割と読みが付与された
コーパスから最尤推定によって計算します。
変換候補の列挙
単語候補を列挙するシステムは、入力記号列yを受け取りあらゆる部分文字列
から変換可能な単語列wを出力します。動的計画法(Viterbi 探索)を用いれば
効率的に1-best解を求めることができます。N-best の候補を出力するには後ろ向き
A*探索を使用します。
今後の課題
ChaIME では単語に品詞情報を付与する必要がないので単語登録は簡単ですが、
専門用語や新語などへの対応が課題となっています。Social IME ではユーザ間で
辞書を共有することによってこの問題に対処しており、うまく協力してユーザの
手間を最大限に減らして辞書のメンテナンスを行えるようにしたいです。
また、サーバ側に蓄積された変換ログを用いて、スペルミスの自動訂正機能を
備えた入力メソッドや、予測入力機能を導入するつもりです。
統計的仮名漢字変換に関するソフトウェア
名前
ChaIME: A statistical approach to Japanese input method
