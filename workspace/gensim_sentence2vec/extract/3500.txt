
分析計算およびレポート用SQL関数の概要
Oracleでは、新しい分析用SQL関数ファミリの導入により、SQLの分析処理機能が強化されています。この種の分析用の関数を使用すると、次を計算できます。
ランキングとパーセンタイル(百分位数)
変動ウィンドウの計算
LAG/LEAD分析
FIRST/LAST分析
線形回帰統計
ランキング関数には、累積分散、パーセント・ランクおよびNタイルなどが含まれます。変動ウィンドウの計算によって、合計や平均などの変動集計および累積集計の検索が可能になります。LAG/LEAD分析では、行間の直接参照が可能になるため、周期ごとの変更を計算できます。FIRST/LAST分析では、順序付けされたグループ内の最初の値または最後の値を検索できます。
SQLに対するその他の拡張には、CASE式があります。CASE式では、様々な状況で有効なif-thenロジックが提供されます。
Oracle Database 10gでは、パーティション外部結合の導入により、SQLレポート機能がより強化されました。パーティション外部結合は、特定のディメンションを選択的に稠密化しながら、その他のディメンションをスパースなままにすることができるANSI外部結合構文の拡張です。これにより、たとえば、その他のディメンションはスパースなままで、クロス集計レポートに表示されるディメンションをレポート・ツールで選択的に稠密化できます。
パフォーマンスを向上させるには、分析関数をパラレル化できます。つまり、複数のプロセスで、すべての文を同時に実行できます。これらの機能によって計算がより簡単で効率的になるため、データベースのパフォーマンス、拡張性および簡易性が向上します。
分析関数は、表21-1に示すように分類されます。
分析計算およびレポート用SQL関数
