English
京都テキスト解析ツールキット(KyTea、「キューティー」)は、日本語など、単語(または形態素)分割を必要とする言語のための一般的なテキスト解析器です。
特徴
ダウンロード・インストール
プログラム仕様
解析:手法の詳細, 入出力の形式, API
学習:モデル学習, 入手可能なモデル
KyTeaを使った分野適応
開発情報
特徴
KyTeaには以下の機能が揃っています:
単語分割:分かち書きされていないテキストを適当な単語または形態素に分割する。
読み推定・品詞推定:かな漢字変換や音声認識、音声生成のために単語の発音を推定することができ、品詞を推定することもできます。
線形SVMやロジスティック回帰などを用いてそれぞれの分割点や読みを個別に推定するため、部分的にアノテーションされたデータを利用してモデルを学習することも可能です。
分類器の学習にはLIBLINEARを使用しています。
学習法の詳しい説明についてはこちらをご覧ください。
また、詳しくは以下の論文をご参照ください。品詞推定に関する話題であればACLの論文、読み推定に関する話題であればLRECの論文を引用していただければ幸いです。
Graham Neubig,Yosuke Nakata, Shinsuke Mori.Pointwise Prediction for Robust, Adaptable Japanese Morphological AnalysisThe 49th Annual Meeting of the Association for Computational Linguistics: Human Language Technologies (ACL-HLT). Portland, Oregon, USA. June 2011
Graham Neubig,Shinsuke Mori.Word-based Partial Annotation for Efficient Corpus ConstructionThe seventh international conference on Language Resources and Evaluation (LREC 2010). Malta. May 2010.
Graham Neubig,中田 陽介,森 信介.点推定と能動学習を用いた自動単語分割器の分野適応言語処理学会第16回年次大会(NLP2010).東京.2010年3月.
森 信介,Graham Neubig.仮名漢字変換ログの活用による言語処理精度の自動向上言語処理学会第16回年次大会(NLP2010).東京.2010年3月.
ダウンロード・インストール
ダウンロード
最新のバージョン:
KyTea 0.4.6 (コード)
KyTea 0.4.2 (Windows版)
KyTeaのバージョン0.1.0以降にはソースコードと現代日本語書き言葉均衡コーパス(BCCWJ)やUniDicなどのデータで学習されたモデルが含まれています。
最新コード(未リリース): @github
過去のバージョン:
0.4.5 (コード)
0.4.4 (コード)
0.4.3 (コード)
0.4.2 (コード Win)
0.4.1 (コード Win)
0.4.0
0.3.2
0.3.1
0.3.0
0.2.1
0.2.0
0.1.3
0.1.2
0.1.1
0.1.0
0.0.3
0.0.2
0.0.1
KyTeaのソースコードはApache License Version 2の条件に基づいて頒布されています。
KyTeaと同梱されているモデル、またはKyTeaモデルのページでダウンロード可能なモデルの研究及び商用利用は許可されているものの、事前に許可を得ない限り再配布は禁じられています。
インストール
KyTeaはLinux・Mac OSX・CygWinで動作確認をしています。
インストールをするために、最新版をダウンロードしてから、ファイルを解凍してmakeをします。
tar -xzf kytea-X.X.X.tar.gz
cd kytea-X.X.X
./configure
make
make install
kytea --help
これでヘルプが表示されればプログラムは正しく動作しています。
プログラムの効率やインストール場所を指定するオプションはコンパイル時に指定できます。
プログラム仕様
単語分割・読み推定
KyTeaをインストールしてから、プログラムを実行することで分かち書きされていないテキストを分割し、読みを付与することができます(モデルの文字コードはUTF-8なので、UTF-8以外の文字コードのテキストであれば新たにモデルを学習する必要があります)。
test.rawにベタ書きのテキストがあり、以下のようなコマンドを実行すれば、test.fullに解析結果が出力されます。
kytea < test.raw > test.full
モデル学習
単語分割・読み推定のモデルを構築することはそれほど難しくありません(学習の詳細はこちら)。
まず、以下の形式のコーパスを用意します(単語分割のみを必要とする場合、タグは不要です。また、train-kyteaで「-notag」を指定することもできます):
コーパス/名詞/こーぱす の/助詞/の 文/名詞/ぶん で/助動詞/で す/語尾/す 。/補助記号/。
もう/副詞/もう ひと/名詞/ひと つ/接尾辞/つ の/助詞/の 文/名詞/ぶん で/補助記号/で す/語尾/す 。/補助記号/。
このコーパスはtrain.fullという名前で、test.rawという分かち書きされていないテストデータのファイルがある場合、このようにモデルを学習してテストデータの単語分割・読み推定ができます。
train-kytea -full train.wp -model model.dat
kytea -model model.dat < test.raw > test.full
出力のtest.fullは単語分割され、各単語にタグが付きます。
各プログラムの使い方
kytea
kyteaはモデルを用いて単語分割と読み推定を行います。
解析オプション: 
-model   使用するモデルファイル
-nows    単語分割を行わない(-in rawと併用不可)
-notags  タグ推定を行わない(-in fullと併用不可)
-notag   n個目のタグを推定しない(-notag 1 なら1個目のタグを推定しない)
-nounk   未知語の読み推定を行わない
-wsconst 分割したくない文字種の指定 (例えば-wsconst Dで数字を分割しない) 
-unkbeam 未知語の読み推定で利用するビーム幅(デフォルト:50、0は全探索)
入出力オプション: 
-in      入力の形式(raw/full/part/conf/tok、デフォルトraw)
-out     出力の形式(full/part/conf/tok/eda/tags、デフォルトfull)
-tagmax  出力するタグ候補の最大限(デフォルト3、0で全てを出力)
-deftag  サブワード辞書に存在しない未知語など、タグを与えられない単語のため
のタグ
-unktag  辞書に存在しない単語に付与されるタグ
入出力オプション(上級編): 
-wordbound フルアノテーションの単語境界を表す文字 (" ")
-tagbound  フル・部分的アノテーションのタグ境界を表す文字 ("/")
-elembound フル・部分的アノテーションの候補境界を表す文字 ("&")
-unkbound  部分的アノテーションで「未付与タグ」を表す文字 (" ")
-skipbound 部分的アノテーションで「付与見送りタグ」を表す文字 ("?")
-nobound   部分的アノテーションで「単語境界なし」を表す文字 ("-")
-hasbound  部分的アノテーションで「単語境界あり」を表す文字 ("|")
train-kytea
train-kyteaはKyTeaモデルを学習するためのプログラムです。
入力・出力オプション:
-encode  入出力の文字コード (utf8/euc/sjis、デフォルト:utf8)
-full    フルアノテーションの学習データ(複数可)
-tok     単語分割のみの学習データ(複数可)
-part    部分的にアノテーションの学習データ(複数可)
-conf    信頼度付きの学習データ(複数可)
-feat    -featoutで生成された素性ファイル
-dict    辞書ファイル (複数可)
-subword サブワード単位の辞書。追加することで未知語の読み推定が有効になる
-model   モデルファイルの出力先
-modtext テキスト形式のモデル出力 (デフォルトはバイナリ形式)
-featout 生成する素性ファイル
モデル学習オプション:
-nows    単語分割のモデルを学習しない
-notags  タグ付与モデルを学習しない
-global  n個目のタグを全体モデルで学習する(品詞推定等に利用)
-debug   デバッグ情報のレベル(0=なし、1=通常、2=詳細)
モデル学習オプション(上級編):
-charw   文字素性の窓幅 (デフォルト:3)
-charn   文字素性のn-gram長 (デフォルト:3)
-typew   文字タイプ素性の窓幅 (デフォルト:3)
-typen   文字タイプ素性のn-gram長 (デフォルト:3)
-dictn   辞書素性の単語帳上限 (デフォルト:4)
-unkn    未知語モデルのn-gram長 (デフォルト:3)
-eps     分類器学習の停止条件を調整するε
-cost    分類器学習のコストハイパーパラメータ
-bias    分類器の学習でバイアスを用いる (デフォルト:true)
-solver  分類器の種類 (1=SVM、7=ロジスティック回帰など。デフォルト:1)
開発情報
開発チーム
Graham Neubig (プロジェクトリーダー、プログラム全体の開発)
笹田 鉄郎 (言語資源の整理)
森 信介 (指導、パワーユーザー)
KyTeaプロジェクトに参加されたい方はkytea@までご連絡ください。 
バージョン歴
改良予定
EUCの3バイト文字の正しい取扱い(現在では正しく動作しません)。
半角ローマ字やカタカナの扱いの改良。現在の最新版では読み推定の前に半角文字を全角文字に変換すると正しく読み推定ができます。
Version 0.4.6 (2013年5月28日)
半角文字を学習に利用する場合の大きなバグを修正
単語を出力しない出力形式として「tags」を追加
Version 0.4.5 (2013年4月8日)
コンパイルエラーを修正(特にclangにおけるエラー)
Version 0.4.4 (2013年2月25日)
大きなリファクトリングでコードが読みやすくなり、コンパイル時間が少し短縮された
-out edaというオプションでEDA係り受け解析器と直接つなげることが可能になった
Version 0.4.3 (2013年2月4日)
分割をしたくない文字種を指定可能にする「-wsconst」オプションの追加(例えば「-wsconst D」で数字を分割しない)
Version 0.4.2 (2012年5月30日)
半角文字の正規化
モデル更新による精度向上
タグ無し、単語分割ありの入力に対応する入出力形式tokの追加(-nowsの場合はデフォルト
その他のバグ修正
Version 0.4.1 (2012年3月31日)
バグ修正
Windows版を追加(Windows用コードを貢献したknzmに感謝します)
Version 0.4.0 (2012年1月27日)
解析速度の改善(約2倍、-notagsを用いた場合は5倍)。
単体テストの追加、バグの修正。
モデル更新(頑健性向上)。
Version 0.3.2 (2011年8月9日)
素性ファイルを使った学習を可能にした(学習ページを参照)。
"-nounk"オプションのバグ修正。
Version 0.3.1 (2011年6月17日)
バグ修正。
APIの更新。
Version 0.3.0 (2011年4月26日)
複数のタグを同時に推定する機能(品詞+読み)。
ACL 2011の論文で提案した全体タグ付与モデルを実装。
確率モデルでも信頼度が100になる問題を修正。
Version 0.2.1 (2011年1月21日)
学習があるパラメータ設定やデータセットで不安定になっていたバグを修正。
-deftagオプションのバグ修正。
エスケープ(\)の扱いの改善。
Version 0.2.0 (2011年1月6日)
プログラムからのアクセスを容易にするAPIを追加。
LIBLINEARのバージョンを1.7に更新し、より精度の高いロジスティック回帰(-solver 7)を可能にした。モデルページのモデルも更新。
単語やタグなどの境界を表す文字を指定可能にした(詳細はこちら)。
タグ候補がない時に出力されるタグを指定するオプション(-deftag)を追加(デフォルトで「/UNK」になっている。
SVMやロジスティック回帰の学習に利用するコストを調整するオプションを追加(-cost)。
KyTeaの結果を分析しやすくするために-debugのオプションを追加。
テキスト形式のモデルが読みやすくなった(素性の重みは素性の名前の直後に書いてある)。
素性の重みをshortとして格納すると、ある場合学習された値がゼロになり、精度にばらつきが出たため、デフォルトでdoubleとして格納されるようになった。
Version 0.1.3 (2010年10月01日)
コンパイル時の警告を修正。
Mac OS Xでコンパイルができないバグを修正。
モデルのページに品詞推定(形態素解析)のモデルを追加。
Version 0.1.2 (2010年08月18日)
未知語の読み推定を全探索からビーム探索に変えて、-unkbeamのオプションを追加。これにより長い未知語によるクラッシュの問題を解消。
「-solver 6」で学習されたモデルを使った場合、「-out conf」で確率ではなく対数確率が出力されるバグを修正。
train-kyteaの-nopeオプションを指定した場合のバグを修正。
信頼度付き出力で、各文に対する出力の後に空の1行を出力することにした(その後の処理を容易にするために)。
発音の付いていない辞書が正しく読み込まれないバグを修正。
-modtextオプションを使ったモデルが読み込めなかったバグを修正。
Version 0.1.1 (2010年5月11日)
サブワードに基づく未知語の読み推定。
モデルの辞書と学習データの拡張。
Version 0.1.0 (2010年3月5日)
複数の辞書を利用する場合、それぞれの辞書の単語は個別の素性として扱われる(以前のバージョンでどの単語はどの辞書に入っていたのかは素性に入れていなかった)
モデルファイルの形式変更、サイズ圧縮
部分的アノテーションのファイルでは、タグが付与されていない箇所に対して、' '以外にも'?'を利用することができる(' 'は未アノテーション箇所、'?'は作業者が分割すれば良いか判断できない箇所
連続している空白は1つの空白として扱われる
ロジスティック回帰の信頼度は確率を表す
KyTea付属のモデルがパッケージに入ったため、学習データを持っていなくても使える
複数の読み候補を出力する機能。
Version 0.0.3 (2009年11月30日)
速度の改善(0.0.1の2倍程度)
-nows指定時に現れるバグの修正
Version 0.0.2 (2009年11月16日)
Shift-JISのサポート。
メークシステムをAutotoolsに変えた。
Version 0.0.1 (2009年11月05日)
初リリース。
Last Modified: 2012-01-27 by neubig
KyTea (京都テキスト解析ツールキット)
