旅行時間を算出するには
うまく収集できた、ということにして、次は基本中の基本、旅行時間の算出をやってみることにした。ここでいう旅行時間とは、特定の区間の通過時間とか所要時間とかと同義。
プローブデータから旅行時間を算出するには、マップマッチングが手っ取り早い、というか必要だ。区間の区切り(ノードと言う)の位置情報に最も近い位置情報を持つレコードを抽出して、その時刻の差を見る、という至ってシンプルな方法。マッチングには、DRM(デジタル道路地図データベース)を使いたいのだが・・・
ノードの位置情報をグーグルマップで調べる
最初にどの区間を対象にするかを考えた。業界ウケを考えると、高速道路の場合は100メートル単位で区切りるのがベストなのだろうが、今回はざっくりと、インターチェンジ(IC)、料金所(TB)、休憩施設(SA、PA)を区間の区切りとした。理由は簡単。DRMが手元にないから。
ということで、ノードの位置情報はグーグルマップから拾うことにした。拾うと言っても、グーグルマップでインターチェンジや料金所をジオコーディングする方法がいまひとつわからないかったので、ひたすら手作業でひとつずつ調べることに。
ちなみに、ノード間(リンクと言う)の距離は、ウィキペディアを参照した。ずいぶんと大雑把な値だが、そもそもGPS位置情報は単独測位で粗いものだし、ノードの位置情報もグーグルマップから手作業で拾うというかなりアバウトな値なので、距離の値もこのくらいのざっくり感で充分。なお、方向(上り下り)についても今回は考慮しないことにした。
渋谷プローブ通信 - 東日本大震災後の高速道路を走ってみた #3
