データベース サーバーを最適化するときは、個々のクエリのパフォーマンスをチューニングする必要があります。これは、ハードウェアとソフトウェアの構成など、パフォーマンスに影響するサーバーのその他の側面をチューニングすることと同じくらい (または、おそらくそれ以上に) 重要です。
現在利用できる最も強力なハードウェアでデータベース サーバーを実行しているとしても、いくつかの適切に動作しないクエリによってパフォーマンスが低下する可能性があります。実際、たった 1 つの適切に動作しないクエリ ("ランナウェイ クエリ" と呼ばれることもあります) が原因で、データベースのパフォーマンスに重大な問題が発生することもあります。
反対に、最もコストの高いクエリや最も頻繁に実行されるクエリをチューニングすることで、データベースの全体的なパフォーマンスが大幅に向上することもあります。この記事では、サーバー上の最もコストが高くパフォーマンスの低いクエリを特定してチューニングする際に使用できる手法のいくつかを取り上げます。
通常、個々のクエリをチューニングするときは、まずクエリの実行プランを確認します。実行プランは、SQL ServerTM がクエリの要求を満たし、目的の結果セットを生成するために実行する一連の物理的な操作と論理的な操作を表します。実行プランは、クエリ オプティマイザと呼ばれるデータベース エンジンのコンポーネントにより、クエリ処理の最適化フェーズ中に生成されます。このとき、クエリ内で使用されている検索述語、クエリに記述されているテーブルとその結合条件、返される列の一覧、データへの効率のよいアクセス経路として使用できるインデックスの有無など、さまざまな要素が考慮されます。
SQL Server: SQL Server クエリのパフォーマンスを最適化する
