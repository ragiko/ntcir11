
8 ノード・マネージャの設定
この章では、EDGの推奨に従ってノード・マネージャを構成する方法について説明します。Oracle Fusion Middleware EDGでは、ノード・マネージャと管理サーバー間の通信にホスト名検証を使用することをお薦めします。このホスト名検証には、管理サーバーと通信するそれぞれのアドレスに証明書を使用する必要があります。この章では、ホスト名検証に使用する証明書をSOAHOST1およびSOAHOST2に構成する手順を説明します。BAM EDGトポロジのBAMHOST1およびBAMHOST2にも同様の手順が必要となります。その手順ではBAMに応じたホスト名の変更が必要ですが、一連の手順や構文はSOAの場合とまったく同じです。
また、Oracle Fusion Middlewareデプロイのノード・マネージャのログは、デフォルト(ノード・マネージャが存在するMW_Homeの中)でない場所に置くこともお薦めします。詳細は、第8.2項「ノード・マネージャのログの場所の変更」を参照してください。
この章の項目は次のとおりです。
第8.1項「ノード・マネージャについて」
第8.2項「ノード・マネージャのログの場所の変更」
第8.3項「SOAHOST1でのノード・マネージャに対するホスト名検証証明書の有効化」
第8.4項「SOAHOST1でのノード・マネージャの起動」
第8.5項「SOAHOST2でのノード・マネージャに対するホスト名検証証明書の有効化」
第8.6項「SOAHOST2でのノード・マネージャの起動」
第8.7項「カスタム・キーストアを使用するためのWebLogic Serverの構成」
8.1 ノード・マネージャについて
ノード・マネージャを使用すると、管理サーバーおよび各管理対象サーバーの起動と停止が可能です。
パスワードについて
このガイドで使用するパスワードはあくまでも一例にすぎません。本番環境ではセキュアなパスワードを使用してください。たとえば、大文字と小文字の両方および数字を含むパスワードを使用します。
8.2 ノード・マネージャのログの場所の変更
MW_HOME/wlserver_10.3/common/nodemanagerディレクトリにあるnodemanager.propertiesファイルを編集します。LogFileに新しい場所を追加します。このファイルは、MW_HOMEディレクトリでなく、次のコマンドを使用してデプロイのadminディレクトリ内に置くことをお薦めします。
LogFile=ORACLE_BASE/admin/nodemanager.log
ノード・マネージャを再起動して、変更を有効にします。
8.3.1 utils.CertGenユーティリティを使用した自己署名証明書の生成
次の手順に従って、SOAHOST1.mycompany.comに自己署名証明書を作成します。これらの証明書はネットワーク名または別名を使用して作成する必要があります。サーバーで仮想ホスト名を使用している場合、サーバーはノード間で移行できることになります。そのため、キーストアおよび信頼キーストアを最適に保持するには、このディレクトリをフェイルオーバー・ノードからアクセス可能な共有記憶域に配置する必要があります。自己署名証明書のかわりに信頼できるCA証明書を使用するには、『Oracle Fusion Middleware Oracle WebLogic Serverの保護』でアイデンティティとトラストの構成に関する項を参照してください。
WL_HOME/server/bin/setWLSEnv.shスクリプトを実行して環境を設定します。
Bourneシェルで、次のコマンドを実行します。
SOAHOST1> . setWLSEnv.sh
CLASSPATH環境変数が設定されていることを確認します。
SOAHOST1> echo $CLASSPATH
証明書用のユーザー定義ディレクトリを作成します。たとえば、ORACLE_BASE/admin/<domain_name>/aserver/<domain_name>ディレクトリの下にcertsというディレクトリを作成します。証明書はWLSドメイン間で共有できることに注意してください。
SOAHOST1> cd ORACLE_BASE/admin/<domain_name>/aserver/<domain_name>/
SOAHOST1> mkdir certs
ノード・マネージャの設定
