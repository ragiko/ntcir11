
Next: 増加的距離結合アルゴリズム
Up: 空間データベースにおける増加的距離結合アルゴリズム Incremental Distance Join
Previous: 空間データベースにおける増加的距離結合アルゴリズム Incremental Distance Join
導入
空間結合操作は関係データベースの結合操作に似ている。2つの対象物の集合
を定義し、2つの集合のカルテジアンプロダクト(Cartesian product)の部分集
合を計算する。それは対象物の空間での関係を決めるものである空間述語
(spatial predicate)によって決まる。ほとんどの共通の空間述語は幾何学
的には交差(intersect)している必要がある。これを一般化すると対象物があ
る距離以内にある必要があるということになる。ほかの空間述語も考えて距離
結合の一般的方法を示す。その中には結合索引(join index)を含む。
ここでは「距離結合」操作を定義する。集合A、Bのカルテジアンプロダクトの
部分集合を計算して、距離の順番を明確にする。距離は空間属性(spatial
attribute)で定義される。できた組(pair)がある範囲に限られるとき、一般的
空間結合がある。「距離準結合」はAの中の対象物に近いBの中の対象物を見つ
けるような距離結合の特別な場合に有効である。図1に距離結合と距離準結合
の操作をSQLで定義する。WHEREやSTOP AFTERで距離、タプルの数を制限する。
基本的質問はWHEREの条件を増やすと複雑になる。
図1:(a)距離結合の定義。(b)距離準結合の定義。
距離結合と距離準結合は空間データベースで多くの応用がある。例えば、川と
都市の空間データベースがあって、「任意の川に最も近い都市を見つける」と
か「任意の川に最も近い人口500万以上の都市を見つける」とか「任意の川か
ら5マイル以内の都市を見つける」という計算で役立つ。距離準結合はクラス
タリング操作として有効である。例えば、2つの店(store)と倉庫(warehouse)
の関係があってそれぞれの店から最も近い倉庫を決めるというもの。倉庫の関
係と店の関係の距離準結合をとればよい。距離準結合は(店,倉庫)の組を距離
の順に示す。そして特定の店に最も近い倉庫を決めて、その店は残りの倉庫と
のタプルには入らない。
完全な距離準結合の計算で店のクラスタリングができる。点データとして離散
Voronoi図に似た方法で分割する。店の関係の各点を最も近い倉庫の関係の点
と結びつける(Voronoi図の言葉では倉庫の位置はサイトである)。これの利点は、
Voronoi図がデータ原始関数(data base primitive)を使うように操作をするた
め幾何学的図書館(geometric library)から特定の目的アルゴリズム(special
purpose algorithm)を引き出さずにユーザーに幾何学的操作(geometric
operation)のメカニズムを示すことである。この操作は相対称的(symmetric)で
はない。倉庫の関係と店の関係の距離準結合の計算結果は、各倉庫にとっ
て最も近い店である。
クラスタリング結合(clustering join)は距離準結合に似ているが、クラスタ
リング結合は相対称的である所が異なる。しかしクラスタリング結合の計算ア
ルゴリズムはd次元ユークリッド空間の空間データにはあまり合わない。それ
は、アルゴリズムを考えるときパターン、文字列、木、グラフといった内部構
造が分からない一般的対象を扱うからである。対象間の距離は測定できる。距
離の測定は計算の手間がかかるので、できるだけ少なくしたい。またデータをまと
めたり、多くの距離計算を避けられる空間索引(spatial index)を使うことが
できる(距離の質問アルゴリズムはよいものでなくてもいい)。
ここでは距離結合と距離準結合の計算をする増加的アルゴリズムを示す。操作
が同じなら結果の組も1対1である。質問プロセッサがパイプラインのアルゴリ
ズムを使うことができる。それはできるだけ速く結果を伝えるものである。
「一番速い」パイプライン結合法が注目されている。データベースシステムの
ユーザーが親しめる対話的インターフェースの開発が重要になってきている。
SQLの拡張版が出たので、そのアルゴリズムがよくなった。
増加的距離結合アルゴリズムは、対象物の集合の中の交差する組、近い組、とな
りの組を計算するのに使う。増加的距離結合アルゴリズムは計算の複雑さで必
ずしも以前のアルゴリズムよりいいとは限らないが、空間データ構造が既に出
来ているならば、それはよいかもしれない。それに点や四角の対象に限ったも
のではない。
2節は距離結合と距離準結合の計算をする増加的アルゴリズムについて、3節は
実験を行なった環境について、4節はその結果について、5節は結論と今後の課
題について記す。
生物圏情報学講座
Mitutoshi Abe
平成11年2月26日
導入
