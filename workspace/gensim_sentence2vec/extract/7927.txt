 次はWindows Server 2008/Windows Server 2008 R2のHyper-Vのネットワーク機能について見ていこう。
Hyper-Vで利用できる仮想ネットワーク・インターフェイスはVirtual PCやVirtual Serverの場合とほぼ同じだが、それを解説する前に1つ、物理的なネットワーク・インターフェイスの扱いの違いについて述べておく。
Virtual PCやVirtual Serverをインストールすると、既存の物理ネットワーク・インターフェイスはそのままに、仮想環境からアクセスするためのサービスがネットワーク・インターフェイスにバインドされていた。
Virtual Server 2005のインストール後の状態Virtual PCやVirtual Serverをインストールするとこのように、物理的なネットワーク・インターフェイスに対して、「Virtual Machine Network Services」というサービスがバインド(関連付け)される。 (1)物理的なネットワーク・インターフェイス・カードのプロパティを表示させている。 (2)これが仮想化ソフトウェア用にバインドされたサービス。
元のバインド情報(「Microsoft ネットワーク用クライアント」や「インターネット プロトコル (TCP/IP)」など)はそのまま残っているため、ユーザーは特に何も気にする必要はない。
だがHyper-Vの場合は、OSよりもさらに上位(ハードウェア寄り)で動作しているハイパーバイザという管理機構が存在するため、ネットワーク・インターフェイスの扱いが変更されている。具体的にはHyper-Vをインストールすると、新しいネットワーク・インターフェイスが作成され、プロトコルのバインドなどが変更される。
以下の画面は、Hyper-Vを新規インストールした直後のネットワーク・インターフェイスの一覧画面である。
Hyper-Vインストール後のネットワーク・インターフェイスの一覧これは［コントロール パネル］の［ネットワーク接続］で表示される、ネットワーク・インターフェイスの一覧である。 (1)これは最初から存在していた、物理的なネットワーク・インターフェイス。 (2)これはHyper-Vのインストール後に作成された仮想ネットワーク・インターフェイス。このインターフェイスの「説明」フィールドには、「Microsoft 仮想ネットワーク スイッチ アダプター #2」と記入されている。仮想的に作成されたネットワーク・インターフェイスであり、Hyper-Vの親パーティションに対する通信を担当する。
仮想PCで学ぶ「体当たり」Windowsシステム管理:第3回 仮想ネットワークの種類を知る (2/2) - @IT
