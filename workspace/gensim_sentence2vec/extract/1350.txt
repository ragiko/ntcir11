
データ部 - ファイルおよびデータ記述 
手続き部
第 9 章 : データ部 - 画面節 
この章では、画面記述項の全体的な骨組みを解説する。この種の記述項に使用する句の説明をアルファベット順に掲載する。 
9.1 画面節の概要
画面記述項は、実行時に受け取り用または表示用に参照される画面項目の属性、動き、大きさ、位置などを指定する。 
利用できる画面属性は、使用している端末ハードウェアやオペレーティングシステムやCOBOLの実行時支援機能に依存する。 
下記のものは、X/Openの画面操作には含まれない。 
ACCEPT (形式 3 および 5) 
AUTO-SKIP (AUTOと同義語)  
BEEP
(BELLと同義語)  
COL (COLUMNと同義語)  CONTROL  
DISPLAY
(形式 3)  
EMPTY-CHECK (REQUIREDと同義語)  GRID  LEFTLINE 
LENGTH-CHECK (FULLと同義語)  
NO-ECHO (SECUREと同義語)  OCCURS 
OVERLINE  PROMPT  SIZE  ZERO-FILL  
一般形式 
構文規則 
各画面記述項の最初にレベル番号を書く。レベル番号は01から49までとする。 
01レベルの項目には、画面名を指定する。 
画面名はレベル番号の直後に書く。画面名は、利用者語の要件を満たす必要がある。 
画面項目は、形式 4 のACCEPT文または形式 
2 のDISPLAY文によってだけ参照できる。 
各基本画面項目には、次のものの中から少なくとも1つを指定する: BELL, BLANK LINE, BLANK SCREEN, COLUMN, 
LINE,PICTURE, VALUE。 
FROM, TO, USINGの各指定の中のデータ項目は、画面項目に「関連付け」られる。USING指定は、FROM指定とTO指定を対にして同じ項目を指定したものと同義である。 
ACCEPTを実行できるのは、FROM指定またはVALUE句を伴う画面項目、およびTO指定またはUSING指定を伴う画面項目が共に含まれる集団画面項目に対してだけである。	
画面名の後ろに続ける句は、どのような順序で書いてもよい。 
集団画面項目の画面記述に書いた句は、その集団画面項目に属するすべての基本画面項目のうち、その句が当てはまるものに適用される。 
01レベル以外の画面項目には、データ名またはFILLERを指定してもよいし、あるいは何も指定しないでもよい。名前を指定しないと、FILLERを指定したものとみなされる(したがって、その項目は明示的に参照できない)。 
同じ画面項目に同じ句を2回以上指定すると、階層系列内で最も低いレベルに現れるものが効力を発揮する。 
表-1 は、画面節で様々な種類の項目とともに使用可能な画面記述項の句の一覧である。 
これらの句はさらに、ACCEPT文およびDISPLAY文を伴うWITH指定とともに使用可能である。
表 9-1: 使用可能なオプション 
画面記述句/
WITH 指定
画面節
WITH指定
入力項目
出力項目
更新項目
定数項目
ACCEPT
DISPLAY
AUTO
X
X
X
BACKGROUND-COLOR
X
X
X
X
X
X
BELL
X
X
X
X
X
X
BLANK
X
X
X
X
X
BLANK WHEN ZERO
X
X
X
BLINK
X
X
X
X
X
X
COLUMN
X
X
X
X
ERASE
X
X
X
X
X
FOREGROUND-COLOR
X
X
X
X
X
X
FULL
X
X
X
GRID
X
X
X
X
X
X
HIGHLIGHT
X
X
X
X
X
X
JUSTIFIED
X
X
X
LEFT-JUSTIFY
X
LEFTLINE
X
X
X
X
X
X
LINE
X
X
X
X
LOWLIGHT
X
X
X
X
X
X
OCCURS
X
X
X
OVERLINE
X
X
X
X
X
X
PROMPT
X
X
X
REQUIRED
X
X
X
REVERSE-VIDEO
X
X
X
X
X
X
RIGHT-JUSTIFY
X
SECURE
X
X
X
SIGN
X
X
X
SIZE
X
X
X
X
X
X
SPACE-FILL
X
TRAILING-SIGN
X
UNDERLINE
X
X
X
X
X
X
UPDATE
X
説明: 
X 
句またはオプションを使用できる 
入力項目 
画面記述にTO指定が含まれる画面項目 
出力項目 
画面記述にFROM指定が含まれる画面項目 
更新項目 
画面記述にUSING指定が含まれる画面項目 
定数項目 
画面記述にPICTURE句が含まれない基本画面項目 
一般規則 
画面名は、画面記述中に記述された画面項目に名前を付ける働きをする。
画面記述は、画面上の領域を定義する。各記述項は、レベル番号といくつかの句で構成する。画面名をはじめとする各種の句は、指定しても指定しなくてもよい。これらの句を通じて、項目の位置や操作卓機能を記述する。
画面項目が表示されるとき、データは、関連するFROM指定またはUSING指定内に指名されている定数またはデータ項目から取り出される。TO指定の中にだけ指定されている項目は、FROM
SPACEまたはFROM ZEROが指定されているものと扱われる。どちらに扱われるかは、その画面項目の種類による。
画面項目が受け取られると、データは、画面からTO指定またはUSING指定内に指定されているデータ項目に転記される。その項目の項類に応じて、必要があれば、変換および編集が解除される。
入力項目は、画面記述にTO指定が含まれる画面項目である。
出力項目は、画面記述にFROM指定が含まれる画面項目である。
更新項目は、画面記述にUSING指定が含まれる画面項目である。
定数項目は、画面記述にPICTURE句が含まれる基本画面項目である。
集団画面項目をACCEPTすることは、その集団に属する基本項目のうちの入力項目または更新項目を受け取ることである。これらの項目は、画面節内に記述されている順番に、画面記述によって示される画面位置から受け取られる。CURSOR
IS句(環境部の章の特殊名段落節を参照。)
の中で別途指定されていないかぎり、カーソルは、当初最初の項目の始点に位置付けられる。各項目のACCEPT処理が終わるにつれて、カーソルは次の項目の始点へと移動される。
集団画面項目をDISPLAYすることは、その集団に属する基本項目のうちの出力項目または更新項目と定数項目を表示することである。これらの項目は、画面記述によって示される画面位置に同時に表示される。
ACCEPTまたはDISPLAYの対象の画面項目の長さが現在の行を超えると、次の行の頭に戻って続けられる。
画面項目が長すぎて物理画面に収まりきらない場合、切捨てが発生する。出力項目および英数字の入力項目と更新項目の場合は、画面からはみ出す最初の文字以降が切り落とされる。数字および数字編集の入力項目と更新項目の場合は、画面からはみ出す最初の項目以降が切り落とされる。
9.2 AUTO句
AUTO(自動)句は、最後の文字位置に文字が入力されたときに、画面項目のACCEPT処理を自動的に終了させる。終了キーを明示的に入力する必要はない。 
一般形式 
構文規則 
AUTO句は、入力項目および更新項目に対してだけ指定できる。
この句を集団レベルに指定すると、それに属するすべての基本項目に適用される。
AUTOとAUTO-SKIPは同義であり、どちらを書いてもよい。 
一般規則 
REQUIRED句またはFULL句が満たされるならば、カーソルは次の画面項目に位置付けられる。あるいは、ACCEPTする最後の画面項目のところでは、ACCEPT処理そのものが終了される。
この句は、ACCEPT文の自動飛越しおよび自動終了用の既存の構成オプションに優先する。 (構成オプションの詳細については、ユーザインターフェイスに関するCOBOLシステムのマニュアルを参照。)
固定方式の数字編集画面項目にAUTO句を指定した場合、整数部分の桁位置がすべて入力されたときに、小数点位置が自動的に飛び越される。固定方式を選択することは、構成オプションである。
(構成オプションの詳細については、ユーザインターフェイスに関するCOBOLシステムのマニュアルを参照。) 
9.3 BACKGROUND-COLOR(背景色)句
BACKGROUND-COLOR(背景色)句は、画面項目の背景色を指定する。 
一般形式 
構文規則 
BACKGROUND-COLORとBACKGROUND-COLOURは同義であり、どちらを書いてもよい。
BACKGROUND-COLOR句は、任意の画面項目に指定できる。
BACKGROUND-COLOR句を集団レベルに指定すると、その集団の下位に属するすべての基本項目に適用される。
整数-1の値は、0から7までとする。
一般規則 
BACKGROUND-COLOR句は、カラー画面に対してだけ適用できる。 
整数-1または一意名-1は、画面項目の背景色を指定する。使用できる色と対応する値は下記のとおり。 
0
黒
8
灰色
1
青
9
明るい青
2
緑
10
明るい緑
3
藍
11
明るい藍
4
赤
12
明るい赤
5
赤紫
13
明るい赤紫
6
茶または黄
14
黄
7
白
15
高輝度の白
カラー画面では、8から15の値の場合、整数0から7を指定してBLINK句を指定することと同じである。モノクロ画面では、これは単にBLINK句を指定することと同じである。 
BACKGROUND-COLOR句を指定しないと、背景色は省略時解釈の黒となる。 
画面項目にBLANK SCREEN句とBACKGROUND-COLOR句を共に指定するか、またはBLANK SCREEN句を指定した画面項目がBACKGROUND-COLOR句を指定した画面項目の下位に属する場合、DISPLAY文を用いてその画面項目を表示すると、指定した色が省略時解釈の背景色となる。この省略時解釈の背景色は、別の指定をするまで有効である。別の指定とは、上記と同じ組合わせの指定内容をもつ別の画面項目を表示するか(同じDISPLAY文の中でも別のDISPLAY文の中でもよい)、または上記の2つの句を含む形式 
3 のDISPLAY文を実行することである。 
一意名-1は、符号の付かない0から7までの整数とする。8以上の値を指定すると、その値を8で割った余りが指定値としてとられる。 
一意名-1は、OCCURS句の左辺には指定できない。 
整数-1または一意名-1の値に6を指定したときに、茶色と黄色のどちらが表示されるかは、端末ハードウェアによる。 
9.4 BELL(警報)句
BELL(警報)句は、この句が含まれる画面項目が表示されるたびに、警報音を鳴らす。 
一般形式 
構文規則 
BELL句は、基本項目に対してだけ指定できる。
BELLとBEEPは同義であり、どちらを指定してもよい。 
一般規則 
BELL句は、この句が指定されている画面項目が受け取られるかまたは表示されるたびに、警報音を鳴らす。 
この句が含まれる画面項目を受け取ったときに警報音が鳴るようにするためには、形式 5 のACCEPT文の中にBELL句を指定する。画面記述項の中にBELL句を指定して形式 
4 のACCEPT文を実行しても、警報音は鳴らない。
9.5 BLANK(空白)句
BLANK(空白)句は、画面項目が表示される前に画面の行または画面全体を空白にする。 
一般形式 
指令
予約語リストにフラグを付けたり修正したりするコンパイラ指令に加えて、下記の指令によって、この項に記述した構文または意味が影響を受ける可能性がある。
OLDBLANKLINE - BLANK LINE句の効果はERASE EOLと同じであることを指定する。つまり、カーソルの右にある文字はすべて削除される。
構文規則 
BLANK SCREEN句は、任意の画面記述項に指定できる。
BLANK LINE句は、基本項目に対してだけ指定できる。
一般規則 
BLANK SCREEN句は、どこに記述されていても、画面データ項目が表示される前に実行される。この句が実行されると画面全体が空白にされ、カーソルは行1、カラム1の位置に移動される。
BLANK LINE句を指定すると、記述がある画面データ項目の行がカラム1から行の終端まで空白にされる。カーソルは、BLANK LINE句が実行された位置と同じところにある。
BLANK句もERASE句も指定しないと、画面データ項目を表示したときに、その項目の部分だけが画面上で変更される。それ以外の画面部分は、元のまま変わらない。
BLANK SCREEN句が実行されると、画面の前景色と背景色は省略時解釈の状態に戻される。画面項目にFOREGROUND-COLORまたはBACKGROUND-COLORを指定した場合の効果については、それぞれの節を参照。
ACCEPT文の中では、BLANK句は無視される。 
BLANK SCREEN句を指定した画面には、色に関する句(FOREGROUND-COLORとBACKGROUND-COLOR)だけを使用すべきである。他の属性は受け付けられるが、無視される。 
9.6 BLANK WHEN ZERO(ゼロならば空白)句 - 画面節中
BLANK WHEN ZERO(ゼロならば空白)句は、画面項目の値がゼロのとき表示上は空白にする。 
一般形式 
構文規則 
BLANK WHEN ZERO句は項類が数字または数字編集の入力項目と出力項目と更新項目にだけ指定できる。 
一般規則 
BLANK WHEN ZERO句は、画面項目の値がゼロのとき表示上は空白にする。
カーソルが項目内にあるときには、この句は効力を発揮しない。つまり、現在の入力項目に関しては、たとえゼロであってもその内容は常に表示される。
9.7  BLINK(点滅)句
BLINK(点滅)句は、画面上に表示される項目を点滅させる。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
一般形式 
構文規則 
BLINK句は、どのような画面項目にも指定できる。
BLINK句を集団レベルに指定すると、その集団の下位に属するすべての基本項目に適用される。
一般規則 
BLINK句は、画面上に表示される項目を点滅させる。 
9.8 COLUMN(カラム)句
COLUMN(カラム)句は、画面項目を画面上に表示する始点となるカラムを指定する。  
一般形式 
構文規則 
一意名-1は符号の付かない整数であり、その値は1以上255以下とする。
整数-1は符号なしで、その値は1以上255以下とする。
PLUSと"+" は同義であり、どちらを書いてもよい。
NUMBERの指定を省略すると、省略時解釈として値"+1"がとられる。
LINE句を指定してCOLUMN句を指定しないと、カラム1が想定される。
COLUMN句は、任意の基本項目に指定できる。
COLは、COLUMNの省略形である。
COLUMN句をSCREEN SECTION集団項目の階層中のどこかに指定する時、以下の句のうち、最低1つを同じ集団の定義に指定しなければならない。
BEEP, BELL, BLANK LINE, BLANK SCREEN, ERASE EOL, ERASE EOS, FROM,
TO, USING, VALUE.  
一般規則 
COLUMN句は、ACCEPT処理またはDISPLAY処理を行うときの、画面上に画面項目を表示するカラムを指定する。
COLUMN句に一意名または整数を指定し、PLUS, 
"+" または"-", 
のどれも指定しない場合、その値は絶対カラム番号を表わす。01レベルはそれぞれ、画面レコードを表わす。AT指定は、表示画面の先頭に関連付けて、画面レコードの先頭位置を指定する。ACCEPT文またはDISPLAY文にAT指定を指定しなかった場合、画面の最初のカラムがカラム1となる。
COLUMN句にPLUS,
"+" または"-"  
のどれかを指定すると、一意名または整数に指定した値は、先行する画面項目の末尾からの相対カラム番号を表わす。この場合、先行する項目が実際に画面に表示されるか否かは問わない。先行する画面項目の末尾は、その項目の実行時の有効な長さによって決まる。その長さは、PICTURE句、VALUE句、SIZE句に基づいて算出される。01レベルの項目が出てくると、カラム番号は1に戻る。 
01レベルでない項目の画面記述にLINE句もCOLUMN句も含めないと、COLUMN+1が指定されたものとみなされる。つまり、その項目は前の項目の直後に続くことになる。
画面の範囲から外れるカラム位置を指定すると、次(または前)の行の頭に繰り越してカラム位置が数えられる。
9.9 CONTROL(制御)句
CONTROL(制御)句は、画面項目に関する属性を実行時に定義できるようにする。 
一般形式 
構文規則 
この句は、どの画面項目にも指定できる。
この句を集団レベルに指定すると、その集団の下位に属するすべての基本項目に適用される。
一意名-1は、英数字データ項目とする。この項目がとる最大の大きさは、PIC X(65535)である。
一意名-1に指定した属性は、静的に定義した属性に優先する。
CONTROL句を入れ子にすることはできない。
PROTECT属性は、基本画面記述項にだけ指定できる。 
一般規則 
この項目を明示的または暗黙的に参照するACCEPT文またはDISPLAY文が実行される時、一意名-1によって参照されるデータ項目の内容は、以下に示す画面属性のサブセットを確認しなければならない。これらはどこにでも指定できる。
一意名-1の内容が空白であると、項目をACCEPTまたはDISPLAYする際に、静的に定義されている属性が使用される。
CONTROL 一意名-1 内に指定できる各属性の意味は、この参照の以下の部分に定義する。
DATA DIVISION 内の各 SCREEN SECTION句
AUTO-SKIP/AUTO 
BACKGROUND-COLOR/BACKGROUND-COLOUR 
BELL/BEEP 
BLANK LINE/SCREEN 
BLINK 
FOREGROUND-COLOR/FOREGROUND-COLOUR 
FULL/LENGTH-CHECK 
GRID 
HIGHLIGHT 
JUSTIFY/JUST 
LEFTLINE 
LOWLIGHT 
OVERLINE 
PROMPT 
REQUIRED/EMPTY-CHECK 
REVERSE-VIDEO 
SECURE/NO-ECH0 
UNDERLINE 
ZERO-FILL 
PROCEDURE DIVISION 内のACCEPT 文一般規則
RIGHT-JUSTIFY 
TRAILING-SIGN 
TRAILING 
このCONTROL句内
PROTECT 
PROTECT属性は、ACCEPT文への入力を妨げることを指定する。 
9.10 ERASE(消去)句
ERASE(消去)句は、カーソルが位置している以降の行または画面の一部を空白にする。 
一般形式 
構文規則 
ERASE句は、基本項目に対してだけ指定できる。 
一般規則 
ERASE EOLを指定すると、その画面データ項目の座標位置(行とカラム)以降その行の末尾までが空白にされる。
ERASE EOSを指定すると、その画面データ項目の座標位置(行とカラム)以降その画面の末尾までが空白にされる。
BLANK句もERASE句も指定しないと、画面データ項目を表示する際に、その項目の部分だけが変更される。
ACCEPT処理の際には、この句は無視される。
9.11 FOREGROUND-COLOR(前景色)句
FOREGROUND-COLOR(前景色)句は、画面項目の前景色を指定する。 
一般形式 
構文規則 
OREGROUND-COLORとFOREGROUND-COLOURは同義であり、どちらを書いてもよい。
FOREGROUND-COLOR句はどの画面項目にも指定できる。
FOREGROUND-COLOR句を集団レベルに指定すると、その集団の下位に属するすべての基本項目に適用される。
整数-1の値は、0から15までとする。
一般規則 
FOREGROUND-COLOR句はカラー画面に対してだけ適用できる。 
整数-1または一意名-1は画面項目の前景色を指定する。使用できる色と対応する値は下記のとおり。 
0
黒
8
灰色
1
青
9
明るい青
2
緑
10
明るい緑
3
藍
11
明るい藍
4
赤
12
明るい赤
5
赤紫
13
明るい赤紫
6
茶または黄
14
黄
7
白
15
高輝度の白
カラー画面では、8から15の値の場合、整数0から7を指定してHIGHLIGHT句を指定することと同じである。モノクロ画面では、これは単にHIGHLIGHT句を指定することと同じである。
この句を指定しないと、前景色は省略時解釈の白となる。 
画面項目にBLANK SCREEN句とFOREGROUND-COLOR句を共に指定するか、またはBLANK SCREEN句を指定した画面項目がFOREGROUND-COLOR句を指定した画面項目の下位に属する場合、その画面項目をDISPLAY文を用いて表示すると、指定した色が省略時解釈の前景色となる。この省略時解釈の前景色は、別の指定をするまで有効である。別の指定とは、上記と同じ組合わせの指定内容をもつ別の画面項目を表示するか(同じDISPLAY文の中でも別のDISPLAY文の中でもよい)、または上記の2つの句を含む形式 
3 のDISPLAY文を実行することである。 
HIGHLIGHT句も同時に指定すると、前景色の輝きと明るさが増大される。たとえば、ハードウェアによっては、黒が灰色に変えられ茶色が黄色に変えられることがある。しかし、これはBLANK 
SCREEN句には適用されない。 
一意名-1は符号の付かない0から7までの整数とする。8以上の値を指定すると、その値を8で割った余りが指定値としてとられる。 
一意名-1は、OCCURS句の左辺には指定できない。 
整数-1または一意名-1の値に6を指定したときに、茶色と黄色のどちらが表示されるかは、端末ハードウェアによる。
9.12 FROM(から)句
FROM句は表示するデータの源を示す。 
一般形式 
構文規則 
FROM句をTO句と一緒に使用することは、対応して同じ一意名を指定したUSING句を使用することに等しい。FROM句をUSING句と一緒に使用してはならない。
FROM句内の一意名を修飾してもよい。画面項目にOCCURS句が適用されていない場合、その一意名は添字付けまたは指標付けされていてもよい。FROM句を定義できる場所はプログラムのファイル節、作業場所節、
局所記憶節、
連絡節のいずれかだけである。
一般規則 
FROM句が記述されている画面項目に対してDISPLAY文を実行すると、対応するデータ項目から画面項目にデータが転記され、それから画面項目が画面上に表示される。 
9.13 FULL(全桁)句
FULL(全桁)句は、画面項目をまったく空白のままにしておくか、全桁にデータを入力するかを指定する。 
一般形式 
構文規則 
FULL句は、入力項目と更新項目と集団項目に対してだけ有効である。
FULL句を集団レベルに指定すると、その集団の下位に属するすべての基本項目に適用される。
FULLとLENGTH-CHECKは同義であり、どちらを指定してもよい。 
一般規則 
FULL句が効力を発揮するのは、カーソルを画面項目の中に位置付けたうえでデータを受け取るACCEPT文が実行されるときである。この句の要件が満たされるまで、終了キーを押しても受け付けられない。固定方式の数字編集項目の場合、カーソルは小数点の位置に位置付け直される。
画面項目の項類が英数字の場合、この句の要件が満たされるのは、次の2つの場合である。1つは、その項目全体に空白またはプロンプト文字が入れられた場合。もう1つは、その項目の最初の文字位置と最後の文字位置に、空白でもプロンプト文字でもない文字が入れられた場合。
画面項目の項類が自由方式の数字または数字編集の場合、この句の要件が満たされるのは、次の2つの場合である。1つは、その項目の値が結果的にゼロになる場合。もう1つは、その項目の最初の文字位置と最後の文字位置に、空白でもプロンプト文字でもない数字が入れられた場合。
画面項目の項類が固定方式の数字編集の場合、この句の要件が満たされるのは、次の2つの場合である。1つは、その項目の値がゼロである場合。もう1つは、その項目内でゼロ抑制が起こらなかった場合。
固定方式の数字項目またはゼロ抑制が指定されていない数字編集項目に対しては、FULL句は効力を発揮しない。
更新項目に関しては、元のデータと入力されるデータの両方がFULL句の要件を満たす要素となる。
ACCEPT処理を終了させるためにファンクション・キーが使用された場合は、FULL句は効力を発揮しない。(構成オプションの詳細については、ユーザインターフェイスに関するCOBOLシステムのマニュアルを参照。)
FULL句の要件が満たされない場合、エラー・メッセージを画面上に表示させることができる。 (構成オプションの詳細については、ユーザインターフェイスに関するCOBOLシステムのマニュアルを参照。) 
9.14 GRID(桁取り)句
GRID(桁取り)句は、画面に表示される画面項目の各文字の左側に、縦線を付ける。各縦線は、文字位置の範囲内に収まる。 
一般形式 
構文規則 
GRID句は、どのような画面項目にも指定できる。
GRID句を集団レベルに指定すると、その集団の下位に属するすべての基本項目に適用される。
文字の左側に縦線を引く機能のないシステム上で指定しても、この句は効力を発揮しない。
一般規則 
GRID句は、画面に表示される画面項目の各文字の左側に、縦線を付ける。各縦線は、文字位置の範囲内に収まる。 
9.15 HIGHLIGHT(強輝度)句
HIGHLIGHT(強輝度)句は、画面上に表示される画面項目の輝度を強くするよう指定する。 
一般形式 
構文規則 
HIGHLIGHT句は、入力項目、出力項目、更新項目、定数項目に対して有効である。
HIGHLIGHT句を集団レベルに指定すると、その集団の下位に属するすべての基本項目に適用される。
一般規則 
FOREGROUND-COLOR句とあわせてHIGHLIGHT句を指定すると、前景色の輝度と明るさが増大される。たとえば、ハードウエアの中には、黒が灰色に変えられ茶色が黄色に変えられるものがある。HIGHLIGHT句は、BLANK
SCREEN句には適用されない。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
9.16 JUSTIFIED(桁寄せ)句 - 画面節中
JUSTIFIED(桁寄せ)句は、画面項目にデータを転記するか入力するときの、非標準的なデータの位置付けを指定する。 
一般形式 
構文規則 
JUSTは、JUSTIFIEDの省略形である。
JUSTIFIED句は、入力項目、出力項目、更新項目に対してだけ指定できる。
一般規則 
JUSTIFIED句を指定した画面項目が出力項目または更新項目であると、送出し側項目から画面項目にデータが転記されたときに、MOVE(転記)に関する通常の規則に従って桁寄せが行われる。
JUSTIFIED句を指定した画面項目が入力項目または更新項目であると、画面項目へのデータの入力が済んだときに、残っているプロンプト文字の数だけ入力されたデータが右にずらされ、空いた左側に空白が埋められる。この操作は、受取り側データ項目にデータが転記される前に行われる。データが入力されなかったときには、この処理は行われない。
画面項目にSECURE(機密)句が指定してある場合の処理は、SECURE句が指定しない場合の処理と同じである。ただし、その処理結果を画面上で見ることはできない。
9.17 LEFTLINE(左端位置)句
LEFTLINE(左端位置)句は、画面に表示される画面項目の左端の文字の左側に、縦線を付ける。その縦線は、文字位置の範囲内に収まる。 
一般形式 
構文規則 
LEFTLINE句は、どのような画面項目にも指定できる。
LEFTLINE句を集団レベルに指定すると、その集団の下位に属するすべての基本項目に適用される。
文字の左側に縦線を引く機能のないシステム上で指定しても、この句は効力を発揮しない。
一般規則 
LEFTLINE句は、画面に表示される画面項目の左端の文字の左側に、縦線を付ける。その縦線は、文字位置の範囲内に収まる。 
9.18 LINE(行)句
LINE(行)句は、画面項目を画面上に表示する始点となる行を指定する。 
一般形式 
構文規則 
一意名-1は、符号の付かない整数であり、その値は1以上255以下とする。
整数-1は符号なしで、その値は1以上255以下とする。
PLUSと"+" は同義であり、どちらを書いてもよい。
NUMBERの指定を省略すると、省略時解釈として値 PLUS 1がとられる。
LINE句の指定を省略すると、現在の行が想定される。
LINE句は、任意の基本項目に指定できる。
LINE句をSCREEN SECTION集団項目の階層中のどこかに指定する時、以下の句のうち、最低1つを同じ集団の定義に指定しなければならない。 
BEEP, BELL, BLANK LINE, BLANK SCREEN, ERASE EOL, ERASE EOS, FROM,
TO, USING, VALUE. 
一般規則 
LINE句は、ACCEPT処理またはDISPLAY処理を行うときの、画面上に画面項目を表示する行を指定する。
LINE句に一意名または整数を指定し、PLUS、
"+"または"-" 
のどれかを指定しないと、その値は絶対行番号を表わす。01レベルはそれぞれ、画面レコードを表わす。AT指定は、表示画面の先頭に関連付けて、画面レコードの先頭位置を指定する。ACCEPT文またはDISPLAY文にAT指定を指定しなかった場合、画面の最初の行が絶対行1となる。 
LINE句に PLUS、
"+"または"-" 
のどれかを指定すると、一意名または整数に指定した値は先行する画面項目の末尾からの相対行番号を表わす。この場合、先行する項目が実際に画面に表示されるか否かは問わない。先行する画面項目の末尾は、その項目の実行時の有効な長さによって決まる。その長さは、PICTURE句、VALUE句、SIZE句に基づいて算出される。01レベルの項目が出てくると、行番号は1に戻る。 
01レベルでない項目の画面記述にLINE句もCOLUMN句も含めないと、COLUMN PLUS 1 が指定されたものとみなされる。つまり、その項目は前の項目の直後に続くことになる。
画面の範囲から外れる行位置を指定すると、ACCEPTまたはDISPLAYにおいて切捨てが発生する。 
LINE句にPLUS、 
"+" または"-",  
のどれかを指定し、画面節の項目に関連するACCEPT文またはDISPLAY文でAT LINE NUMBER句を指定した場合、この項目が示す行番号は、2つの数の和または差である。 
9.19 LOWLIGHT(弱輝度)句
LOWLIGHT(弱輝度)句は、画面上に表示される画面項目の輝度を弱くするよう指定する。 
一般形式 
構文規則 
LOWLIGHT句を集団項目レベルで指定すると、その下の基本項目すべてに対して適用される。 
一般規則 
LOWLIGHT句は、画面上に表示される画面項目の輝度を弱くするよう指定する。 
9.20 OCCURS(反復)句 - 画面節中
OCCURS(反復)句は、繰り返される同形の画面項目を個々に記述する手間を省き、添字または指標を使用するのに必要な情報を提供する。 
一般形式 
構文規則 
OCCURS句は、01レベルの項目には指定できない。
項目にUSING句またはTO句を適用する場合、またはある項目が項目に従属する場合、送出し側項目にも同じ出現回数を指定したOCCURS句を使用するか、またはOCCURS句を使用しないようにする。これらのOCCURS句にDEPENDING句を含めてはならない。
項目にFROM句 を適用する場合、またはある項目が項目に従属する場合、送出し側項目にも同じ出現回数を指定したOCCURS句を使用するか、またはOCCURS句を使用しないようにする。これらのOCCURS句にDEPENDING句を含めてはならない。
一般規則 
OCCURS句の左辺にある画面記述では、LINE句とCOLUMN句は個々の表要素に使用される。したがって、LINE句とCOLUMN句には相対位置を指定する。これは、この2つの句に絶対位置を指定すると、すべての表要素が同じ位置に表示されてしまうためである。
OCCURS句を指定した画面項目が出力項目であり送出し側項目にOCCURS句が指定されていないと、DISPLAY処理において送出し側の項目が、画面項目のすべての反復要素に転記される。全面的に添字付けされた基本項目は、OCCURS句が使われていないものとみなされる。
OCCURS句を指定した画面項目が更新項目であるか、または送出し側項目にOCCURS句が指定されている出力項目であると、DISPLAY処理において送出し側の項目の内容が画面項目の対応する要素に転記される。
OCCURS句を指定した画面項目が更新項目または入力項目であると、ACCEPT処理において画面項目各要素に入力されたデータが、受取り側項目の対応する要素に転記される。
9.21 OVERLINE(上線)句
OVERLINE(上線)句は、画面に表示される画面項目のすべての文字の上側に、水平線を引く。その上線は、文字位置の範囲内に収まる。 
一般形式 
構文規則 
OVERLINE句は、どのような画面項目にも指定できる。
OVERLINE句を集団レベルに指定すると、その集団の下位に属するすべての基本項目に適用される。
文字の上側に水平線を引く機能のないシステム上で指定しても、この句は効力を発揮しない。
一般規則 
OVERLINE句は、画面に表示される画面項目のすべての文字の上側に、水平線を引く。その上線は、文字位置の範囲内に収まる。 
9.22  PICTURE(形式)句 - 画面節中
PICTURE(形式)句は、画面項目の長さ、一般的性質、編集要件を記述する。 
一般形式 
構文規則 
PICTURE句には、任意の標準編集文字を含めることができる。
各PICTURE句には、FROM指定、TO指定またはUSING指定のどれかを含めなければならない。USING 指定は、FROM指定またはTO指定と共に使用してはならない。
PICは、PICTUREの省略形である。
PICTURE句は、基本項目だけに指定できる。
PICTURE句は、FROM, TO, USINGの各指定の中で参照するデータ項目のPICTURE句と必ずしも同じである必要はない。しかし、暗黙のMOVE(転記)が正しく行えるようでなければならない。
一般規則 
文字列は、画面項目の長さと項類を表わす。これは、データ項目用のPICTURE句の中の文字列と同じように使用する。
数字画面項目は、すべて数字編集項目とするか、PICTURE句内に9だけを含めるようにすることが望ましい。対応するデータ項目と画面項目との間でデータをやり取りする際に、必要に応じて編集または編集の解除が行われる。
9.23 PROMPT(プロンプト)句 
PROMPT(プロンプト)句は、ACCEPT処理を行う際に、画面上の画面項目の空き文字位置にプロンプトを表示するようにする。このプロンプトは、キー入力されるデータをシステムが受け取って、画面項目に入れられる状態にあることを示す。 
一般形式 
構文規則 
PROMPT句は、入力項目と更新項目と集団項目にだけ指定できる。
PROMPT句を集団レベルに指定すると、その集団の下位に属するすべての基本項目に適用される。
一意名-1は、1文字の英字または英数字のデータ項目とする。
一意名-1は、OCCURS句の左辺には指定できない。
定数-1は、1文字の英数字定数または表意定数とする。
一般規則 
画面節内の項目には、
PROMPT句は常にオンである。
PROMPT句が指定されていない場合、またはCHARACTER指定なしで指定されている場合、省略時解釈のプロンプト文字が使用される。
ACCEPT文で参照される他の項目には、
ACCEPT文にPROMPT句が指定されている場合にだけ、 PROMPTはオンとなる。
PROMPT句がCHARACTER指定なしで指定されている場合、省略時解釈のプロンプト文字が使用される。
CHARACTER句を指定すると、該当する画面項目の空き文字位置にプロンプトが表示されるようになる。プロンプト文字は構成オプションに優先する。(構成オプションの詳細については、ユーザインターフェイスに関するCOBOLシステムのマニュアルを参照。)
PROMPT句を指定すると、英数字または自由方式の数字の画面項目の中の後部の空白に代わって、プロンプト文字が表示される。また、固定方式の数字編集画面項目の先行部分の抑制された文字位置に、プロンプト文字が表示される。
固定方式の非編集数字画面項目、またはゼロ抑制が指定されていない数字編集画面項目に対しては、PROMPT句は効力を発揮しない。
あるフィールドでPROMPT句がオンの場合、プロンプト文字が示すフィールドの終端までカーソルを移動することはできない。これを行おうとすると、カーソルは次のフィールドに移動する。
あるフィールドでPROMPT句がオンでない場合、カーソルはフィールドの終わりの後にある空白に移動することができる。
SECURE(機密)句を指定すると、この句は効力を発揮しない。
画面項目中に表示されているプロンプト文字は、ACCEPT処理が終わると空白に置き換えられる。
9.24 REQUIRED(必須)句
REQUIRED(必須)句は、画面項目を必ず入力しなければならないことを指定する。 
一般形式 
構文規則 
REQUIRED句は、入力項目と更新項目と集団項目にだけ指定できる。
REQUIRED句を集団レベルに指定すると、その集団の下位に属するすべての基本項目に適用される。 
REQUIREDとEMPTY-CHECKは同義語であり、どちらを書いてもよい。 
一般規則 
REQUIRED句が効力を発揮するのは、ACCEPT文が実行されるときである。このときに、画面項目内にカーソルが位置付けられて、入力されたデータを受け取ることが可能となる。REQUIRED句を指定しておくと、終了キーを押しても入力を終了できず、カーソルは項目の先頭に位置付け直されるようになる。
この句の要件を満たすためには、英数字の画面項目の場合は、空白でもプロンプト文字でもない文字を少なくとも1つ入力しなければならない。なお、数字の画面項目の場合は、値がゼロであってはならない。
更新項目に関しては、元のデータと入力されたデータの両方によって、この句の要件が満たされるか否かが決まる。
ACCEPT処理を終了させるためにファンクション・キーを使用した場合は、REQUIRED句は効力を発揮しない。(構成オプションの詳細については、ユーザインターフェイスに関するCOBOLシステムのマニュアルを参照。)
REQUIRED句の要件が満たされない場合、エラー・メッセージを画面上に表示させることができる。(構成オプションの詳細については、ユーザインターフェイスに関するCOBOLシステムのマニュアルを参照。)
9.25 REVERSE-VIDEO(反転画面)句
REVERSE-VIDEO(反転画面)句は、画面項目を反転して表示する。 
一般形式 
構文規則 
REVERSE-VIDEO句は、どのような画面項目にも指定できる。
REVERSE-VIDEO句を集団レベルに指定すると、その集団の下位に属するすべての基本項目に適用される。
一般規則 
REVERSE-VIDEO句は、画面項目を反転して表示する。 
9.26 SECURE(機密)句
SECURE(機密)句は、入力されたデータを画面に表示しないようにする。 
一般形式 
構文規則 
SECURE句は、入力項目と更新項目に対してだけ指定できる。
SECURE句を集団レベルに指定すると、その集団の下位に属するすべての基本項目に適用される。
SECUREとNO-ECHOは同義語であり、どちらを書いてもよい。
一般規則 
入力項目にSECURE句を指定すると、画面項目内には空白とカーソルだけが現れる。更新項目にSECURE句を指定すると、元の内容は表示されるが、それを変更することはできない。 
9.27  SIGN(符号)句 - 画面節中
SIGN(符号)句は、演算符号の位置と表現形式を指定する。 
一般形式 
構文規則 
SIGN句は、PICTURE文字列に記号文字"S" が含まれる入力項目と出力項目と更新項目にだけ指定できる。
SIGN句は基本項目に対してだけ指定できる。
一般規則 
画面記述中にSIGN句を指定するときは、SEPARATE句も含めることが望ましい。SEPARATE句を指定しないと、PICTURE文字列中の"S" によって表わされる符号は数字と重なって表示される。 
9.28 SIZE(大きさ)句
SIZE(大きさ)句は、画面項目の現在の大きさを指定する。 
一般形式 
構文規則 
SIZE句は、基本画面項目に対してだけ指定できる。
一意名-1は、符号の付かない整数とする。また、一意名-1はOCCURS句の左辺にあってはならない。
整数-1は、符号なしとする。
一般規則 
指定した大きさがゼロのときは、SIZE句は効力を発揮しない。
数字または数字編集の画面項目に、値がゼロでないSIZE句を指定すると、画面項目は自由方式のように扱われる。この指定は、構成オプションの設定に優先する。
関連するPICTURE句またはVALUE句によって暗黙的に示されるよりも値が小さいSIZE句を指定すると、画面上では画面項目の左側の部分だけが表示される。ACCEPT文にJUSTIFIED句がある場合、画面項目の右側の部分だけが表示される。その画面項目の残りの部分は、状況に応じて、空白またはゼロとみなされる。
出力項目または定数項目に、関連するPICTURE句またはVALUE句によって暗黙的に示されるよりも値が大きいSIZE句を指定すると、画面項目の右側の部分に空白が埋め込まれる。
一意名-1の値を変更すると、実行時に画面項目の有効な大きさが変えられる。このため、画面節内でその項目の後ろに記述されている項目の画面上の位置が、変わることがある。(前述のLINE(行)句節およびCOLUMN(カラム)句節を参照。)
9.29  TO(へ)句
TO句は受け取るデータの宛先を指定する。  
一般形式 
構文規則 
TO句をFROM句と一緒に使用することは、対応して同じ一意名を指定したUSING句を使用することに等しい。TO句をUSING句と一緒に使用してはならない。
TO句内の一意名を修飾してもよい。画面項目にOCCURS句が適用されていない場合、その一意名は添字付けまたは指標付けされていてもよい。FROM句を定義できる場所はプログラムのファイル節、作業場所節、
局所記憶節、
連絡節のいずれかだけである。
一般規則 
TO句が記述されている画面項目に対してACCEPT文を実行すると、操作員が入力したデータが画面項目に受け取られ、それからそのデータが対応するデータ項目に転記される。 
9.30 UNDERLINE(下線)句
UNDERLINE(下線)句は、画面に表示される画面項目に下線を引く。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
一般形式 
構文規則 
UNDERLINE句は、どのような画面項目にも指定できる。
UNDERLINE句を集団レベルに指定すると、その集団の下位に属するすべての基本項目に適用される。
一般規則 
UNDERLINE(下線)句は、画面に表示される画面項目に下線を引く。
下線を引く機能のないシステム上で指定しても、この句は効力を発揮しない。
9.31  USAGE(用途)句 - 画面節中
USAGE(用途)句は計算機の記憶領域内のデータ項目の形式を指定する。 
一般形式 
構文規則 
画面節のデータ項目の用途は、明示的または暗黙的に、USAGE DISPLAYまたはUSAGE DISPLAY-1と定義しなければならない。 
9.32 USING(使用)句
USING句は表示するデータの源を指定する。  
一般形式 
構文規則 
USING句は、対応する一意名に同じものを指定した、TO句とFROM句に等しい。UNING句をFROM句またはTO句と一緒に使用してはならない。
USING句内の一意名を修飾してもよい。画面項目にOCCURS句が適用されていない場合、その一意名は添字付けまたは指標付けされていてもよい。FROM句を定義できる場所はプログラムのファイル節、作業場所節、局所記憶節、連絡節のいずれかだけである。
一般規則 
USING句が記述されている画面項目に対してDISPLAY文を実行すると、対応するデータ項目から画面項目にデータが転記され、それから画面項目が画面上に表示される。
USING句が記述されている画面項目に対してACCEPT文を実行すると、操作員が入力したデータが画面項目に受け取られ、それからそのデータが対応するデータ項目に転記される。
9.33  VALUE(値)句 - 画面節中
VALUE(値)句は、画面に表示する定数の情報を指定する。 
一般形式 
構文規則 
VALUE句に指定する定数は、文字定数とする。表意定数は指定できない。
VALUE句は、PICTURE句を伴わない基本項目に対してだけ指定できる。
一般規則 
VALUE(値)句は、画面に表示する定数の情報を指定する。  
9.34 ZERO-FILL(ゼロ補填)句
ZERO-FILL(ゼロ補填)句は、後部のプロンプト文字を空白ではなく、ゼロで置き換えることを指定する。 
一般形式 
構文規則 
ZERO-FILL句は、英字または英数字の入力項目と更新項目に対してだけ指定できる。 
一般規則 
ZERO-FILL句は、データが画面項目から受取り側項目に転記されるときに、後部のプロンプト文字を空白ではなく、ゼロで置き換えさせる。これは画面項目にデータが入力されたときにだけ行われる。
ZERO-FILL句を指定した画面項目の受取り側項目に、JUSTIFIED句が指定されていると、桁寄せによって空いた先行部分にゼロが埋められる。
Copyright &copy; 2002 Micro
Focus International Limited. All rights reserved.
本書、ならびに使用されている固有の商標および商品名は国際法によって保護されています。
データ部 - ファイルおよびデータ記述 
手続き部
データ部 - 画面節
