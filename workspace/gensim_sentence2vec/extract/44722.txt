
4. Web ページ数の推定方法
4.1 対象とするWebページ
Webページの統計的推定に関する本研究では、全文検索システムのクエリーに使用できるような文字列を最低1個は含むテキストデータを標本Webページとし、次のようなWebページは除外する:
FirewallやWebServerなどのアクセス制限の対象になっている。
robot.txtを使って、webロボットが収集しない設定になっている。
これらのWebページ集合を、Lawrenceらはpublicly indexable webと呼んでいる［1］。以降、このURL集合をUとし、N≡｜U｜をWebページ数と呼ぶ。
4.2 用語の定義
いま、次の集合を考える:
S : 検索エンジンの集合
Q : クエリーの集合
検索エンジンの集合Sとは、goo、lycosなど存在するすべての検索エンジンで有限集合である。クエリーの集合Qとは、これらの検索エンジンに与えることのできる検索文字列の集まりである。語を任意個数並べてよいと考えると、事実上Qは無限集合である。
これらの集合の要素s∈S,q∈Qを使って、次の2種類のURLの集合を定義する:
つまり、Usは検索エンジンsによって検索可能なURL集合である。
4.3 確率の定義
全URL集合Uの任意の部分集合に対して確率P(X)を次のように定義する:
このとき、事象Usである確率
と検索エンジンsが持つURL集合の大きさ｜Us｜が分かれば、Webページ数N=｜U｜は
で求めることができる。
4.4 確率の推定方法
2つの事象A, Bが独立であれば、
が成り立つ。2つの検索エンジンaとbのWebクローラーが互いに独立してWebページを収集していると仮定すると、UaとUbは独立した事象と見なせるので、次が成立する:
このとき、P(Ua)は｜Ua∩Ub｜/｜Ub｜から求めることができる。しかし、検索エンジンは収集ページ数｜Ua｜や｜Ub｜を公開しても、その内容UaやUbを通常公開しない。そのため、実際にUa∩Ubを調べることは難しい。そこで、次のように工夫してP(Ua)の近似値を求めることにする。
クエリーの有限部分集合Q'⊂Qを選び出して
を定義する。U'aは、有限個のクエリーを用意すれば、実際に検索エンジンを使って観察することができる。また、Q'がQからランダムに選ばれるならば、近似的に次の関係がなりたつと期待できる。
このとき、P(Ua)は次のように推定できる:
これを式(1)に使ってNを得る。また、P(Ub)からも、同様にNを得ることができる。そこで、2つのNの平均を、検索エンジンaとbから得られるNの推定値とする。
4.5 区間設定
Nページの中から非復元的にランダムにn=｜U'b｜ページ取り出したとき、nのうちのXページがUaに属するXの確率分布は超幾何分布となる［16,p.109-111］。n≪Nの場合、1ページを取り出す結果は次の1ページを取り出す結果にほとんど影響しない。したがって、p=P(Ua)とおくと、Xの確率分布は2項分布B(n, p)となる。このとき、期待値E(X)と分散σ(X)は、次のようになる。
nが大きいと、中心極限定理により、f(x)は、正規分布に近付づく［16,p.170］。
をpの観測値とすると、pの95%信頼区間は近似的に
で求めることができる。
検索エンジンを利用した日本語Webページ数の統計的推定の研究
