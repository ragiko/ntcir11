 日本は大規模な災害を繰り返し経験しながらそのたびに見事な復興を遂げてきた稀有な国です。そのためかIT-BCPについて非常に関心が高い企業が多いと感じます。データバックアップはIT-BCPの基礎として重要なことは今さら言うまでもないでしょう。おそらく多くの企業のIT担当者は、本当にIT-BCPを実施するなら、遠隔地に設けた複数拠点でリアルタイムにサイトのレプリケーションを行い、いつ被災しても健全な拠点のシステムに即座に業務処理を切り替えられる体制が必要だとお考えのことと思います。しかしそれには莫大な投資が必要です。それがネックになり、対策が検討段階にとどまっているケースも多いようです。 だからといって手をこまねいているわけにもいきません。できるだけ早期の業務再開が可能な仕組みを投資可能な範囲で構築する必要があります。
前回の記事ではクライアントPCの統合バックアップについて紹介しましたが、同じ方法でサーバーのバックアップ運用も可能です。この仕組みを利用すると、低予算で遠隔地への合理的なバックアップが実現できます。 当社製品のarcserve UDP(以下、UDPと表記)の例で説明しましょう。UDPは、従来のARCserve D2DやARCserve Backup、ARCserve Replication/HAの機能を継承・統合しつつ拡張した製品です。拡張機能の1つに「復旧ポイントサーバー(Recovery Point Server/RPS)」があります。RPSは、ローカルの業務サーバーや管理用サーバー、あるいはPCのバックアップ対象のバックアップデータを格納する容れ物のことです。このサーバーが遠隔バックアップを合理化するために大きな役割を果たします。バックアップシステムの構成イメージは図1のようになります。
UDPを利用すると、各バックアップ対象側で重複排除を行った上でローカルRPSにバックアップデータが集約されます。この段階でバックアップ量は大きく削減されています。ローカルRPSは、WANを介して遠隔地にある拠点のRPSにデータを転送します。この際にローカルRPS側で重複排除を行うため、転送先のRPSに入るデータはずっと少なくなります。データ転送はRPS間のみで行えるので業務に影響することはありません。 このような構成をとってもUDPの場合、ライセンスコストが必要なのはバックアップ対象だけです。RPSは何台利用しようと費用はかかりません。重複排除によりストレージ容量とネットワーク負荷も抑えることができますから、ハードウェアもネットワークもコスト最適なものを選択できます。 大規模システムにおいては、拠点内に複数のRPSを設置することも可能です。地理的に離れた多くの拠点のRPSのデータを1個所のデータセンタ内のRPSに転送することもできます。安全なデータセンタや、データ保護対策が充実したクラウドサービスの内部にある転送先RPSにバックアップデータを集約すれば、自前でセカンダリサイトを構築するのとは比較にならない低コストで災害対策が可能です。 災害により損壊あるいは障害が起きたのがPCや業務サーバーだけなら、ローカルのRPSから迅速に新しいマシンにベアメタル復旧できます。万一拠点が損壊した際には、転送先のRPSから別拠点のマシンを使って復旧し、業務を移転して再開することが可能になります。業務再開までに多少の時間はかかりますが、IT-BCPの1手法としてコスト効果の高い仕組みと言えるのではないかと思います。 なお、バックアップは最終的にはテープにして保管しておきたいというケースも多々あろうと思います。RPSは自身にテープ操作機能がありますから、業務システムにはまったく負荷をかけずにテープへのバックアップが可能です。
業務によっては数分の中断も許されないというケースも当然あります。その場合には遠隔地の拠点(クラウドサービスでもよいですが)に待機用サーバーを用意し、本番サーバーを常にレプリケーションしておく必要があります。これまでは、ハードウェアも含めて何もかも同一のシステムを2つ以上用意することが必須であり、コストのかかる選択肢になっていました。 ここにもUDPが使えます。ローカルRPSと、遠隔地のリモートリサイトにあるRPS間でのレプリケーションが行えるので、リモートリサイトでは、複製側のサーバーを必要に応じて利用することが可能です。業務処理をこの複製サーバーに切り替えればすぐに業務継続が可能になります。 私が経験した事例では、米国・ニューヨークでハリケーンが発生してネットワークが損傷する事態になったとき、リモートサイトへの切り替えを行いましたが、それに要した時間はわずか数秒間でした。レプリケーションはたいへん優れたBCP対策です。ちなみにレプリケーション性能について当社がテストした結果は表1のとおりです。参考までにご覧ください。
データ保護課題を解決する4つの提案(災害対策編) - IT、IT製品の情報なら【キーマンズネット】
