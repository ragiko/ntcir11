
【特許名】音声復号装置製造方法
【要約】正常な音声を誤りとして検出してしまう誤検出を防止し、復号での異音またはデータの途切れを少なくして、聴感上の音声品質の向上をはかる。  過去に出力されたデータのサンプル数Nと、異音検出器4で異音を検出するためのしきい値Mを決定し、誤り検出器1が音声伝送データに誤りがないと判定した場合、又は音声伝送データから誤り検出器1が誤りを検出し、ADPCM復号器2からの復号信号から異音検出器4で異音がないと判定した場合は、伝送符号をADPCM復号器2で復号して出力データとして送出する。異音検出器4では、ADPCM復号器2からの復号信号の振幅と、過去に出力されたデータの振幅との差分の和から、過去に出力されたデータと相関性の高い復号信号を検出し、その復号信号の差分の和がしきい値Mを越えた場合に異音と判定する。
【目的】正常な音声を誤りとして検出してしまう誤検出を防止し、復号での異音またはデータの途切れを少なくして、聴感上の音声品質の向上をはかる。
【構成】過去に出力されたデータのサンプル数Nと、異音検出器4で異音を検出するためのしきい値Mを決定し、誤り検出器1が音声伝送データに誤りがないと判定した場合、又は音声伝送データから誤り検出器1が誤りを検出し、ADPCM復号器2からの復号信号から異音検出器4で異音がないと判定した場合は、伝送符号をADPCM復号器2で復号して出力データとして送出する。異音検出器4では、ADPCM復号器2からの復号信号の振幅と、過去に出力されたデータの振幅との差分の和から、過去に出力されたデータと相関性の高い復号信号を検出し、その復号信号の差分の和がしきい値Mを越えた場合に異音と判定する。
【背景技術】0002図3は、従来の音声復号装置の構成を示すブロック図である。0003図3において、音声復号装置20は、送信機側からの所定の一定間長の音声符号を多重化した伝送符号の誤りを検出するための誤り検出器21と、伝送符号を復号するためのADPCM復号器22を有する。さらに、この音声復号装置20は、誤り検出器21で誤りを検出した時に、出力データにおける振幅が「0」になるような誤り時データ23が供給されるとともに、ADPCM復号器22からの復号信号または誤り時データ23を選択して出力データとして送出する選択スイッチ24を有する。0004次に、上記従来例の動作について説明する。送信機側では、所定の一定間長の音声符号を多重化した伝送符号を生成して送出する。受信機側の音声復号装置20では、送信側から伝送された伝送符号ごとに誤りが検出されたかどうか否かを誤り検出器21で判断して選択スイッチ24を切り替える。この誤り検出器21で誤りを検出しない場合には、受信した伝送符号をADPCM復号器22で復号し、この復号信号を選択スイッチ24を通じて出力データとして送出する。また、誤り検出器22が誤りを検出した場合は、この誤りが検出された伝送符号を復号せずに、出力データにおける振幅が「0」になるような誤り時データ23を選択スイッチ24を通じて出力する。
【技術分野】5D045音声の分析?合成
【請求項】
※以下の情報は公開日時点(1995年8月22日)のものです。
請求項1
誤り検出符号および音声符号を有する伝送符号を復号する際の誤りを検出する誤り検出手段と、前記伝送符号を復号する復号手段と、過去に出力された音声信号を蓄積するデータ蓄積手段と、現時点で復号された音声信号の異音を検出する異音検出手段と、現時点での復号された音声信号と相関の高い過去に出力された音声信号の振幅を抑圧するサプレス手段と、前記復号手段またはサプレス手段からの復号信号または前記抑圧された音声信号を選択して出力する選択手段とを備え、前記誤り検出手段により誤りが検出され、かつ前記異音検出手段により異音が検出されたときは前記サプレス手段からの抑圧された音声信号を出力する音声復号装置。
請求項2
前記異音検出手段は、前記復号手段から復号された現時点での音声信号の振幅と前記データ蓄積手段で蓄積された過去に出力された音声信号の振幅との差分の和の極小値から相関の高い過去の音声信号を検出し、この検出された音声信号の差分の和としきい値とを比較することにより異音であるかを判定する手段を備え、前記誤り検出手段により誤りを検出し、かつ前記異音検出手段により異音であると判定したときに相関の高い過去に出力された音声信号の振幅を前記サプレス手段で抑圧して出力することを特徴とする請求項1記載の音声復号装置。
【解決課題】0005しかしながら、上記従来の音声復号装置では、誤り検出器21で誤りを検出した場合、正常な音声を誤りとして検出してしまう誤検出があるため、聴感上の音声品質が劣化するという問題がある。また、誤り検出器21で誤りを検出した場合、出力データにおける振幅を「0」にしているため、以降の装置で音声出力を行う場合に、音声に途切れが生じるという問題がある。
0006本発明は、このような従来の問題を解決するものであり、異音である可能性が高い部分を検出し、誤り検出と組み合わせて処理することにより、復号での異音の発生またはデータ途切れが少なくなり、音声の連続性がスムーズになり、聴感上での音声品質を向上できる優れた音声復号装置を提供することを目的とする。
【解決手段】0007上記目的を達成するために、本発明の音声復号装置は、誤り検出符号および音声符号を有する伝送符号を復号する際の誤りを検出する誤り検出手段と、前記伝送符号を復号する復号手段と、過去に出力された音声信号を蓄積するデータ蓄積手段と、現時点で復号された音声信号の異音を検出する異音検出手段と、現時点での復号された音声信号と相関の高い過去に出力された音声信号の振幅を抑圧するサプレス手段と、前記復号手段またはサプレス手段からの復号信号または前記抑圧された音声信号を選択して出力する選択手段とを備え、前記誤り検出手段により誤りが検出され、かつ前記異音検出手段により異音が検出されたときは前記サプレス手段からの抑圧された音声信号を出力する。
0008また、請求項2の発明は、異音検出手段が、前記異音検出手段は、前記復号手段から復号された現時点での音声信号の振幅と前記データ蓄積手段で蓄積された過去に出力された音声信号の振幅との差分の和の極小値から相関の高い過去の音声信号を検出し、この検出された音声信号の差分の和としきい値とを比較することにより異音であるかを判定する手段を備え、前記誤り検出手段により誤りを検出し、かつ前記異音検出手段により異音であると判定したときに相関の高い過去に出力された音声信号の振幅を前記サプレス手段で抑圧して出力する構成にした。
0009このような構成により、本発明の音声復号装置は、現時点で復号された音声信号の振幅と相関性の高いと思われる過去に出力された音声信号の振幅との差分の和をとり、その差分の和としきい値とを比較し、差分の和がしきい値より大きいときに異音と判定するから、誤り検出符号とともに異音が検出された場合には、相関性の高い過去に出力された音声信号の振幅を抑圧して出力する。したがって、誤り、誤り検出手段により誤りが検出された場合に、異音の誤検出を少なくして処理することができ、復号でのデータ途切れも少なくなる。しかも、音声の近接区間での相関、すなわち、波形が類似する特性を利用して、音声の連続性をスムーズにしている。よって、音声出力を行う際に聴感上での音声品質が向上する。
0010以下、本発明の実施例を図面に基づいて説明する。
0011図1は本発明の音声復号装置の実施例における構成を示すブロック図である。図1において、音声復号装置7は、送信機側からの所定の一定間長の音声符号を多重化した伝送符号の誤りを検出するための誤り検出器1と、前記伝送符号を復号するためのADPCM復号器2と、過去に出力された音声信号を蓄積するためのバッファ3と、ADPCM復号器2からの復号信号の異音を検出するための異音検出機4と、ADPCM復号器2からの復号信号と相関性の高い過去に出力された音声信号の振幅を抑圧するためのサプレス装置5と、ADPCM復号器2からの復号信号またはサプレス装置5からの相関性の高い過去に出力された音声信号の振幅が抑圧された復号信号を選択するための選択スイッチ6とを有している。
0012次に、上記実施例の動作について説明する。予めバッファ3に蓄積する過去に出力された音声信号のサンプル数Nと、異音検出器4で異音を検出するためのしきい値Mを決定し、音声伝送データから誤り検出器1で誤りがないと判定した場合、または音声伝送データから誤り検出器1が誤りを検出し、ADPCM復号器2からの復号信号から異音検出器4で異音がないと判定した場合は、送信機側からの伝送符号をADPCM復号機2に供給して復号し、この復号信号が選択スイッチ6を通じて出力データとして送出される。
0013次に、異音検出着の動作について説明する。現時点でADPCM復号器から復号した信号をS(k)、(ただしk=1,2,…n)とし、バッファ3に蓄積されている過去に出力された音声信号の信号をSp(i)、(ただしi=1,2,…N)とする。異音検出器4では、Sp(k)を1サンプルごと(N?n)サンプルまで過去のサンプルにスライドし、それぞれのサンプルの差分の絶対値の和Sn(j)を数1で求める。
00140015この差分の和Sn(j)が極小になった場合のSp(k+j)が、ADPCM復号器2からの復号信号S(k)との相関性が最も高くなり、類似した信号であることを示している。ところが、符号に誤りが生じている(異音が生じている)場合には、相関性の高いSp(k+j)とS(k)の波形が大きく異なり、差分の和Sn(j)の値も大きくなる。そこで、Sn(j)としきい値Mと比較し、Sn(j)>Mである場合には、異音が生じていると判定することができる。
0016また、誤り検出器1が誤りを検出し、異音検出器4が異音を検出した場合は、相関性が最も高い過去に出力された音声信号Sp(k+j)の振幅をサプレス装置5で抑圧し、その復号信号が選択スイッチ6を通じて出力データとして送出される。
0017図2は、本実施例における復号信号?誤り検出符号?異音検出符号?出力データの波形を示している。区間11、12では音声伝送データから誤り検出器1で誤りがないと判定し、区間13、14では音声伝送データから誤り検出器1が誤りを検出し、ADPCM復号器2からの復号信号から異音検出器4で異音がないと判定した場合であり、送信器側からの伝送符号をADPCM復号器2に供給して復号され、この復号信号がそのまま選択スイッチ6を通じて出力データとして送出される。また、区間15、16、17では誤り検出器1が誤りを検出し、異音検出器4が異音を検出した場合であり、相関性が最も高い過去に出力された音声信号の振幅をサプレス装置5で抑圧し、その復号信号が選択スイッチ6を通じて出力データとして送出される。
【発明効果】0018以上の説明から明らかなように、本発明の音声復号装置は、復号信号の異音である可能性の高い部分を検出して異音検出符号とし、誤り検出符号と組合せて処理を行っているため、正常な音声を誤りとして検出してしまう誤検出を防止できる。また、誤りの処理として、ADPCM復号器からの復号信号と相関性の高い過去に出力された音声信号を検出し、その信号の振幅を抑圧して出力しているため、復号でのデータの途切れが少なくなる。つまり、音声での近接区間での相関、すなわち、波形が類似する特質を利用することにより、音声の連続性がスムーズになり、音声出力を行う際に聴感上での音声品質が向上するという効果を有する。
【図面簡単説明】0019図1 本発明の音声復号装置の一実施例における構成を示すブロック図図2 本実施例における復号信号、誤り検出符号、異音検出符号、出力データの波形を示す図図3 従来の音声復号装置の構成を示すブロック図
【出願人】松下電器産業株式会社
【発明者】三浦  剛、細井  茂
【出願日】1994年2月14日(20年4ヶ月経過)
【出願番号】1994-017181
【公開日】1995年8月22日(18年10ヶ月経過)
【公開番号】1995-225600
【登録日】2003年3月28日(11年3ヶ月経過)
【登録番号】3412226
【特許期限】2007年3月28日
【状態】特許権利破棄(最終処分)
音声復号装置製造方法
