
座標変換パラメータファイルTKY2JGD.parの説明
グリッド間隔
緯度方向(緯線間隔)
30秒
経度方向(経線間隔)
45秒
ヘッダー部
2行。各行はパラメータ部に合わせて30バイト長。
例:
JGD2000-TokyoDatum Ver.2.1.1[CR+LF]
MeshCode   dB(sec)   dL(sec)[CR+LF]
パラメータ部
1行が1格子点に対応
パラメータ部
1行の構造
3次メッシュコード8バイト
例:53393690
緯度差9バイト。単位は秒。
例: 11.66037
経度差9バイト。単位は秒。
例:-11.63272
データ間の区切り文字は半角空白1つ。合計2つ。
行末は,CR+LF。合計で1行あたり30バイト。
行の例:
53393690  11.66037 -11.63272[CR+LF]
ファイルサイズ
(30 Bytes×2行)+(30 Bytes×パラメータ数) バイト
補足説明
グリッド線は,「3次メッシュ」の境界線に一致します。
変換パラメータの基準位置は,3次メッシュの中央ではなく,メッシュの南西角です。つまり,3次メッシュコードから基準位置を秒単位で求めると,緯度,経度それぞれ30秒,45秒の整数倍になります。
パラメータファイル内には,2つ以上の同一メッシュコードが存在してはなりません。存在した場合の動作は保証されません。
パラメータ行の順番
基本的にパラメータ行の順番は任意でよい。しかし,低緯度から高緯度,同じ緯度では低経度から高経度に並んでいると,TKY2JGDはより速くパラメータを見つけることができる。
このメッシュコードの並びは,メッシュコードの昇順でも降順でもない。
パラメータ行の追加
離島の変換パラメータが決定されるたびに,パラメータファイルの末尾等にパラメータ行を追加することが可能です。
このとき,メッシュコードが既にあるものと重複しないよう注意して下さい。また,空白行は入れないでください。プログラムの高速動作のために,追加行は,できるだけ低緯度から高緯度,同じ緯度では低経度から高経度に並べて下さい。
パラメータのカバー範囲
パラメータは基本的に陸部だけに存在します。海の上には,三角点等の基準点がないからです。基準点のような座標値に対応する「実体」がない場合には,地域ごとの変換パラメータの存在意義がないからです。
陸部とは言いながら海岸から約1km(厳密には南北方向に30秒,東西方向に45秒)以内にある海上のグリッド点は,陸として扱いパラメータは存在します。なぜなら,TKY2JGDがBilinear補間計算をする際に海上側のグリッド点にもパラメータが存在しないと,補間計算ができず,海岸の座標変換が不能になってしまうため,これを防ぐように考慮したからです。
変換パラメータが設定されているパラメータ存在区域はこのようになっています。白は海で,パラメータが存在しないことを,その他の色はパラメータが存在することを表します。
4つの図がありますが,どちらもカバー範囲は全く同じです。392,183個のグリッド点があり,それぞれ緯度と経度の変換パラメータをもっています。
図は,緯度と経度の変換パラメータに対応しています。パラメータの大きさによって色分けされています。
緯度の変換パラメータ (=世界測地系の緯度−日本測地系の緯度)
参考:色分けのしかたを変えた緯度の変換パラメータ
経度の変換パラメータ (=世界測地系の経度−日本測地系の経度)
参考:色分けのしかたを変えた経度の変換パラメータ
パラメータファイルの例
地方毎の変換パラメータファイル
変換パラメータファイルの選択の方法,例
ホームに戻る
座標変換パラメータファイル”TKY2JGD.par”の説明
