
Webサイトやブログを作成したら、アクセス解析を設置しましょう。
有料・無料問わず有名所のアクセス解析は訪問者のデータを取得するために、
Webサイト・ブログ内にコードを埋め込む必要があります。
この記事では統一のために、「アクセス解析タグ」と呼ぶことにします。
GoogleAnalyticsでは、これを「トラッキングコード」と呼びます。
アクセス解析によって、埋め込む位置が異なりますのでそれぞれ説明します。
GoogleAnalyticsのアクセス解析タグを設置する
GoogleAnalyticsを使用するには、Googleアカウントが必要です。
以下から取得できます。その後、GoogleAnalyticsの利用登録をします。
Googleアカウントの作成
https://accounts.google.com/SignUp?hl=ja
GoogleAnalytics利用登録
https://www.google.co.jp/intl/ja/analytics/
賢威のGoogleAnalytics設定は「header.php」の
「</head>」タグ直前に設置します。具体的には以下の部分です。
<?php wp_head();?>
<?php facebook_keni(); ?>
<?php google_plus_keni(); ?>
<!--ここにGoogleAnalyticsのアクセス解析タグを設置-->
</head>
GoogleAnalyticsを含むアクセス解析タグのほとんどは、
以前は、「<body>～</body>」に設置するというのが一般的だったため、
「</body>」タグ(コンテンツ部分の閉じタグ)直前に設置していました。
しかし、GoogleAnalyticsのアクセス解析タグ設置推奨場所が
以下のように変わったため、「</head>」直前としています。
トラッキングするすべてのページに、コピーしたスニペットを貼り付けます(一切変更を加えず、スニペット全体をそのまま貼り付けます)。貼り付ける場所は、終了タグ </head> の直前にしてください。
ウェブサイトでテンプレートを使用してページを生成している場合は、セクションを含むファイルのセクションの直前に貼り付けてください。
- GoogleAnalyticsヘルプ -
賢威5では、「analytics.php」というアクセス解析タグ専用のPHPが存在し、
その中にタグを貼り付けることで、自動的に全ページを解析していました。
しかし、GoogleAnalyticsの設置推奨場所変更などもあり、
賢威6以降は「analytics.php」がなくなったため、「header.php」や
「footer.php」の正しい位置に設置する形となりました。
アクセス解析を実施したい全ページに、アクセス解析タグを設置する必要があるので、
全ページに反映される「header.php」や「footer.php」に設置することになります。
必ず、全ページに展開されるPHPファイルに設置してください。
もちろん、賢威5のように「analytics.php」を独自PHPとして作成し、
アクセス解析タグを設置する方法もありますが、あまりメリットはありません。
(よって賢威6以降では採用されなかったと推測しています)
もしリクエストがあれば方法を追加しますのでコメント等でお知らせください。
その他のアクセス解析(i2i、忍者アナライズ等)タグを設置する
GoogleAnalytics以外のアクセス解析は、「footer.php」の最下部に設置します。
具体的には以下の部分です。
<?php wp_footer(); //この行は削除しないでください。 ?>
<!--ここにアクセス解析タグを設置-->
これで、全ページにアクセス解析が設置されるようになります。
WordPressにアクセス解析を設置する方法 | 賢威カスタマイズ研究所
