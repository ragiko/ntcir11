Matrixクラスを使うと、DisplayObjectインスタンスの2次元平面上の移動や伸縮、回転、傾斜などの変形ができます。また、それらを組合わせて、長方形のインスタンスを平行四辺形に変えられます。ですから、たとえば3次元の表現に利用することも可能です。本稿は、このMatrixクラスについて、簡単なサンプルスクリプトをご紹介しながら解説していきます[*1]。なお、サンプルにはActionScript 3.0を用います。
[*1] 本稿は、2008年9月13日に開催された「Flash Power Session 2008 Osaka」における講演をもとに、時間の都合で割愛した基本説明や補足を加えて、新たにFlashデベロッパーセンター向けの記事として書いたものです。
01 変換行列(Matrixクラス)とは
「Matrix」というのは、英語で数学の「行列」を意味します(あの映画のことではありません)。もっとも、ActionScript 3.0のMatrixクラス[*2]は、数学の行列一般の演算を行うものではなく、インスタンスの座標空間を変換する3行×3列の行列[*3]です。Matixクラスが扱うこの行列を「変換行列」と呼びます。
3×3の行列は、9つの要素をもちます。Matrixクラスの変換行列では、第3行目の要素は値が固定されていて操作できません。操作が可能な残り6つの要素には、つぎのようにプロパティ名が与えられています(上述のとおり、第3行目は値が「0 0 1」で固定です)[*4]。これら6つのプロパティを使って、インスタンスに伸縮、傾斜、回転、移動などの変換を加えることができます。
Matrixクラス − 変換行列 | デベロッパーセンター
