
DB2 UDB for iSeries データベース・パフォーマンスおよび Query 最適化 V5R1
PRTSQLINF コマンドによる組み込み SQL ステートメントに関する情報収集
PRTSQLINF コマンドは、 プログラム、SQL パッケージ
(そのオブジェクトは、通常、遠隔照会用のアクセス・プランを保管するために使用される)
、またはサービス・プログラム内の組み込み SQL
ステートメントに関する情報を収集します。
このコマンドは、それからこの情報をスプール・ファイルに書き込みます。 PRTSQLINF
では、下記についての情報を提供します。 
実行中の SQL ステートメント
実行中に使用されるアクセス・プランのタイプ。
これには、照会の実施方法、使用される索引、
結合順序、分類を行うかどうか、データベース走査を使用するかどうか、および索引が作成されるかどうかについての情報が含まれます。
オブジェクトのソース・メンバーをプリコンパイルするのに使用するコマンド・パラメーターのリスト
この情報を収集するには、保管済みアクセス・プランに対して PRTSQLINF を実行します。
このことは、このコマンドを使用する前に、照会を実行するか、または少なくとも照会を準備
(SQL の PREPARE ステートメントを使用して) しなければならないことを意味します。
照会を実行するのが一番です。その理由は、PREPARE の結果として作成される索引は、
比較的散在していて最初の実行の後で変更になることがよくあるためです。 PRTSQLINF
の保管済みアクセス・プランへの要件から、このコマンドを OPNQRYF
と一緒には使用できません。
PRTSQLINF
からは、デバッグ・メッセージから得られる情報と同じような出力が出されますが、
PRTSQLINF を保管済みアクセス・プランに対して実行する必要があります。 Query
最適化プログラムは、ユーザーのジョブがデバッグ・モードにあるときは、現行の照会処理についての情報を自動的にログに記録します。
したがって、照会デバッグ・メッセージが実行時に作用するのに対し、 PRTSQLINF
は、過去にさかのぼって作用します。 また、照会管理プログラムの照会メッセージ
CPA4259 の 2 次レベル・テキストからこの情報を参照することもできます。
メッセージは次のとおりです。
SQL400A 一時分散結果ファイル &1
が作成され、結合の結果が入れられた。結果ファイルが出力先指定されました。
SQL400B 一時分散結果ファイル &1
が作成され、結合の結果が入れられた。結果ファイルがブロードキャストされました。
SQL400C &2 の Query 定義ステップ &1
の最適化プログラム・デバッグ・メッセージは次の通りである。
SQL400D GROUP BY 処理が生成された。
SQL400E 分散 SUBQUERY の処理中に一時分散結果ファイル &1 が作成された。
SQL4001 一時結果が作成されます。
SQL4002 使用可能な ODP ソートが使用された。
SQL4003 UNION。
SQL4004 SUBQUERY。
SQL4005 テーブル &1 の QUERY
最適化プログラムがタイムアウトになりました。
SQL4006 テーブル &1 のすべての索引が検討されました。
SQL4007 テーブル &2 の結合位置 &1 に対する QUERY の実行。
SQL4008 テーブル &2 に索引 &1 が使用されました。
SQL4009 テーブル &1 の索引が作成されました。
SQL401A 分散テーブルが入っている QUERY のグループ化基準を処理中。
SQL401B グループ化基準の処理時に一時分散結果テーブル &1
が作成されました。
SQL401C QUERY 定義の分散結合の実行中。
SQL401D テーブル &2 が出力先指定されたので、一時分散結果テーブル
&1 が作成されました。
SQL401E テーブル &2 がブロードキャストされたので、一時分散結果テーブル
&1 が作成されました。
SQL401F テーブル &1 が分散結合に使用されました。
SQL4010 テーブル &1 に対するテーブル・スキャン。
SQL4011 テーブル &1 に索引スキャン・キー行位置が使用されました。
SQL4012 テーブル &2 の索引 &1 から索引が作成されました。
SQL4013 アクセス・プランが作成されていない。
SQL4014 この結合位置に &1 結合欄のペアが使用されました。
SQL4015 結合元欄 &1.&2、結合先欄
&3.&4、結合演算子 &5、結合述部 &6。
SQL4016 部分選択が結合 QUERY として処理された。
SQL4017 ホスト変数が再使用可能 ODP として導入された。
SQL4018 ホスト変数が最使用可能でない ODP として実行された。
SQL4019 ホスト変数がファイル管理行位置指定再使用可能 ODP
として実行されました。
SQL402A 結合の処理にハッシュ・アルゴリズムが使用された。
SQL402B ハッシュ結合ステップ &2 でテーブル &1 が使用されました。
SQL402C ハッシュ結合結果に一時テーブルが作成されました。
SQL402D QUERY 属性がライブラリー &1 の QUERY オプション・ファイル
&2 から一時変更された。
SQL4020 見積 QUERY 実行時間は &1 秒である。
SQL4021 アクセス・プランが最後に保管された &1 の &2 です。
SQL4022 アクセス・プランは SRVQRY 属性が活動状態で保管された。
SQL4023 並行テーブルの事前取り出しが使用されました。
SQL4024 並行索引事前ロード・アクセス方式が使用されました。
SQL4025 並行テーブル事前ロード・アクセス方式が使用されました。
SQL4026 テーブル暗号 &1 で索引専用アクセスが使用されました。
SQL4027 アクセス・プランがシステムに導入された DB2 UDB
対象マルチプロセスによって保管されました。
SQL4028 QUERY に分散テーブルが入っています。
SQL4029 グループ化の処理にハッシュ・アルゴリズムが使用された。
SQL4030 テーブル &2 の並行スキャンに &1 タスクが指定されました。
SQL4031 テーブル &2 上の並行索引の作成に &1
タスクが指定されました。
SQL4032 テーブル &2 のビットマップ処理に索引 &1 が使用されました。
SQL4033 &2 を使用する並行ビットマップの作成に &1
タスクが指定されました。
SQL4034 結合の処理に複数の結合クラスが使用されました。
SQL4035 結合クラス &2 でテーブル &1 が使用されました。
[ ページのトップ | 前ページ | 次ページ | 目次 | 索引 ] 
PRTSQLINF コマンドによる組み込み SQL ステートメントに関する情報収集
