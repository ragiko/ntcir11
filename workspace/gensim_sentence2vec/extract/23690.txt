  
　しかしながら、上記の特許文献１記載の測定システムでは、ＤＰＦの状態判定に誤差が生じており、精度の高い検出装置とは言えなかった。
　本発明は、上述の点に鑑みてなされたものであり、排ガス中の微粒子を捕集するフィルタの状態判定を排ガスの低流領域及び高流領域の双方において高精度に行うことが可能な微粒子捕集フィルタ状態検出装置を提供することを目的とする。
　本発明者らは、上記の誤差が生じる原因を鋭意研究した結果、ディーゼルエンジンの排気脈動であることを突き止めた。
　排気流通路内の圧力は、ディーゼルエンジンの排気脈動により大きく変動する。そして、その圧力には、エンジン回転数に応じた基本波が含まれると共に、その基本波に対する高調波成分が含まれる。また、ＤＰＦ下流側の圧力は、ＤＰＦ上流側の圧力に対して位相のズレ（時間のズレとして現れる）が生じる。特許文献１記載の技術では、ＤＰＦ上流側の圧力値とＤＰＦ下流側の圧力値との位相合わせ（時間のズレを合わせること）が行われていないため、両圧力値に基づくＤＰＦの状態すなわちＰＭ堆積の判定を精度よく行うことが困難であった。
　上記の目的を達成するため、本発明の微粒子捕集フィルタ状態検出装置は、排気流通路を流通する排ガス中に含まれる微粒子を捕集するフィルタの状態を検出する微粒子捕集フィルタ状態検出装置であって、前記排気流通路上の前記フィルタの上流側に生じる第１の圧力を検出する第１の圧力検出手段と、前記排気流通路上の前記フィルタの下流側に生じる第２の圧力を検出する第２の圧力検出手段と、前記フィルタの状態を判定するフィルタ状態判定手段と、を備え、前記フィルタ状態判定手段は、演算部と記憶部とからなり、前記第１及び第２の圧力検出手段により検出された前記第１及び第２の圧力値を前記記憶部に格納し、前記第１及び第２の圧力検出手段により検出された前記第１及び第２の圧力値を前記記憶部から前記演算部に送信し、前記演算部にて、前記第１及び第２の圧力値にそれぞれフーリエ変換を施す第１及び第２のフーリエ変換手段により得られたゼロ周波数でのスペクトル強度及び／又は位相並びに所定周波数でのスペクトル強度及び／又は位相を比較する比較手段を用いることで前記フィルタの状態を判定する。
　また、上記の目的を達成するため、本発明の微粒子捕集フィルタ状態検出装置は、排気流通路を流通する排ガス中に含まれる微粒子を捕集するフィルタの状態を検出する微粒子捕集フィルタ状態検出装置であって、前記排気流通路上の前記フィルタの上流側に生じる第１の圧力を検出する第１の圧力検出手段と、前記排気流通路上の前記フィルタの下流側に生じる第２の圧力を検出する第２の圧力検出手段と、前記第１の圧力検出手段により検出された前記第１の圧力値にフーリエ変換を施す第１のフーリエ変換手段と、前記第２の圧力検出手段により検出された前記第２の圧力値にフーリエ変換を施す第２のフーリエ変換手段と、前記第１のフーリエ変換手段により得られたゼロ周波数でのスペクトル強度及び／又は位相並びに所定周波数でのスペクトル強度及び／又は位相と、前記第２のフーリエ変換手段により得られたゼロ周波数でのスペクトル強度及び／又は位相並びに前記所定周波数でのスペクトル強度及び／又は位相と、を比較する比較手段と、前記比較手段による比較結果に基づいて、前記フィルタの状態を判定するフィルタ状態判定手段と、を備える。
　尚、上記した微粒子捕集フィルタ状態検出装置において、前記比較手段は、前記第１のフーリエ変換手段により得られたゼロ周波数でのスペクトル強度及び／又は位相と前記所定周波数でのスペクトル強度及び／又は位相との和を算出する第１の和算出手段と、前記第２のフーリエ変換手段により得られたゼロ周波数でのスペクトル強度及び／又は位相と前記所定周波数でのスペクトル強度及び／又は位相との和を算出する第２の和算出手段と、前記第１の和算出手段により算出された和と前記第２の和算出手段により算出された和との差を算出する差算出手段と、を有し、前記フィルタ状態判定手段は、前記差算出手段により算出された前記差に基づいて、前記フィルタの状態を判定することとしてもよい。
　また、上記した微粒子捕集フィルタ状態検出装置において、前記フィルタ状態判定手段は、前記比較手段による比較結果に基づいて、前記フィルタに捕集された前記微粒子の堆積量を推定することとしてもよい。
　また、上記した微粒子捕集フィルタ状態検出装置において、前記フィルタ状態判定手段により推定された前記堆積量が所定量に達した場合に前記フィルタの再生を指示するフィルタ再生指示手段を備えることとしてもよい。
　また、上記した微粒子捕集フィルタ状態検出装置において、前記フィルタ状態判定手段は、前記比較手段による比較結果の、前記フィルタの初期状態から該フィルタの再生実施後までの変化に基づいて、前記フィルタに堆積する不燃残留物量を推定することとしてもよい。
　また、上記した微粒子捕集フィルタ状態検出装置において、前記フィルタ状態判定手段は、前記比較手段による比較結果の時間変化に基づいて、前記フィルタの異常又は故障を判定又は推定することとしてもよい。
　また、上記した微粒子捕集フィルタ状態検出装置において、前記所定周波数は、内燃機関の回転数に応じた周波数であることとしてもよい。
　また、上記した微粒子捕集フィルタ状態検出装置において、前記所定周波数は、内燃機関の回転数の基本周波数であることとしてもよい。
　また、上記した微粒子捕集フィルタ状態検出装置において、前記所定周波数は、内燃機関の回転数の基本周波数よりも高周波であることとしてもよい。
　また、上記した微粒子捕集フィルタ状態検出装置において、前記第１の圧力検出手段により前記第１の圧力を検出する時間間隔及び前記第２の圧力検出手段により前記第２の圧力を検出する時間間隔はそれぞれ、内燃機関の回転数の基本周波数での周期よりも短いこととするのが好ましい。
　本発明によれば、排ガス中の微粒子を捕集するフィルタの状態判定を排ガスの低流領域及び高流領域の双方において高精度に行うことができる。
本発明の一実施形態である微粒子捕集フィルタ状態検出装置を備えるシステムの全体構成図である。 本発明の一実施形態である微粒子捕集フィルタ状態検出装置において実行される制御ルーチンの一例のフローチャートである。 本発明の一実施形態である微粒子捕集フィルタ状態検出装置においてＦＦＴ処理前後の圧力値の時系列データを表した波形図である。 フィルタ前後での圧力波形を比較した図である。 本発明の一実施形態である微粒子捕集フィルタ状態検出装置においてフィルタ上流側の圧力及びフィルタ下流側の圧力それぞれに対するＦＦＴ処理後のスペクトル強度を表した波形図である。 本発明の一実施形態である微粒子捕集フィルタ状態検出装置による効果を説明するための図である。 
　特許文献１（特開昭６０－８５２１４号公報）に開示されている従来の内燃機関用フィルタ再生装置によるＤＰＦに堆積した微粒子の堆積量の検出方法では、ＤＰＦに堆積した微粒子の堆積量の検出精度が低くなるという問題があった。この微粒子の堆積量の検出精度が低くなる要因について考えた。排気流通路内の圧力は、ディーゼルエンジンの排気脈動により大きく変動しており、ＤＰＦ上流側の圧力値とＤＰＦ下流側の圧力値との間で位相のズレ（時間のズレとして現れる）が生じているという事実を突き止めた。しかし、上記の特許文献１記載の技術では、ＤＰＦに堆積した微粒子の堆積量を検出するのに、ＤＰＦ上流側の圧力値及びＤＰＦ下流側の圧力値そのものを用いており、位相ズレ（時間のズレとして現れる）の影響を大きく受けるため、微粒子の堆積量の検出精度が低くなるという課題を見出した。
　これに対して、ＤＰＦ上流側の圧力値及びＤＰＦ下流側の圧力値をそれぞれフーリエ変換して周波数ごとのスペクトル強度を求めることで、位相ズレの影響を受けずにＤＰＦ上流側とＤＰＦ下流側との両圧力を比較することが可能である。また、排気流通路内の圧力の交流成分はＤＰＦにより減衰するため、ＤＰＦ前後でエンジンの排気脈動に応じた同じ特定周波数のスペクトル強度が減衰すると共に、排気流通路内の圧力の直流成分もＤＰＦにより減衰するため、ＤＰＦ前後でゼロ周波数のスペクトル強度が減衰する。ＤＰＦ上流側における特定周波数のスペクトル強度とゼロ周波数のスペクトル強度とに基づく値と、ＤＰＦ下流側における特定周波数のスペクトル強度とゼロ周波数のスペクトル強度とに基づく値と、の相対関係は、ＤＰＦに堆積した微粒子の堆積量と相関があることがわかった。
　そこで、ＤＰＦ上流側の圧力値及びＤＰＦ下流側の圧力値をそれぞれフーリエ変換して周波数ごとのスペクトル強度を求めたうえで、特定周波数のスペクトル強度とゼロ周波数のスペクトル強度とに基づく値を比較し、その比較結果に基づいてＤＰＦに堆積した微粒子の堆積量を精度よく検出することができるという効果を発見し、本発明を完成させた。
　以下、図面を用いて、本発明に係る微粒子捕集フィルタ状態検出装置の具体的な実施の形態について説明する。
　図１に、本発明の一実施形態である微粒子捕集フィルタ状態検出装置１０を備えるシステムの全体構成図を示す。本実施形態のシステムは、内燃機関（具体的には、ディーゼルエンジン）１２から排出される排ガス中に含まれる微粒子（ＰＭ：Particulateatter）を捕集する微粒子捕捉フィルタ（ＤＰＦ：Dieselarticulateilter）１４の状態（具体的には、ＰＭ堆積量）を検出し、その検出したＰＭ堆積量が所定量に達した場合にＤＰＦ１４の再生を図るシステムである。
　図１に示す如く、微粒子捕集フィルタ状態検出装置１０は、内燃機関１２に接続する排気流通路１６上に設けられたＤＰＦ１４を備えている。ＤＰＦ１４は、内燃機関１２から排出される排ガス中に含まれるＰＭを捕捉可能なフィルタである。また、微粒子捕集フィルタ状態検出装置１０は、排気流通路１６に設けられた一対の圧力センサ２０，２２を備えている。尚、圧力センサ２０，２２は、排気流通路１６内の、排ガスの密度と流速とに応じて変化する動圧の影響が最小となる位置（共振の影響が出ない位置）、すなわち、主に圧力損失に応じて変化する静圧を測定可能な位置に配設することが望ましい。
　圧力センサ２０は、排気流通路１６上のＤＰＦ１４の上流側に生じる圧力（上流側圧力）に応じた電気信号（電圧信号）を出力するセンサである。また、圧力センサ２２は、排気流通路１６上のＤＰＦ１４の下流側に生じる圧力（下流側圧力）に応じた電気信号（電圧信号）を出力するセンサである。以下、圧力センサ２０を上流側圧力センサ２０と、また、圧力センサ２２を下流側圧力センサ２２と、それぞれ称す。上流側圧力センサ２０及び下流側圧力センサ２２はそれぞれ、マイクロコンピュータを主体に構成される状態検出部２４に接続されている。上流側圧力センサ２０の出力信号及び下流側圧力センサ２２の出力信号はそれぞれ、状態検出部２４に供給される。
　状態検出部２４は、上流側圧力センサ２０の出力信号に基づいてＤＰＦ１４の上流側に生じる上流側圧力Ｐｉｎを検出すると共に、下流側圧力センサ２２の出力信号に基づいてＤＰＦ１４の下流側に生じる下流側圧力Ｐｏｕｔを検出する。この状態検出部２４による圧力検出は、所定のサンプリング時間（例えば、５００μＳ）ごとに、すなわち、所定のサンプリング周期（例えば２ｋＨｚ）で行われる。
　尚、上記した所定のサンプリング時間は、内燃機関１２の回転数ＮＥの基本周波数Ｆｂａｓｅでの周期よりも短いものである。また、この基本周波数Ｆｂａｓｅとは、内燃機関１２の回転数ＮＥの値によって決まる周波数であって、回転数ＮＥが小さいほど低周波数となり、回転数ＮＥが大きいほど高周波数となる。例えば、内燃機関１２が直列４気筒４サイクルエンジンである場合は、その内燃機関１２から一回転当たり２回の排気があり、排気圧力には一回転当たり２回の脈動があるので、１０００ｒｐｍのときは、２０００回／minの排気脈動が発生し、エンジン回転数ＮＥに応じた脈動の振動数が３３．３Ｈｚであり、基本周波数Ｆｂａｓｅが３３．３Ｈｚとなる。ただ、上記した所定のサンプリング時間は、内燃機関１２の回転数ＮＥの、圧力検出を行うべき上限での基本周波数Ｆｂａｓｅ（例えば、直列４気筒４サイクルエンジンである内燃機関１２の回転数の、圧力検出を行うべき上限が３０００ｒｐｍであるときは、１００Ｈｚ）での周期（１０ｍｓ）よりも短くするのがよい。状態検出部２４は、後に詳述の如く、上記検出した上流側圧力Ｐｉｎ及び下流側圧力Ｐｏｕｔを演算処理して、ＤＰＦ１４に堆積するＰＭの堆積量Ｍを算出する。
　状態検出部２４には、また、内燃機関１２の回転数ＮＥを示す信号、及び、内燃機関１２の排気空気量Ｑを示す信号がそれぞれ供給されている。状態検出部２４は、内燃機関１２の回転数ＮＥ及び排気空気量Ｑを検出する。尚、回転数ＮＥは、圧力波形と時間的なズレが生じるため、そのズレを補正して用いることが好ましい。
　本実施例のシステムは、また、内燃機関１２の各種制御を行うエンジン用電子制御ユニット（以下、エンジンＥＣＵと称す）３２を備えている。エンジンＥＣＵ３２には、上記した状態検出部２４が接続されている。状態検出部２４は、算出したＤＰＦ１４へのＰＭ堆積量Ｍが所定量に達しているか否かを判別すると共に、その判別の結果としてＰＭ堆積量Ｍが所定量に達している場合にエンジンＥＣＵ３２に対してＤＰＦ１４を再生するための指令を供給する。エンジンＥＣＵ３２は、状態検出部２４からＤＰＦ１４の再生指令を受けると、ＤＰＦ３２を再生する処理（例えば、内燃機関１２の燃焼を促進してＤＰＦ３２を加熱させる処理）を実行する。
　次に、図２～図６を参照して、本実施形態の微粒子捕集フィルタ状態検出装置１０における検出処理について説明する。
　図２は、本発明の一実施形態である微粒子捕集フィルタ状態検出装置１０において状態検出部２４が実行する制御ルーチンの一例のフローチャートを示す。図３（Ａ）は、本発明の一実施形態である微粒子捕集フィルタ状態検出装置１０において状態検出部２４がＦＦＴ（Fastourierransform）処理を施す前のＤＰＦ前後の圧力値Ｐｉｎ，Ｐｏｕｔの時系列データを表した波形図を示す。図３（Ｂ）は、本発明の一実施形態である微粒子捕集フィルタ状態検出装置１０において状態検出部２４が図３（Ａ）に示す圧力値Ｐｉｎ，ＰｏｕｔそれぞれにＦＦＴ処理を施した後のスペクトル強度の周波数データを表した波形図を示す。
　図４は、フィルタ前後での圧力波形を比較した図を示す。図５（Ａ）は、本発明の一実施形態である微粒子捕集フィルタ状態検出装置１０においてＤＰＦ上流側の圧力値Ｐｉｎに対するＦＦＴ処理後のスペクトル強度を表した波形図を示す。図５（Ｂ）は、本発明の一実施形態である微粒子捕集フィルタ状態検出装置１０においてＤＰＦ下流側の圧力値Ｐｏｕｔに対するＦＦＴ処理後のスペクトル強度を表した波形図を示す。また、図６は、本発明の一実施形態である微粒子捕集フィルタ状態検出装置１０による効果を説明するための図を示す。尚、図６には、内燃機関１２の回転数別かつトルク別の、ＤＰＦ前後の圧力値Ｐｉｎ，ＰｏｕｔそれぞれのＦＦＴ処理後のゼロ周波数Ｆ０でのスペクトル強度と基本周波数Ｆｂａｓｅでのスペクトル強度との和のＤＰＦ前後差ＤＩと、フィルタに堆積するＰＭの堆積量と、の関係の一例が示されている。
　本実施形態において、状態検出部２４は、所定のサンプリングタイムごとに、上流側圧力センサ２０の出力信号に基づいてＤＰＦ１４の上流側に生じる上流側圧力Ｐｉｎ［ｋＰａ］を検出すると共に、下流側圧力センサ２２の出力信号に基づいてＤＰＦ１４の下流側に生じる下流側圧力Ｐｏｕｔ［ｋＰａ］を検出する（ステップ１００）。そして、所定時間（例えば１０秒など）中における上流側圧力値Ｐｉｎ及び下流側圧力Ｐｏｕｔのデータをそれぞれメモリに記憶する。
　状態検出部２４は、上記の如く記憶した所定時間中における上流側圧力値ＰｉｎをＦＦＴ処理することで、その上流側圧力値Ｐｉｎを周波数ごとのスペクトル強度Ｉｉｎ［（ｋＰａ）２／Ｈｚ］に変換すると共に、上記の如く記憶した所定時間中における下流側圧力値ＰｏｕｔをＦＦＴ処理することで、その下流側圧力値Ｐｏｕｔを周波数ごとのスペクトル強度Ｉｏｕｔ［（ｋＰａ）２／Ｈｚ］に変換する（ステップ１０２；図３参照）。かかる変換が行われると、エンジン回転数ＮＥに応じた脈動が発生する上流側圧力値Ｐｉｎ及び下流側圧力Ｐｏｕｔがそれぞれ、その位相と成分とに分離されることとなる。
　状態検出部２４は、上記の如きＦＦＴ処理後のスペクトル強度から基本周波数Ｆｂａｓｅを検出・選択する（ステップ１０４）。具体的には、ＦＦＴ処理後の周波数ごとのスペクトル強度のうちスペクトル強度が最大値となる周波数を基本周波数Ｆｂａｓｅとする。尚、基本周波数Ｆｂａｓｅは、内燃機関１２の回転数ＮＥとその内燃機関１２の種類に応じて一義的に決定される。基本周波数Ｆｂａｓｅは、回転数ＮＥが小さいほど低周波数となり、回転数ＮＥが大きいほど高周波数となる。
　また、基本周波数Ｆｂａｓｅを求める他の手法としては、（１）内燃機関１２が直列４気筒４サイクルエンジンであるときは、ＦＦＴ処理後のスペクトル強度のうち所定以上のスペクトル強度が現れる最も低い周波数の４倍の周波数を基本周波数Ｆｂａｓｅとしてもよいし、また、（２）検出した内燃機関１２の回転数ＮＥに基づいて、その回転数ＮＥに応じた脈動の基本周波数Ｆｂａｓｅを求めることとしてもよい。この場合、内燃機関１２が直列４気筒４サイクルエンジンであって、回転数ＮＥが２０００ｒｐｍであるときは、基本周波数Ｆｂａｓｅは６６．６７Ｈｚに設定される。
　状態検出部２４は、上記の如くＦＦＴ処理後の各スペクトル強度Ｉｉｎ，Ｉｏｕｔ及び基本周波数Ｆｂａｓｅを算出すると、次に、周波数がゼロであるゼロ周波数Ｆ０でのスペクトル強度ＩｉｎＦ０，ＩｏｕｔＦ０を抽出すると共に、その算出した基本周波数Ｆｂａｓｅでのスペクトル強度ＩｉｎＦｂａｓｅ，ＩｏｕｔＦｂａｓｅを抽出する（ステップ１０６）。そして、それら上流側圧力値Ｐｉｎについてのスペクトル強度ＩｉｎＦ０，ＩｉｎＦｂａｓｅと下流側圧力値Ｐｏｕｔについてのスペクトル強度ＩｏｕｔＦ０，ＩｏｕｔＦｂａｓｅとに基づいて、ＤＰＦ１４に堆積するＰＭの堆積量Ｍ［ｇ／ｌ］を推定する。
　具体的には、状態検出部２４は、ＤＰＦ１４のＰＭ堆積量Ｍ［ｇ／ｌ］を推定するうえで、まず、次式（１）に従って上流側圧力値Ｐｉｎについてゼロ周波数Ｆ０でのスペクトル強度ＩｉｎＦ０をＸ倍した値と基本周波数Ｆｂａｓｅでのスペクトル強度ＩｉｎＦｂａｓｅをＹ倍した値との和（以下、第１のスペクトル和と称す）Ａｉｎを算出すると共に、次式（２）に従って下流側圧力値Ｐｏｕｔについてゼロ周波数Ｆ０でのスペクトル強度ＩｏｕｔＦ０をＸ倍した値と基本周波数Ｆｂａｓｅでのスペクトル強度ＩｏｕｔＦｂａｓｅをＹ倍した値との和（以下、第２のスペクトル和と称す）Ａｏｕｔを算出する（ステップ１０８）。
　Ａｉｎ　＝ＩｉｎＦ０・Ｘ＋ＩｉｎＦｂａｓｅ・Ｙ　　　・・・（１）
　Ａｏｕｔ＝ＩｏｕｔＦ０・Ｘ＋ＩｏｕｔＦｂａｓｅ・Ｙ　・・・（２）
　尚、上記の値Ｘは、上記のスペクトル和Ａｉｎ，Ａｏｕｔを算出するうえでゼロ周波数Ｆ０でのスペクトル強度に乗算される係数である。また、上記の値Ｙは、上記のスペクトル和Ａｉｎ，Ａｏｕｔを算出するうえで基本周波数Ｆｂａｓｅでのスペクトル強度に乗算される係数である。これらの値Ｘ，Ｙは、所定の比になるように予め固定された値であり、例えばそれぞれ#65297;#12395;設定されている。
　状態検出部２４は、上記の如く算出した第１のスペクトル和Ａｉｎと第２のスペクトル和Ａｏｕｔとの差ＤＩ（＝Ａｉｎ－Ａｏｕｔ）を算出する（ステップ１１０）。そして、そのＤＩの大きさに基づいて、ＤＰＦ１４に堆積するＰＭの堆積量Ｍ［ｇ／ｌ］を推定する（ステップ１１２）。
　上流側圧力値Ｐｉｎについての第１のスペクトル和Ａｉｎと下流側圧力値Ｐｏｕｔについての第２のスペクトル和Ａｏｕｔとの差ＤＩは、ＤＰＦ１４へのＰＭの堆積量に応じて比例的・直線的に変化するものとなり、その堆積量が少ないほど小さく、その堆積量が多いほど大きくなる。
　状態検出部２４は、予め、ＤＰＦ１４へのＰＭの堆積量とそのＤＰＦ前後の圧力の周波数スペクトルについての上記の差ＤＩとの関係を記憶している。尚、このＰＭ堆積量と差ＤＩとの関係は、内燃機関１２の回転数ＮＥ又はトルクに応じて設定されているものであるのがよい。状態検出部２４は、上記ステップ１１２において、記憶しているＰＭ堆積量と上記の差ＤＩとの関係を参照して、上記ステップ１１０で算出した第１のスペクトル和Ａｉｎと第２のスペクトル和Ａｏｕｔとの差ＤＩを基に、更には内燃機関１２の回転数ＮＥ又はトルクを考慮して、ＤＰＦ１４に堆積するＰＭの堆積量Ｍを推定する。
　尚、状態検出部２４は、ＤＰＦ１４のＰＭ堆積量Ｍを推定するうえで、ＤＰＦ１４の初期圧力損失ΔＰや排気空気量（尚、圧力Ｐｉｎ，Ｐｏｕｔのデータを記憶する所定時間中の平均値であってもよい。）に応じて補正を施すこととしてもよい。例えば、同じ回転数ＮＥすなわち同じ基本周波数Ｆｂａｓｅであっても、スペクトル強度ＩｉｎＦｂａｓｅとＩｏｕｔＦｂａｓｅとの関係が圧力損失ΔＰの大きさに応じて変化するので、具体的には、圧力損失ΔＰが大きいほどＩｏｕｔＦｂａｓｅがより小さくなるので、ゼロ周波数Ｆ０でのスペクトル強度ＩｉｎＦ０，ＩｏｕｔＦ０並びに基本周波数Ｆｂａｓｅでのスペクトル強度ＩｉｎＦｂａｓｅ，ＩｏｕｔＦｂａｓｅに基づいてＰＭ堆積量Ｍを推定するのに、例えば、圧力損失ΔＰが大きいほどＩｏｕｔＦｂａｓｅを小さい値に補正することとしてもよい。
　このように、本実施例の微粒子捕集フィルタ状態検出装置１０においては、ＤＰＦ１４前後の上流側圧力Ｐｉｎ及び下流側圧力Ｐｏｕｔをそれぞれ所定のサンプリング時間ごとにサンプリングし、その圧力値Ｐｉｎ，ＰｏｕｔのデータについてＦＦＴ処理を施し、ゼロ周波数Ｆ０でのスペクトル強度ＩｉｎＦ０，ＩｏｕｔＦ０並びに内燃機関１２の回転数ＮＥに応じた基本周波数Ｆｂａｓｅでのスペクトル強度ＩｉｎＦｂａｓｅ，ＩｏｕｔＦｂａｓｅに基づいて、ゼロ周波数Ｆ０でのスペクトル強度と基本周波数Ｆｂａｓｅでのスペクトル強度との和の、ＤＰＦ前後差ＤＩを算出し、その算出したＤＰＦ前後差ＤＩに基づいてＤＰＦ１４に堆積するＰＭの堆積量Ｍを推定する。
　ＤＰＦ１４の上流側と下流側とには、ＤＰＦ１４を通過する排ガスにより圧力差ΔＰ（＝Ｐｉｎ－Ｐｏｕｔ）が生ずる。この圧力差ΔＰは、ＤＰＦ１４の存在による圧力損失であって、ガス流量や流速，温度などに応じて変化する。また、排ガスの圧力は、内燃機関１２の排気脈動により大きく変動し、内燃機関１２の回転数ＮＥに応じた基本周波数Ｆｂａｓｅの成分及びその基本周波数Ｆｂａｓｅの高調波成分を含む。排ガスがＤＰＦ１４を通過する過程では、ＤＰＦ１４前後で、脈動による圧力交流成分の振幅が減衰すると共に、時間平均値である圧力直流成分が減衰する。このため、ＤＰＦ１４前後で、ゼロ周波数Ｆ０でのスペクトル強度が減衰すると共に、基本周波数Ｆｂａｓｅやその高調波でのスペクトル強度が減衰する。
　これらのゼロ周波数Ｆ０でのスペクトル強度の減衰率及び基本周波数Ｆｂａｓｅでのスペクトル強度の減衰率はそれぞれ、ＤＰＦ１４へのＰＭの堆積量に応じて変化し、ゼロ周波数Ｆ０でのスペクトル強度と基本周波数Ｆｂａｓｅでのスペクトル強度との和の、ＤＰＦ前後の減衰率は、ＤＰＦ１４へのＰＭ堆積量が多いほど大きくなる。すなわち、ＤＰＦ１４の上流側におけるゼロ周波数Ｆ０と基本周波数Ｆｂａｓｅとのスペクトル強度の和（第１のスペクトル和Ａｉｎ）に対するＤＰＦ１４の下流側におけるゼロ周波数Ｆ０と基本周波数Ｆｂａｓｅとのスペクトル強度の和（第２のスペクトル和Ａｏｕｔ）は、ＰＭ堆積量が多いほど小さくなる。
　従って、本実施例の微粒子捕集フィルタ状態検出装置１０によれば、排ガス中のＰＭを捕集するＤＰＦ１４のＰＭ堆積量を推定するうえで、ＤＰＦ１４前後の各圧力値Ｐｉｎ，ＰｏｕｔをＦＦＴ処理して得られるスペクトル強度Ｉｉｎ，Ｉｏｕｔを用いることで、ＤＰＦ１４前後の圧力の時間のズレとして現れる位相ズレを無くすことができるので、排ガス中のＰＭを捕集するＤＰＦ１４のＰＭ堆積量を精度よく推定することが可能である。
　また、本実施例においては、排ガス中のＰＭを捕集するＤＰＦ１４のＰＭ堆積量を推定するうえで、ＤＰＦ前後それぞれにおける圧力の交流成分と直流成分とを考慮した値の、ＤＰＦ前後差（具体的には、ＤＰＦ１４上流側についてのゼロ周波数Ｆ０でのスペクトル強度ＩｉｎＦ０と基本周波数Ｆｂａｓｅでのスペクトル強度ＩｉｎＦｂａｓｅとの和（第１のスペクトル和Ａｉｎ）と、ＤＰＦ１４下流側についてのゼロ周波数Ｆ０でのスペクトル強度ＩｏｕｔＦ０と基本周波数Ｆｂａｓｅでのスペクトル強度ＩｏｕｔＦｂａｓｅとの和（第２のスペクトル和Ａｏｕｔ）との差ＤＩ）を用いる。
　かかる構成においては、圧力の直流成分をも含めてＤＰＦ前後でのスペクトル強度差からＰＭ堆積量が推定されるので、図６に示す如く、内燃機関１２の高回転時すなわち排ガスの高流速時にもまた内燃機関１２の低回転時すなわち排ガスの低流速時にも、排ガス中のＰＭを捕集するＤＰＦ１４のＰＭ堆積量を精度よく推定することが可能であると共に、内燃機関１２の高トルク時にもまた低トルク時にも、排ガス中のＰＭを捕集するＤＰＦ１４のＰＭ堆積量を精度よく推定することが可能である。すなわち、内燃機関１２の回転数やトルクの大きさに関係なく、ＤＰＦ１４のＰＭ堆積量を精度よく推定することが可能である。
　本実施例のシステムにおいて、状態検出部２４は、上記の如くＤＰＦ１４のＰＭ堆積量Ｍを推定すると、そのＰＭ堆積量Ｍが所定量に達しているか否かを判別する。尚、この所定量は、ＤＰＦ１４から下流側へのＰＭ漏れが生ずる可能性がある値の下限値であって、予め規定されている。状態検出部２４は、推定したＰＭ堆積量Ｍが所定量に達していると判別した場合、エンジンＥＣＵ３２に対してＤＰＦ１４の再生指令を行う。かかる処理が行われると、ＤＰＦ１４が加熱されるので、そのＤＰＦ１４に堆積したＰＭが燃焼除去される。従って、本実施例のシステムによれば、ＰＭが堆積したＤＰＦ１４の再生を、ＤＰＦ１４に最大捕集量（尚、この最大捕集量とは、ＰＭ燃焼時にＤＰＦ１４にクラックが生じない量のことである。）のＰＭが堆積する直前にタイミング良く実施することができ、ＤＰＦ１４の繰り返し利用を促進することが可能である。
　また、ＤＰＦ１４の上流側圧力値Ｐｉｎ及び下流側圧力値ＰｏｕｔへのＦＦＴ処理後の位相波形を比較することにより、ＤＰＦ１４の微細クラックや微量のＰＭ変化などのより詳細な情報を得ることができる。位相は、スペクトル強度のピーク周波数と同じ周波数にピークを持ち、ＤＰＦ１４の上流側と下流側とで変化する。ＤＰＦ１４の上流側から下流側にかけて、スペクトル強度は減衰するが、位相は増長することもあるため、位相の減衰率や増長率からＤＰＦ１４の状態を推定することができる。
　ところで、上記の実施形態においては、ＤＰＦ１４が特許請求の範囲に記載した「フィルタ」に相当している。また、状態検出部２４が、上流側圧力センサ２０の出力信号に基づいてＤＰＦ１４の上流側に生じる上流側圧力Ｐｉｎを検出することにより特許請求の範囲に記載した「第１の圧力検出手段」が、下流側圧力センサ２２の出力信号に基づいてＤＰＦ１４の下流側に生じる下流側圧力Ｐｏｕｔを検出することにより特許請求の範囲に記載した「第２の圧力検出手段」が、上流側圧力値ＰｉｎにＦＦＴ処理を施すことにより特許請求の範囲に記載した「第１のフーリエ変換手段」が、下流側圧力値ＰｏｕｔにＦＦＴ処理を施すことにより特許請求の範囲に記載した「第２のフーリエ変換手段」が、上流側圧力値ＰｉｎについてのＦＦＴ処理後のゼロ周波数Ｆ０でのスペクトル強度ＩｉｎＦ０及び基本周波数Ｆｂａｓｅでのスペクトル強度ＩｉｎＦｂａｓｅと、下流側圧力値ＰｏｕｔについてのＦＦＴ処理後のゼロ周波数Ｆ０でのスペクトル強度ＩｏｕｔＦ０及び基本周波数Ｆｂａｓｅでのスペクトル強度ＩｏｕｔＦｂａｓｅと、を比較することにより特許請求の範囲に記載した「比較手段」が、それぞれ実現されている。
　また、上記の実施形態においては、状態検出部２４が、上流側圧力値ＰｉｎについてのＦＦＴ処理後のゼロ周波数Ｆ０でのスペクトル強度ＩｉｎＦ０と基本周波数Ｆｂａｓｅでのスペクトル強度ＩｉｎＦｂａｓｅとの和（第１のスペクトル和Ａｉｎ）を算出することにより特許請求の範囲に記載した「第１の和算出手段」が、下流側圧力値ＰｏｕｔについてのＦＦＴ処理後のゼロ周波数Ｆ０でのスペクトル強度ＩｏｕｔＦ０と基本周波数Ｆｂａｓｅでのスペクトル強度ＩｏｕｔＦｂａｓｅとの和（第２のスペクトル和Ａｏｕｔ）を算出することにより特許請求の範囲に記載した「第２の和算出手段」が、上記第１のスペクトル和Ａｉｎと上記第２のスペクトル和Ａｏｕｔとの差ＤＩを算出することにより特許請求の範囲に記載した「差算出手段」が、それぞれ実現されている。
　また、上記の実施形態においては、状態検出部２４が、上記の差ＤＩに基づいてＤＰＦ１４に堆積するＰＭの堆積量Ｍを推定することにより特許請求の範囲に記載した「フィルタ状態判定手段」が、ＰＭ堆積量Ｍが所定量に達していると判別した場合にＤＰＦ１４を加熱すべくエンジンＥＣＵ３２にＤＰＦ１４の再生指令を行うことにより特許請求の範囲に記載した「フィルタ再生指示手段」が、それぞれ実現されている。
　以上、本発明の好ましい実施形態について説明したが、本発明はかかる特定の実施形態に限定されるものではなく、特許請求の範囲に記載した要旨内において様々な変形又は変更が可能である。
　例えば、上記の実施形態においては、ＤＰＦ１４前後の圧力値Ｐｉｎ，ＰｏｕｔそれぞれのＦＦＴ処理後のゼロ周波数Ｆ０でのスペクトル強度と基本周波数Ｆｂａｓｅでのスペクトル強度との和の、ＤＰＦ前後差ＤＩに基づいて、ＤＰＦ１４に堆積するＰＭの堆積量を推定することとしているが、本発明はこれに限定されるものではなく、そのＤＰＦ前後差ＤＩに基づいて、ＤＰＦ１４に堆積する金属を成分とする不燃残留物の量（すなわち、Ａｓｈ堆積量）を推定することとしてもよい。
　すなわち、ＤＰＦ１４の初期状態（製造直後など）では不燃残留物が堆積していないが、ＤＰＦ１４の使用が継続すると、徐々にそのＤＰＦ１４に不燃残留物が堆積する。この不燃残留物は、ＤＰＦ１４が加熱により再生されても除去されない。また、上記のＤＰＦ前後差ＤＩは、ＤＰＦ１４に不燃残留物が堆積しているときと堆積していないときとで大きく変化する。従って、ＤＰＦ１４の初期状態において圧力値Ｐｉｎ，ＰｏｕｔそれぞれのＦＦＴ処理後のゼロ周波数Ｆ０及び基本周波数Ｆｂａｓｅでのスペクトル強度に基づく上記第１のスペクトル和Ａｉｎと上記第２のスペクトル和Ａｏｕｔとの和のＤＰＦ前後差ＤＩを記憶したうえで、ＤＰＦ１４の再生実施後に、圧力値Ｐｉｎ，ＰｏｕｔそれぞれのＦＦＴ処理後のゼロ周波数Ｆ０及び基本周波数Ｆｂａｓｅでのスペクトル強度に基づく上記第１のスペクトル和Ａｉｎと上記第２のスペクトル和Ａｏｕｔとの和のＤＰＦ前後差ＤＩを算出し、そのＤＰＦ前後差ＤＩの、ＤＰＦ１４の初期状態からＤＰＦ１４の再生実施後までの変化に基づいてＤＰＦ１４に堆積する不燃残留物量を推定することができる。例えば、ＤＰＦ１４の初期状態から再生実施後にかけての上記ＤＰＦ前後差ＤＩの変化量が多いほど、ＤＰＦ１４に堆積する不燃残留物量が多いと判定することができる。
　尚、上記のＤＰＦ１４への不燃残留物量の推定は、上記の実施形態においてＤＰＦ１４へのＰＭの堆積量Ｍが所定量に達することによりそのＤＰＦ１４が加熱再生された直後に行われるものであってもよいし、また、上記の実施形態とは異なる手法でＤＰＦ１４が再生された直後に行われるものであってもよい。
　また、上記の実施形態においては、ＤＰＦ１４前後の圧力値Ｐｉｎ，ＰｏｕｔそれぞれのＦＦＴ処理後のゼロ周波数Ｆ０及び基本周波数Ｆｂａｓｅでのスペクトル強度に基づく上記第１のスペクトル和Ａｉｎと上記第２のスペクトル和Ａｏｕｔとの和のＤＰＦ前後差ＤＩに基づいて、ＤＰＦ１４に堆積するＰＭの堆積量を推定することとしているが、本発明はこれに限定されるものではなく、そのＤＰＦ前後差ＤＩに基づいて、ＤＰＦ１４の異常又は故障を判定又は推定することとしてもよい。
　すなわち、上記のＤＰＦ前後差ＤＩは、ＤＰＦ１４が正常状態にあれば、そのＤＰＦ１４へのＰＭや不燃残留物の堆積などに伴って所定の範囲内で変化（低下）する一方、ＤＰＦ１４に異常又は故障が発生すると、上記の所定の範囲を外れて変化するものである。従って、ＤＰＦ１４前後の圧力値Ｐｉｎ，ＰｏｕｔそれぞれのＦＦＴ処理後のゼロ周波数Ｆ０及び基本周波数Ｆｂａｓｅでのスペクトル強度に基づく上記第１のスペクトル和Ａｉｎと上記第２のスペクトル和Ａｏｕｔとの和のＤＰＦ前後差ＤＩの変化に基づいてＤＰＦ１４の異常又は故障を判定又は推定することができる。例えば、そのＤＰＦ前後差ＤＩが、予め定めた所定の範囲を外れて変化するときは、ＤＰＦ１４に異常又は故障が発生していると判定又は推定することができる。尚、ＤＰＦ１４に異常又は故障が発生していると判定又は推定されたときは、その異常や故障を車両運転者や使用者，作業者に知らせるべく、アラーム、ランプの点滅，点灯等により警告を行うこととしてもよい。
　また、上記の実施形態においては、ＤＰＦ１４を再生するのに状態検出部２４からエンジンＥＣＵ３２へＤＰＦ１４の再生指令を行うこととしているが、本発明はこれに限定されるものではなく、ＤＰＦ１４の内部や周囲に加熱ヒータを設け、状態検出部２４からその加熱ヒータへの電力供給によりＤＰＦ１４の加熱再生を図ることとしてもよい。
　更に、上記の実施形態や変形例においては、ＤＰＦ１４の状態を判定するのに、ＤＰＦ１４前後の圧力値Ｐｉｎ，ＰｏｕｔそれぞれのＦＦＴ処理後のゼロ周波数Ｆ０及び基本周波数Ｆｂａｓｅでのスペクトル強度に基づく上記第１のスペクトル和Ａｉｎと上記第２のスペクトル和Ａｏｕｔとの和のＤＰＦ前後差ＤＩを用いることとしているが、内燃機関１２の回転数ＮＥに従った基本周波数Ｆｂａｓｅでのスペクトル強度に代えて、その基本周波数Ｆｂａｓｅよりも高い高調波の特定周波数Ｆでのスペクトル強度を用いることとし、ＤＰＦ１４前後の圧力値Ｐｉｎ，ＰｏｕｔそれぞれのＦＦＴ処理後のゼロ周波数Ｆ０及びその特定周波数Ｆでのスペクトル強度に基づく第１のスペクトル和Ａｉｎと第２のスペクトル和Ａｏｕｔとの和のＤＰＦ前後差ＤＩを算出して、ＤＰＦ１４の状態判定を行うこととしてもよい。
　１０　微粒子捕集フィルタ状態検出装置
　１２　内燃機関
　１４　ＤＰＦ
　１６　排気流通路
　２０　上流側圧力センサ
　２２　下流側圧力センサ
　２４　状態検出部
　３２　エンジンＥＣＵ
Patent WO2013132624A1 - 微粒子捕集フィルタ状態検出装置 - Google Patents
