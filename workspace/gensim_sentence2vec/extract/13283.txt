  適用先:  SharePoint Server 2010 トピックの最終更新日:  2011-03-17  サマリー: この記事では、小規模、中規模、および大規模の SharePoint Server 2010 ファームを含め、Microsoft SharePoint Server 2010 検索のさまざまな展開における容量計画について説明します。   この記事では、SharePoint Server 2010 検索のグループ作業環境展開における容量計画について説明します。この記事には、3 つのサンプル検索ファーム構成の以下の情報が含まれます。  テスト環境の仕様 (ハードウェア、ファーム トポロジ、構成など)  データの生成に使用されるワークロード (ユーザーの数とクラスとファーム使用特性を含む)  テスト用ファームのデータセット (データベースのコンテンツとサイズを含む)  テストされる環境に固有の正常性とパフォーマンスのデータ  この記事には一般的なテスト データが含まれるほかに、似た環境を展開するために必要なハードウェア、トポロジ、および構成を決定する方法に関する推奨事項と、適切な容量とパフォーマンスの特性に合わせた環境の最適化方法に関する推奨事項も含まれます。 SharePoint Server 2010 検索には、以前のバージョンよりも豊富な機能セットおよび柔軟なトポロジ モデルが含まれます。このアーキテクチャを使用してより強力な機能と機能性をユーザーに提供する前に、ファームの容量とパフォーマンスへの影響を慎重に考慮する必要があります。 このドキュメントを読むことで次の方法を理解できます。  環境におけるパフォーマンスと容量の目標を定義する。  ユーザーの数と種類をサポートするために必要なハードウェア、および展開する機能を計画する。  最適な信頼性と効率を得るための物理トポロジと論理トポロジを設計する。  パフォーマンスと容量の目標を達成するために環境のテスト、検証、およびサイズ調整を行う。  環境の主なインジケーターを監視する。  この記事を読むには、以下の点について十分に理解している必要があります。   SharePoint Server 2010 での容量管理と規模設定    SharePoint Server 2010 の容量管理: ソフトウェアの境界と制限   可用性  冗長性  データベース固有のコンテンツ 
この記事のシナリオでは、ファームの適切な容量の計画を開始するのに役立つ可能性のある前提条件と共に、小規模、中規模、および大規模のテスト ファームについて説明します。これらのファーム サイズは、以下の前提条件に基づく概算値です。  クロールされるリポジトリは、主に、SharePoint Server コンテンツである。  大多数のユーザー クエリはインデックスの同一の 33 パーセント内で見つかる可能性がある。つまり、ほとんどのユーザーは同じ用語に対してクエリを実行する。  既定のメタデータ設定が使用されており、プロパティ データベースが急激に増大することはない。  中規模および大規模ファームでは、専用のクロール ターゲット (フロントエンド Web サーバー) が存在する。これを使用して、これらの検索ファームのクロール コンポーネントにコンテンツを提供できる。  これらのファームで取得される測定値は、ネットワークおよび環境の条件によって異なる可能性がある。また、この測定値には、最大で 10 パーセントの誤差がある。 
適切なシナリオを選択するには、以下の点について検討します。   コーパスのサイズ検索可能にするコンテンツの分量を判断します。アイテムの総数には、ドキュメント、Web ページ、リスト アイテム、ユーザーを含め、すべてのオブジェクトを含める必要があります。   可用性可用性の要件を判断します。ユーザーが必要とするのは、特定のサーバーで障害が発生しても稼働を続けられる検索ソリューションでしょうか。   コンテンツの新しさ検索結果の鮮度について判断します。ユーザーがコンテンツを変更してから、検索結果に更新後のコンテンツが表示されるようになるまで、どの程度の時間を置く必要があるでしょうか。コンテンツの変更はどの程度の頻度で生じるでしょうか。   スループットコンテンツを同時に検索するユーザー数を判断します。これには、クエリ ボックスに入力するユーザー、背後で実行されるクエリ (データを自動的に検索する Web パーツなど)、または検索システムからのセキュリティによるトリミングが必要な URL を含むアクティビティ フィードを要求する Microsoft Outlook 2010 Social Connector が含まれます。  これらの検討結果から、以下のシナリオのいずれかを選択します。   小規模ファーム1 つの SharePoint Server ファーム上でいくつかのリソースを共有する 1 つの Search Service アプリケーションを含みます。一般的に、検索の対象とするコンテンツの量に制限のある (1,000 万アイテム未満) 小規模展開に適しています。求められる新しさの目標によっては、業務時間中に増分クロールが実行される場合があります。   中規模ファーム専用ファームに 1 つ以上の Search Service アプリケーションを含みます。専用ファームは、他のファームに検索サービスを提供します。検索の対象とするコンテンツの量は中程度 (最大で 4,000 万アイテム) です。新しさの目標を満たすために、業務時間中に増分クロールが実行される可能性があります。   大規模ファーム専用ファームに 1 つ以上の Search Service アプリケーションを含みます。専用ファームは、他のファームに検索サービスを提供します。検索の対象とするコンテンツの量は大程度 (最大で 1 億アイテム) です。新しさの目標を満たすために、業務時間中に増分クロールが実行される可能性があります。 
これらの 3 つのシナリオを使用してファームの初期ステージで容量を見積もることができます。ファームは、コンテンツがクロールされるにつれて、検索ライフ サイクルの以下のステージを移動します。   インデックスの取得これは、データ生成の最初のステージです。このステージの期間は、コンテンツ ソースのサイズによって決まります。このステージには以下の特徴があります。  コンテンツのフル クロール (同時実行される可能性がある)。  クロール システムの厳密な監視。これにより、クロールするホストがクロールのボトルネックにならないようにします。  頻繁なマスター結合。マスター結合は、クエリ コンポーネントごとに、特定の量のインデックスが変更された場合に起動されます。    インデックスのメンテナンスこれは、ファームの最も一般的なステージです。このステージには以下の特徴があります。  すべてのコンテンツの増分クロールがあります。  SharePoint Server コンテンツ クロールの場合、クロール中に発生する大多数の変更はセキュリティの変更です。  マスター結合は頻繁に発生しません。マスター結合は、クエリ コンポーネントごとに、特定の量のインデックスが変更された場合に起動されます。    インデックスのクリーンアップこのステージは、コンテンツの変更によって、ファームがインデックスのメンテナンス ステージから移動する場合に実行されます。たとえば、コンテンツ データベースまたはサイトが Search Service アプリケーション間を移動する場合です。このステージは、以下のどちらかが発生した場合に起動されます。  コンテンツを提供するホストが、検索クローラーによって長期間見つけられない。  コンテンツ ソースまたは開始アドレスが Search Service アプリケーションから削除された。  
SharePoint Server 2010 Search のパフォーマンスと容量の要件を見積もる
