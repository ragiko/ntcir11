
これまで、NV35の開発コードネームで知られてきたNVIDIAの最新ハイエンドGPUGeForce FX 5900が、E3が開催される直前の5月12日に発表された。GeForce FX 5900ファミリーは、NV30の開発コードネームで知られるGeForce FX 5800ファミリーの後継となる製品で、より高い描画性能を発揮する製品として期待されている。
そんな中、3Dベンチマークとして最もよく利用されている3DMarkシリーズを開発しているFutureMarkが、NVIDIAの最新ドライバが3DMark03のスコアを上げるためにCheat(不正やインチキなどの意)をしていると指摘する文書を同社のWebサイトに公開し、それを防ぐための最新パッチを公開した。
今回は、GeForce FX 5900シリーズの最高グレードであるGeForce FX 5900 Ultraを搭載したリファレンスカードを入手したので、その性能と、さらに3DMark03の最新パッチで描画性能がどの程度変わってくるのかをチェックしていきたい。
エンジン、メモリクロックは下がったが、メモリ帯域幅が向上したGeForce FX 5900ファミリー
GeForce FX 5900ファミリーは、昨年の11月に発表されたNV30ことGeForce FX 5800ファミリーの後継となる製品で、GeForce FX 5800ファミリーの弱点を改良した最新GPUだ。ここ最近、ライバルのATI Technologiesが元気なこともあり、NVIDIAは3D描画性能競争で一歩遅れをとっているという見方が広がりつつあっただけに、このGeForce FX 5900ファミリーは、その状況を覆すという点で大きな意味がある。
GeForce FX 5900ファミリーが、GeForce FX 5800に比べて改良されている点は、大きく以下の4点がある。
(1) メモリバス幅が256bit
(2) UltraShadowの機能が追加
(3) Intellisample HCTの機能が追加
(4) ピクセルシェーダがCineFX 2.0に拡張
従来のGeForce FX 5800ファミリーでは、DDR2という高速なメモリデバイスを採用していたのだが、バス幅は128bitになっており、メモリのクロックこそATIのRADEON 9700 PROを上回っていたものの、256bit幅となっているRADEON 9700 PROがトータルの帯域幅では上回っていた。
現在のGPUでは、メモリのクロックやレイテンシよりも、帯域幅がボトルネックになるシーンが少なくないため、そうした帯域幅を必要とする3DアプリケーションではGPU本来の性能を発揮できなくなっていた。
今回のGeForce FX 5900ファミリーでは、メモリバス幅が256bitに拡張され、クロックはGeForce FX 5800 Ultraの1GHz(500MHzのDDR)に比べて下がり850MHz(425MHzのDDR、GeForce FX 5900 Ultra)になったものの、帯域幅は16GB/secから27.2GB/secへと引き上げられている。
UltraShadowは、影のボリュームを増やすことでよりリアルさを増す手法で、Intellisample HCT(高解像度テクスチャ圧縮)は高効率なテクスチャ圧縮とキャッシュを行なうための手法で、いずれも3Dの表示クオリティを向上させるための機能だ。
CineFX 2.0に関しては、詳細は明らかにされていないが、NVIDIAによれば、ピクセルシェーダエンジンにおいて浮動小数点演算を行なう場合、従来製品の2倍の性能を発揮するという。
ただ、どのようにこれが実現されているのかなどに関しては明らかになっておらず、様々な憶測を呼んでいる。詳しくは、後藤弘茂氏による「まだまだ疑問が残るGeForce FX 5900のアーキテクチャ」を参照して頂きたい。
なお、製品としては、GeForce FX 5900 Ultra(エンジン:450MHz/メモリ:850MHz)、GeForce FX 5900(エンジン、メモリクロックとも未公表)の2つのグレードが用意されており、メインメモリは最大で256MBまで搭載することが可能になっている。
FutureMarkがNVIDIAを非難する文章とパッチを公開
そうした中、3DMarkシリーズの開発ベンダとして知られるFutureMarkが、NVIDIAがリリースしたドライバ(Detonator FX V44.03とV43.51)を利用して同社のDirectX 9対応3Dベンチマークである3DMark03を実行したところ、いくつかのDriver Cheats(そのまま訳すとすれば、ドライバによる不正)を行なっていることを発見したと、同社のWebサイトで公開したのだ。
下記のリンクがその問題の文章だ(英文、PDF)。
http://www.futuremark.com/companyinfo/3dmark03_audit_report.pdf
FutureMarkは、この文章の中で以下の点が問題であると指摘している。
【1】3DMark03のスクリーンがロードされることをドライバが認識すると、3DMark03が発行するバックバッファークリアコマンドを無視して、フレームレートを引き上げる
【2】ゲームテスト2で利用されるバーテックスシェーダの処理で、ドライバはバックバッファクリアコマンドを利用するかしないかを調整する。それにより、星の表示が若干おかしくなる
【3】ゲームテスト4のバーテックスシェーダの処理で、処理を軽くするために2つの静的に切り取られた船を加える。
【4】ゲームテスト4のピクセルシェーダの処理で、水のシェーダ処理などを他のシェーダ処理などに置き換えることで性能向上を実現している(その向上率は2倍近いという)
【5】同じくゲームテスト4で、シェーダの処理が他のシェーダ処理などに置き換えられている
【6】ゲームテスト1のバーテックスシェーダの処理で、フレームレートの削減が行なわれている
【7】ゲームテスト3のバーテックシェーダで、スコアダウンをさける仕組みが採用されている
【8】ピクセルシェーダ2.0のテストにおいて、やはりスコアダウンをさける仕組みが採用されている
となっている。これらの事象は、FutureMarkのベータプログラムに登録しているユーザーにより発見され、その後FutureMarkもこの現象を確認したという。これについて、FutureMarkは、くだんの文章の中でCheat(不正、インチキなど)と呼んで、かなり激しい調子でNVIDIAのドライバを非難している。
これに対するNVIDIAの広報による公式コメントはこうだ(なお、原文は英語であるため、筆者による翻訳であることをお断りしておく)。
「NVIDIAはFutureMarkのベータプログラム(参加するには多額の費用がかかる)には参加していない。このため、当社は他のサードパーティのソフトウェアベンダと行なっているシェーダプログラムを作成するための協力を、FutureMarkと行なう機会がない。当社は、FutureMarkがどのような目的で我々の製品をおとしめるような話を作ろうとしているかはわからないが、Unreal Tournament 2003やDOOM3のようなリアルなゲームを利用したベンチマークから、GeForce FX 5900が今日の市場に置いて最も高速なGPUであることは明白だと考える。
ゲームデベロッパーとは異なり、FutureMarkは彼らのアプリケーションをあるハードウェアベンダ(筆者注:もちろんNVIDIAのことを意味する)のハードウェアであまりうまく動かないようにしようとしている。なぜなら、そのハードウェアベンダが彼らに多額の資金を提供することを拒んだからだ。本当のゲームやアプリケーションこそが、そのハードウェアがエンドユーザーに対してどのような体験を与えることができるのかを示唆することができる。3DMark03は全くもってそうではないのだ。」
FutureMarkの文章を読む限り、FutureMarkのベータテスタになることで、追加のツールなどが使えるようになり、今回のNVIDIAのドライバで発生していることなどがチェックできるようになるようだが、残念ながら、筆者はFutureMarkのベータテスタではないので、FutureMarkが指摘することが本当に事実であるのかを検証することは不可能だ。
唯一出来ることと言えば、FutureMarkが公開した3DMark03のパッチ(Patch330)を当てることで、スコアがどのように変わるのかを確認することだろう。そこで、以下でそれを検証してみたい。
確かにPatch330を当てることでGeForce FX 5900 Ultraのスコアは下がる
それでは、3DMark03のパッチを当てる前と、Patch330を当てたあとのスコアを比較してみよう。比較対象としてGeForce FX 5800 UltraとATIのRADEON 9700 PROを搭載したビデオカードを用意した。なお、RADEON 9800 PROに関しては、手配の関係で間に合わなかったので、製品を入手し次第別のレポートとしてお伝えしていきたい。
【テスト環境1】
GeForce FX 5900 UltraGeForce FX 5800 UltraRADEON 9700 PRO
CPU
AKIBA PC Hotline! Hothotレビュー
