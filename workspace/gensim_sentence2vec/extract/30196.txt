
発表資料
20110806_ebook-typo_murakami_slide.pdf
I. はじめに～自己紹介［資料P2］
村上です。電子書籍の組版ってどうなの、というお話しをしたいと思います。まずさっき紹介いただきましたけれども、私は1990年頃にテキストを整形したりするフリーソフトウェアを、趣味で作ってたんです。それがきっかけで組版、印刷とマークアップ系、まあSGML、XHTML、HTMLなど、そのスタイルシート言語、XSLとかCSSとか、レイアウトを指定するための仕様というものに興味を持ってきました。
それで1999年に、そのスタイルシート言語を使ってXMLの自動組版をするというソフトの企画を、アンテナハウスに提案しまして、XSL Formatter、Antenna House Formatterとして製品化しまして、その開発者としてこの12年ぐらいやっております。その関係で、日本語組版に関係するCSSのテキスト・レイアウトの仕様などを決めることに関わっておりまして、EPUBの組版の仕様を策定することにも関わることになりました。
II. 電子書籍の組版とは［資料P3］
それで、電子書籍の組版とは。さっき言われましたけど、紙のイメージのままの固定レイアウトではない電子書籍を扱います。まあ、XML、HTML、自動組版ということがベースになります。これは私が本業でやっております組版ソフトなんですけれども、それとリフロー式の電子書籍の組版というのは、技術的に非常に同じようなものであるということです。それで、またウェブブラウザーの表示とも似ています。というか、ウェブブラウザーの表示というのは、リフロー方式の組版の代表的なものですね。で、それと電子書籍の表示というものも非常に似ている。
似ているどころか、これからの電子書籍の標準のフォーマットとして、主流となるであろうEPUBという形式なんですけど、その中味のデータというのが、ウェブと一緒であって、EPUBの中味はXHTML、それからCSSでスタイルを指定する。それから目次情報とか、本の情報、メタ情報などを入れて、ZIP形式で圧縮したものがEPUBといわれるデータの形式です。
また、EPUB以外の電子書籍フォーマットとして、ボイジャーさんのドットブックとか、シャープさんのXMDFなどもありますけども、それらも非常に似ていて、XMLまたはHTMLという、テキストにタグという形でマークアップをした形の構造化文書ですね。それがベースで、それにスタイルをつけている。非常に共通している。ウェブと電子書籍のレイアウトというのは、似ているということです。
III. 電子書籍組版で何が問題か［資料P4］
電子書籍組版で何が問題か。EPUBで使われるウェブのレイアウトの仕様、CSSなんですけども、これが日本語組版にとって十分なものではありませんでした。それでこの1年、いろんな努力があって進んでいるんだけれども、今までのEPUB2.0というのは、XHTMLとCSS level2という、ウェブで使われている技術なんですけども、これを使っていて、そのために縦書き・ルビ・圏点などはできなかった。だけれども、新しいEPUB3.0の仕様ができてくると、これから正式になってきますけども、それらが可能になります。
昨年からEPUB日本語組版対応という要求があって、それがCSS3、ウェブのレイアウトの仕様の縦書きですとか、日本語組版に関する仕様の策定を後押しすることになって、その成果としてEPUB3.0ができています。その背景として、世界標準仕様に日本語組版標準を反映させるための取り組みとして、『日本語組版処理の要件』という文書が、W3Cでまとめられています。これはJIS X 4051、日本語組版の標準ですね、その策定をやられていた組版の先生方が中心になってまとめられたものですね。非常に素晴らしい仕様なんですけど、それがベースにあります。
［資料P5］
Webブラウザエンジンを使うビューアは、CSSで出来ることしかできないという制約があります。だけれども、そうでない日本語電子書籍ビューアの組版だって、まだいまいちかなあと。まあそういう状況なんですけども、まず、WebKitを使った、電子書籍ビュアー、AppleのiPad、iPhoneのEPUBビュアーであるiBooksなどが代表ですけども、ウェブブラウザーではSafariとか、ChromeでもレンダリングエンジンはWebKitが使われています。Android端末でもそれが使われている。
だから、WebKitを使ったEPUBビュアーというのが、今も今後も標準として使われる。イーストさんでも最近、出たみたいですね(笑)。WebKitの日本語組版は、最近だいぶ進んでいます。もちろん縦書きにも最近対応して、だんだんよくなっていくと思います。でもちょっと、まだまだ、残念なところもあるみたいですね。かといって、WebKitではなくて、日本語電子書籍のためのビュアーとして作られているものも、だからといってそんなにいいかと言ったら、まだまだちょっと問題があって、まだまだ発展途上。いずれ両方とも発展していけば、差がなくなっていくのかなと思います。
［資料P6］
どうして、いろんなことがイマイチなのかなあということの一つとして言われていることは、非力なデバイスでのリフローをしなくちゃいけない。それで組版処理にいろんな複雑なことをやって、時間がかかっちゃダメだよというのが制約であって。だからいろいろと丁寧な処理がされていないのかなあというんだけど、頑張ればできることをやってないだけなのかなと思えることもあるかな。例として、約物を詰める処理をするかしないかということで、ひとつの例を書いたんだけども、こういう連続した約物があるところで、間延びしたして見えることを、ちゃんと意識して調整する、ということを、まだまだやっていたり、やっていなかったりということとかがありますね。
［資料P7］
ルビについてはちょっと長いのでとばします。［資料P8］
次、リフローでは、満足な結果にならない? 短い行長で分割できない単語が多い場合。これもさっき、道広さんからも言われましたように、禁則処理などをすると、行の中がアキアキになったりする。まあ、その状態よりは、行揃えナシの方がいいのかな、ということなど、電子書籍の組版にふさわしいルールが必要なのかな。
［資料P9］
行揃えをするかしないか、ということをどうするかということと、自動的に意味のあるところでの行分割ということが必要なんじゃないのかなあ。行揃えをしないと行末が不揃えになるんだけど、その場合に、単に行末が少しばかりギザギザになるならば、もうちょっと意味のあるところで改行していく、という方が読みやすくなるんじゃないかな。
これは書籍での見出しとかリードの部分などで使われているし、マンガのセリフなどでもよく使われています。手動で改行していってやっていることなんだけど、これは自動的にやるのがいいんじゃないのかな。方法としては、あらかじめテキストに、分割可能な場所を示すゼロ幅のスペースを入れておいて、そこでしか行分割しないモードで行を送る、という方法が一つ。これは今でもできる方法です。
それからもう一つは、組版時に日本語テキストを解析して、文節の切れ目など、意味のあるところでしか改行しないようにする。これはレイアウトエンジン、組版仕様などに関わるので……こういうことも、将来拡張としてあるのかなあと思います。
そういうことができるようになれば、日本語を読むのがむずかしい人達にとっても、読みやすい表示をするとか、読者のニーズによって、そのモードを使ったり、使わなかったりすることもできるんじゃないかなっていうこととか。さらに、文節の切れ目など、そういうところを自動的に解析できると、自動的な分かち書き表示をするようにしたりとか、そういう読み手側のニーズとか、日本語を学習している人とか、いろんな障害のために読むのが難しい、そういう人達のために、より読みやすい、アクセスしやすいものになるんじゃないか。それと、音声レベルの読み上げと同期して、もっと使いやすくしてあげることも容易で、いろんな組版の仕方を、いろいろ変えられるようにすることで、アクセシビリティの向上もあるんじゃないかなあという考え方です。
［資料P10］
版面は文字数・行数からか、マージンからか? 行長が字送りの整数倍というのは、どのくらい大事なのかな、と。これも日本語組版で、よく言われることなんですけれども、日本語組版は文字数・行数から決める。そうじゃない画面のサイズがあって、それからマージンをとってってことをやっていくと、ちゃんと行長が字送りの整数倍にならないと、左側のように、文字間が段落の最後の行以外はアキアキになってしまう。そういうことがおきますと。だから右側の方の行のように、ちゃんと行長が字送りの整数倍になるような、制御をするべきなんだと。
でもプロポーショナルな文字組みにすれば、それはあまり関係なくなるし、またデザインによっては、漢字と仮名で字送りが違う、そういう方法もあります。だから、これも場合によりけりなのかなと思っておりますが、一応日本語組版の基本ということでは、字送りの整数倍が読みやすいということが言えると思います。
［資料P11］
それから、図版の配置ということも、電子書籍ではかなり問題になってくると思います。EPUBの仕様だとウェブと同じですから、単純なフロート配置というのができますけども、将来もっと自由な配置というのが、やはり同じウェブの仕様である、CSS3のフロート仕様がもっと良くなっていけば、いろいろとできるんじゃないかな。一つの例として段組みで、段組みの必ず隅にいくような形で図版を配置する、そういうようなこともリフロー型の電子書籍でもあり得るんじゃないかな。
IV. まとめ～電子書籍組版はどうなる［資料P12］
ということで、まとめとしては、電子書籍組版は、紙の本でされてきたことの多くは電子書籍にも引き継がれ発展するだろうと思います。EPUB3.0対応は、まあこれからですけど、期待していいかなあと。
それから、組版体裁、スタイルの指定は本を作る側で固定するばかりでなく、読み手の環境によって最適にできるようになるだろう。たとえば、画面の幅が大きくなれば、段組みの段数が増えるとか、そういうことが自動的にできるようになればいいかなあと。
ユーザーのニーズや好みによって、いろいろ変えられる。フォントを変えたり、文字の大きさを変えたり、それはまあ当然ですけど、縦書き・横書きを変えられるようになればいいかなあと。そういったいろいろ違った組版ができてよいのじゃないかなと思ってます。それによって、いろんなニーズにあった組版ができる。アクセシビリティーも向上化されていく、などです。ありがとうございました。
文字の学校 8月6日シンポジウム 電子書籍の組版を考える
