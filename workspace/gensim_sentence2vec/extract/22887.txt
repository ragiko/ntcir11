動画,音声,変換,エンコード,フリーソフト,VLC,地デジなどについて。
VLC media Playerは動画ファイルを再生する以外にも、色々な機能が備わっています。今回はVLC media Playerで動画や音声を変換する方法を紹介します。
VLCmediaPlayerというフリーソフトは、様々なデコーダーやプラグインが内蔵され、ネットで拾える動画ならrm形式以外ほぼ全て再生出来るんじゃないかと思われる非常に優れたプレーヤーです。
以前このブログでVLC media playerを紹介したエントリはこちら
VLC media playerのダウンロードはこちら
そして何でも再生できるだけでなく、色々と優秀な機能を兼ね備えています。
なんとな～く分かってはいたのですが、今まで「そんな機能は所詮オマケでしょ。」と今まで試さずじまいでした。
が。。。
最近地デジ番組を録画するようになり、tsファイル内のaac音声の扱いに手を焼いており、VLC mediaplayerを使うと驚くほど簡単に音声の抜き出しが出来ることが分かりました。
以下、VLC media playerを使用して動画及びその音声部分を変換したり、抜き出したりする方法の紹介です。
はじめに
VLCmediaplayerのインストール、基本的な使い方等は以前に紹介したエントリを参照下さい。
VLCを使用しての動画変換は、以下の様な作業には向きません。別の変換ソフトの使用を勧めます。
X  動画の大きさをリサイズしたい(640X480320X240など)
X  DVDに字幕を焼き付けて変換したい
X  動画にノイズ除去等のフィルタをかけたい
上記のような処理をする場合はVLC単体では無理です。
他の変換ソフトで上手く変換できない場合や、リサイズ、フィルタ作業なしの一発変換に向いていると思います。
VLC media playerで動画変換の方法1
まずはメニューバーより 「ファイル」 ≫ 「ウィザード」を選択
「ファイルを開く」から変換する方法もあります。MPEG-TS形式からMPEG-PS形式への変換だけならば、「ファイルを開く」から変換する方が良いかもしれません。このページの最後の方で解説しています。
「Transcode/Save to file」(変換/ファイルを保存)にチェックを入れ、「Next」ボタンを押します
このような画面が現れるので「選択」ボタンを押します
参照ボタンを押して、変換したい動画や音声ファイルを指定、「OK」を押します。
字幕ファイルの選択も出来ますが、VLCプレーヤーの字幕表示機能はあまり美しくないので、動画に字幕を焼き付けたい場合はHandBrake、VirtualDub+VobSub等、別の方法をオススメします。
「高度なオプション」も、HDD内のファイルを変換するのには必要ないかと思われます。
先の画面で「OK」を押すと入力画面に戻ります。
「Partial Extract」にチェックを入れると、下のボックスに数字を入力できるようになります。
上記のように「10」、「20」と入力すると、元動画の10秒目から20秒目のみを部分的にエンコード出来るようになります。
(注意:aviファイルなどを変換する際は上手く秒数指定できますが、地デジtsファイルでは秒数の指定は上手く作動しません)
「Next」ボタンを押すと次のダイアログに進みますが、ここからは個人の好みの設定に変換する作業になります。
地デジ放送を、音声のみ変換してそのまま使用
ソース動画が地デジ放送等で、mpeg動画のまま音声部分のみを扱い易い形式に兼官する事も出来ます。
ビデオ部分にチェックを入れないでおけば、ビデオ部分に変換作業は入りません。
ブルーレイに焼いたり、HDビデオのまま保存したい人にオススメの設定です。
その場合、次のダイアログではMPEG PSまたはMPEG TSを選択しましょう。
PSはPCで視聴、再編集する際に扱い易いデータ形式、TSはブルーレイに焼いたりする時に適したデータ形式になります。
「まずは編集」と考えている場合は、一旦PSに変換、編集後にVLCでMPEG TSに再変換するのがスマートだと思います。
地デジ放送TSファイルの音声だけを変換、動画と切り離したい
DGIndexやTSdemuxを使い、音声部分を先に分離してからでも良いのですが
ビデオコーデックに「Dummy」を使用すればTSファイルから直接 音声部分だけを「変換しながら」抜き出す事が可能。編集スタイルは自分に合った方法で。
VLCmediaPlayerでmp3やmpeg4オーディオにすると、VBRで圧縮してしまいます。VBRでは後から動画と結合する際に不都合が生じる場合が多いので、一旦無圧縮(Uncompressed,integer)形式に変換しておくのが無難です。
もちろん無圧縮を選んだ場合、ビットレートの数値は無視されます。
もちろんWAV形式を選択しておきます。
様々な形式の動画を変換したい
avi,flv,mp4,mkv等さまざまな動画を、コーデックやコンテナを固定して後から管理、視聴しやすくする目的などでも、VLCを利用・変換しておくのも良いかもしれません。
あくまで変換例。自分の管理し易い、または再生しやすいコーデックを選びます。
VLCでの動画変換はお手軽ですが、VP6 FLV形式やH264 MP4動画の中には、VLCで変換できないものも存在します。
そんな時は諦めて別のツールを使いましょう。
コンテナ選択も慎重に。
映像:MPEG1 音声:MPEG AUDIO コンテナ:MPEG 1
映像:MPEG2 音声:MPEG AUDIO コンテナ:MPEG PSまたはTS
映像:DIVX3 音声:MP3、 コンテナ:OGGまたはASF
映像:H.264 音声:MPEG4Audio コンテナ:MP4
などなど、一般的な組み合わせを選択したほうが無難です。
保存ファイル名の決定、動画のエンコード
コーデックとコンテナの組み合わせが終了したら「NEXT」ボタンを押して次の画面に移ります。
「Choose」ボタンを押して保存したいフォルダに移動し、保存ファイル名と拡張子を自分で入力。コンテナに対応した拡張子をつける事を忘れずに。
「Finish」ボタンを押すと、エンコード(動画の変換作業)が始まります。
エンコード中、映像は表示されませんが、再生バーが右端まで進んだらエンコードは終了です。(PCスペックに依存しますが、結構時間のかかる作業です)
エンコードされたファイルが出来上がりました。
再生してみて無事エンコードできているかの確認を忘れずに。
VLC media playerで動画変換の方法2(2008.12.9追記)
VLC media playerを使った、もう一つの動画変換方法です。
しかし、FriioやMonster TV HDUS、PT-1などで録画した生データをイキナリ変換しても音は上手く鳴らないはずです。
地デジTSファイルをCMカットしたり、aviなど他形式の動画に変換、編集する方法を読んでPIDを取得、余分な情報を削除してから変換してください。
地デジ放送はMpeg-TS形式で放送されており、Mpeg-PS形式と比較してPCでの扱いは少しやっかいです。PCで再生する事がメインになるならば、VLCを使ってMpeg-PS形式にサクっと変換しちゃいましょう。
「ファイルを開く」の上から2番目の方を選択します。
(1)「参照ボタン」を押して変換するファイルを指定
(2)「Stream/Save」にチェック
(3)「設定」ボタンを押します
(1)「参照ボタン」を押して保存するファイルを指定(拡張子まで記入)
(2)「MPEG-PS」にチェック
(3)「OK」ボタンを押します
一つ前のダイアログ画面に戻りますので、そこでも「OK」を押すとVLC media Playerでの変換作業が始まります。エンコード作業は含まれないので、変換は高速です。PCの性能によりますが、放送時間の1/4～1/10程度の時間で終了します。
これでPCで扱い易いPSデータへの変換は完了です。
最後に
VLC media Playerを使って動画をエンコードする方法は、あまり過信しない方が良いかもしれません。
今の所、地デジTSファイルの音声部分のみの変換や抜き出しは問題なく処理でき、非常に重宝しています。が、ネットで拾った動画のエンコードは、上手くいかない場合が多いです。
VLCでの動画変換は、非常に便利ですが「あくまでも補助的に使うもの」としておく方が良いみたいです。
VLC media Playerの意外な使い方:動画の変換、音声の変換
