mizutani@rsch.tuis.ac.jp
参考書『インターネット時代のコンピュータリテラシー』(水谷正大,共立出版)
目次
LaTeXシステムの手順
LaTeXファイルの構造
整形出力までの詳細
エディタで LaTeX 文書を作成する
DVIファイルの作成
DVIファイルをプレビューする
DVIファイルをプリンタに出力する
LaTeXシステムの手順
LaTeXシステムでプリンタから整形文書を印刷するまでには次の手順を踏む.
エディタで拡張子『.tex』がついたLaTeXファイルを作成する.
LaTeXファイルをコンパイルしてDVIファイルを作成する.
コンパイルでエラーが発生した場合には処理を中断して,エディタでファイルを修正・保存して再度コンパイルする.
コンパイルは必要に応じて数度行う(目次作成のためには2回)
DVIファイルをプリントする前に,モニタ上でプレビューして仕上がり具合を確かめる.
DVIファイルを印刷する.
LaTeXファイルの構造
LaTeX ファイルは通常のテキストファイルであるので,適当なエディタで作成する.
LaTeX では様々な出来上がり文書スタイルが用意されている.
たとえば,論文,レポートや書籍などのスタイルがある.
また自分で好みのスタイルを定めることも可能で,
同じ文書内容でも文書スタイルの指定を変えるだけでそれぞれの形式の文書を自動的に作成してくれる.
書き溜めた論文を書籍として出版する場合には,書籍スタイルを指定するだけですみやかに出版することができる.
ここでは論文に使われるjarticleスタイルを使うことにする.
このときLaTeX文書の構造は次のようになる.
※ LaTeXファイル文中の記号『%』はコメントとして使われ,それ以降行末までLaTeX文書としては無視される.
\documentclass{jarticle}  % LaTeX文書の先頭(jarticle スタイルの指定)
% プリアンブルの記述(省略可能)
\title{論文の題名} % 文書の題名
\author{著者名}    % 文書作成者
\date{日付}        % 日付
\begin{document}
\maketitle         % 論文題名,著者,日付を出力
....
....                本文を記述する
....
\end{document}     % LaTeX文書の最後
\documentclass, jarticle, \title, \author,
\begin, document, \end や 
{, } など LaTeXの予約語は,半角英文字でなければならない.
予約語以外は,英数文字,全角日本語(漢字,かな,カタカナ)などは混在しても構わない.
プリアンブルは細かい制御や様々な定義などを記述するための部分であるが,当分の間は省略しておく.
文書の表題
どんな文書にも表題は必要である.
\title{...},\author{...}や\date{...}に適切な文字を記入し,さらに必ず表題表示命令\maketitleも併せて書かねばならない.
LaTeX文書の改行
テキストファイルとしてのLaTeX文書内では単なる改行は仕上がりには影響しない.
エディタで書くときには,1つの文末ごとに必ず改行する.
強制改行
文末に\\を記入すると強制改行される.強制改行をむやみに使わない.
強制改行を使うときは何故強制改行が必要かをよく考えてから利用する.
段落の区切り
文章の段落を改めるときには1行以上の空白行で区切るか\parを記入する.
注意:LaTeX用のテキスト文書などエディタを使って文書を作成する時には,改行を多用して書くこと.
一見,文章が細かく寸断されているように見えるが,仕上がりには無関係である.
行ごとに改行する方が LaTeXエラーの原因を的確につかむことができる.
Muleエディタなどでは,
改行を行わなくともウィンドウの端で行を自動的に折り返してくれるが,
改行操作のないままでは論理的には長大な1行となってしまう.
こうした長大な1行を含むテキストを電子メールで送ったり他のエディタで編集する場合には,
ウィンドウ巾を越えた1行の残りが表示されなくなることがある.
整形出力までの詳細
具体的に LaTeX 文書 sample.texをエディタで作成し,これをプリンタから出力するまでの具体的手続きを紹介する.
エディタで LaTeX文書を作成する
適当なエディタを使って,例えば sample.tex という名前で文書を作成して保存しておこう.
作成する LaTeX ファイルには常に『.tex』 という拡張子が必要.
LaTeX 文書sample.texの内容は次のようなものとする.
(実は間違っている!).
% 25 April 1995 \documentclass{jarticle}
\title{\LaTeX{} 初挑戦} % \LaTeX{} は LaTeXの予約語
\author{紀貫之}
\date{905年}
\begin{document
\maketitle 初めての\TeX{} 文書なんだ. %\TeX{}
も LaTeX の予約語
どんなように仕上がるかな?
とにかくエディタで文書さえ書いておけば,後で\LaTeX{}
文書に 加工することはすぐにできるんだ.
やっぱり文章は見てくれより\Large 中身}が大切だからね.
でも,こんなこと \[ \sum_{k=1}^n k= \frac{1}{2}n(n+1)
\] ができるとなると,
\underline{外見}も大切かなあと思ってしまうよね
\end{document}
DVIファイルの作成
LaTeX文書ファイルをLaTeX システムに入力しDVIファイルを作成するには,コマンドプロンプトに次のようにコマンドを入力する.
platex sample.tex 
LaTeX 構文上のエラーがあれば,LaTeX システムは途中で処理を中断し,違反した部分をエラーメッセージと共に表示する.
全てのメッセージはsample.logというファイルに自動的に保存される.
エラーがあったときには,そのメッセージをよく読んでからキーボードから 『x』 を入力し, LaTeX システムの処理を終了させる.
あるいは,さらに先の文書を処理したいときには,そのままリターンを入力する.
つまり,LaTeX ファイルに対するエラーが発生した際には,キーボードから
『x』 を入力して
そこでLaTeXを終了しエディタに戻り,この箇所のエラーを修正.『Enter』 を入力して
さらに先の文書を処理して,システムにエラーを指摘させる.
ここでは12行目で活字指定 {\Large ...} の LaTeX 構文エラーが生じる.
l.12 ...だ.やっぱり文章は見てくれより\Large 中身}
が大切だからね.
? 
すぐに分かるエラーなので,キーボードから 『x』を入力して LaTeX の処理を中断する.
そこで,エディタ画面に戻って『{\Large 中身}』のように
{と}を対応させるように修正・保存する.
LaTeX 構文エラーが無くなるまで次の手順 
LaTeXファイルをコンパイルする
エディタでファイルを修正・保存する
を繰り返す.
こうしてエラーを取り除けば,最終的にDVI ファイル sample.dvi が生成されていることがlsで確認できるはずである.
DVIファイルをプレビューする
LaTeX システムによりsample.dvi ファイルが生成された後,いきなり印刷する前にプレビュアーによりDVIファイルの印刷イメージをつぎのようにして確かめる.
ここでは、Windows向けのdvioutというDVIビューアを使用する.
情報教育システムの端末や学内推奨使用ノートパソコンでは、
「スタート」「Graphics」
「dviout for Windows」でdvioutを起動できる。
メニューにない場合は、コマンドプロンプトで dviout と打って実行する。
起動後は、FileメニューからOpenを選び、先程できたDVIファイルを選ぶ。
DVIファイルをプリンタに出力する
プレビュアでDVIファイルの印刷状態が確認でき,その仕上がりに納得できれば,
dvioutで印刷(FileメニューのPrint)を行なえば良い。
目次
コンピュータリテラシー演習に戻る
mizutani@rsch.tuis.ac.jp
ohmi@rsch.tuis.ac.jp (リテラシー演習向けに修正 2004年5月7日)
簡単な LaTeX 文書の作成と印刷
