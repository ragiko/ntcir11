WEB上の大量の画像を用いた仮想パノラマ画像生成システム
相田 優
Date: 2010年 2月 8日
1 はじめに
複数の画像を合成することで一枚の巨大なパノラマ画像を生成する手法がSivicらによって示された[#!VirtualSpace!#]。生成される画像は仮想的なパノラマ画像であり、画像が撮影された場所や時間を考慮せずに、画像が合成されていく。
このような画像合成の手法は、ゲーム、映画等のさまざまなビジュアルコンテンツに応用することができる。
Sivicらの手法[#!VirtualSpace!#]においてユーザーは画像のテーマを選択することでパノラマ画像を得ることができる。しかし、このアルゴリズムによって生成されるものは、テーマの同じ画像が連続することになる。
画像のテーマを問わずにシームレスな仮想パノラマ画像を作ることができれば、
ユーザーにとってより興味深いシステムになると考えられる。
そこで本研究ではSivicらの手法[#!VirtualSpace!#]を拡張し、
テーマを問わずに画像を合成することで、より変化に富んだパノラマ画像を生成することを目指す。
システムは図1のようにして、
ユーザーが入力した画像を元にして指定した長さのパノラマ画像を生成する。
システムの性質上、生成される画像の質は画像データベースの質とその検索精度に依存する。
2 システムのアルゴリズム
以下の手順に従い、パノラマ画像を生成する。また、合成アルゴリズムの概要を図2に示す。
大量の画像を収集し、データベースを構築しておく
入力された画像を背景画像とする
背景画像内の合成予定領域との類似度をもとに画像を検索し、それを合成元画像とする
背景画像と合成元画像の重複領域での画素値の差が最小となるような合成位置を求める
キルティングにより合成する2つの画像の境界誤差を最小とするような分割経路を求める
求めた分割経路に沿った領域でポアソンブレンディングを適用し、画像を合成する
合成した画像が一定の大きさ以上となったら画像を出力し終了する
合成した画像を背景画像とし、3の手順に戻る
3 Quilting
Quiltingは画像とを合成する際、それらの重複領域を適切にカットすることで合成する手法である[#!Quilting!#]。
対応する重複領域を、、
それらの画素値を
、
とし、
対応画素の誤差を
とする。
最適なカットとなる経路を求めるために、
累積最小誤差
を計算する。
重複領域の最終行で得られる累積最小誤差の最小値を与える経路が、最適なカットの経路となる。
素材となる画像から矩形領域を切り取り、合成した結果を図4、5に示す。
図4では切り出した矩形領域を敷き詰めただけであり、画像の境界が目立つ。
Quiltingを適用し合成をした図5では、図4と比べて画像の境界が目立たないのが確認できる。
柳井 研究室 (Yanai Lab.), 電気通信大学 情報工学科
