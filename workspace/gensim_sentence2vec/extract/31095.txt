
4. ログ監視について
ログの監視を行うには、Zabbix エージェント(アクティブ)を使用する必要があります。
通常の Zabbix エージェントは、サーバから定期的にデータを要求しに行きますが、
Zabbix エージェント(アクティブ)は、エージェント自身が能動的に監視を行い、
データをサーバに送信します。
log[file,<regexp>,<encoding>,<maxlines>,<mode>] は、
1 つのログファイルのみを監視します。
logrt[file_format,<regexp>,<encoding>,<maxlines>,<mode>] は、
ローテートされた複数のログファイルを監視します。
ファイル名の候補は正規表現で指定します。
例えば、「/var/log/messages-[0-9]{8}$」であれば「/var/log/messages-20130414」などのファイルが対象になります。
また、ログ監視では Zabbix エージェントを動作させるユーザ(zabbix)が
ログファイルにアクセスする権限が必要になりますので注意してください。
5. メディアタイプとメディアの設定
障害を検知した場合にメールを送信するには、事前にメディアタイプとメディアを設定しておく必要があります。
まずメディアタイプでメールの送信に使用するメールサーバを設定します。
管理 (Administration) 
メディアタイプ (Media types) を選択します。
一覧から「Email」をクリックします。
「SMTPサーバー」(「SMTP server」)、「SMTP helo」、「送信元メールアドレス」(「SMTP email」) を
環境にあわせて適切に編集し、保存 (Save) をクリックします。
次に、各ユーザのメール送信先を設定します。ここでは Admin、user について設定します。
右上の [プロファイル]([Profile]) をクリックして、[メディア]([Media]) を選択します。
[追加]([Add]) をクリックすると「新規メディア」(「New media」)ウィンドウが表示されますので、
以下の項目を入力し、追加 (Add) をクリックします。
タイプ
Zabbixのさまざまな監視機能を試してみよう - SRA OSS, Inc. 日本支社
