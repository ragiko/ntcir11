
音素分割装置、方法及びプログラム
【課題】音素境界時刻の推定を従来よりも精度良く行なう。
【解決手段】入力された音声の各フレームの音声特徴量を抽出する。複数の音素の音声特徴量についての統計量を用いて、各フレームに最も尤もらしい音素を割り当てて、連続する2つのフレームで割り当てられた音素が異なる場合に、それらの2つのフレームに亘る時間範囲に含まれる時刻の何れかを音素境界時刻とすることにより音素境界時刻を推定する。音素境界時刻が信頼できるかどうか判定する。音素境界時刻が信頼できないと判定された音素境界を構成する各音素に、その各音素の継続長の、平均値が大きいほど長く、分散が大きいほど大きく伸縮した時間を割り当てることにより、その音素境界時刻が信頼できないと判定された音素境界の音素境界時刻を推定する。
【技術分野】
0001 この発明は、音声から、音素の境界時刻を自動的に決定する技術に関する。
【背景技術】
0002 従来の自動音素セグメンテーション技術では、音素の統計的な平均スペクトルパターンを分布として用意し、与えられた音声のスペクトルパターンとの類似性(尤度)を計算して、各フレームに尤もらしい音素を割り当てることにより、音素境界時刻を求めていた。すなわち、前後で対応する音素が変わるフレームを音素境界時刻としていた(例えば、非特許文献1参照)。
【先行技術文献】
【非特許文献】
0003】
【非特許文献1】河井恒、戸田智基著、波形接続型音声合成のための自動音素セグメンテーションの評価、電子情報通信学会技法研究報告、SP2002-170、pp.5-10、2003年1月
【発明の概要】
【発明が解決しようとする課題】
0004 しかしながら、音素の統計的な平均スペクトルパターンは平均処理の際に平滑化され、スペクトルパターンの詳細な特徴が失われることが多い。そのため、スペクトルパターンが連続的に滑らかに変化する場合では、音素境界時刻の前後でスペクトルパターンに大きな差がでないため、統計的な平均スペクトルパターンでは尤度の差が現れず、推定された音素境界時刻が正解と大きくずれるという課題があった。
【課題を解決するための手段】
0005 上記の課題を解決するために、入力された音声の各フレームの音声特徴量を抽出する。複数の音素の音声特徴量についての統計量を用いて、各フレームに最も尤もらしい音素を割り当てて、連続する2つのフレームで割り当てられた音素が異なる場合に、それらの2つのフレームに亘る時間範囲に含まれる時刻の何れかを音素境界時刻とすることにより音素境界時刻を推定する。音素境界時刻が信頼できるかどうか判定する。音素境界時刻が信頼できないと判定された音素境界を構成する各音素に、その各音素の継続長の、平均値が大きいほど長く、分散が大きいほど大きく伸縮した時間を割り当てることにより、その音素境界時刻が信頼できないと判定された音素境界の音素境界時刻を推定する。
【発明の効果】
0006 信頼することができない音素境界時刻を、音素の継続長の平均値及び分散を用いて再度推定することにより、音素境界時刻の推定を従来よりも精度良く行なうことができる。
【特許請求の範囲】
【請求項1 入力された音声の各フレームの音声特徴量を抽出する音声特徴量抽出部と、
複数の音素の音声特徴量についての統計量を記憶する音声特徴量記憶部と、
上記音声特徴量及び上記音声特徴量記憶部から読み込んだ統計量を用いて、各上記フレームに最も尤もらしい音素を割り当てて、連続する2つのフレームで割り当てられた音素が異なる場合に、それらの2つのフレームに亘る時間範囲に含まれる時刻の何れかを音素境界時刻とすることにより音素境界時刻を推定する第一音素境界時刻推定部と、
上記音素境界時刻が信頼できるかどうか判定する音素境界時刻推定結果信頼性判定部と、
複数の音素の継続長の平均値及び分散を記憶する継続長分布記憶部と、
音素境界時刻が信頼できないと判定された音素境界を構成する各音素に、その各音素の上記継続長分布記憶部から読み込んだ継続長の、平均値が大きいほど長く、分散が大きいほど大きく伸縮した時間を割り当てることにより、その音素境界時刻が信頼できないと判定された音素境界の音素境界時刻を推定する第二音素境界時刻推定部と、
を含む音素分割装置。
【請求項2 請求項1に記載された音素分割装置において、
上記音素境界時刻推定結果信頼性判定部は、信頼することができない音素境界時刻に対応する連続する2つのフレームに割り当てられた音素についての条件を記憶する信頼性判定用条件記憶部と、上記音素境界時刻に対応する連続する2つのフレームに割り当てられた音素が上記信頼性判定用条件記憶部から読み出した条件を満たす場合には上記音素境界は信頼できないと判定する条件信頼性判定部と、を含む、
ことを特徴とする音素分割装置。
【請求項3 請求項1に記載された音素分割装置において、
上記第一音素境界時刻推定部は、各上記フレームに各音素を割り当てたときの尤もらしさである尤度を計算して、最も尤度が高い音素を各上記フレームに割り当てる、
ことを特徴とする音素分割装置。
【請求項4 請求項3に記載された音素分割装置において、
上記音素境界時刻推定結果信頼性判定部は、上記音素境界時刻のフレームを含む所定の数のフレームに割り当てられた音素の上記尤度の変化の大きさを示す指標である尤度変化度を求める尤度変化度計算部と、その尤度変化度が所定の閾値以下であれば、上記音素境界時刻は信頼できないと判定する尤度信頼性判定部と、を含む、
ことを特徴とする音素分割装置。
【請求項5 音声特徴量記憶部には、複数の音素の音声特徴量についての統計量が記憶されているとし、
継続長分布記憶部には、複数の音素の継続長の平均値及び分散が記憶されているとし、
音声特徴量抽出部が、入力された音声の各フレームの音声特徴量を抽出する音声特徴量抽出ステップと、
第一音素境界時刻推定部が、上記音声特徴量及び上記音声特徴量記憶部から読み込んだ統計量を用いて、各上記フレームに最も尤もらしい音素を割り当てて、連続する2つのフレームで割り当てられた音素が異なる場合に、それらの2つのフレームに亘る時間範囲に含まれる時刻の何れかを音素境界時刻とすることにより音素境界時刻を推定する第一音素境界時刻推定ステップと、
音素境界時刻推定結果信頼性判定が、上記音素境界時刻が信頼できるかどうか判定する音素境界時刻推定結果信頼性判定ステップと、
第二音素境界時刻推定部が、音素境界時刻が信頼できないと判定された音素境界を構成する各音素に、その各音素の上記継続長分布記憶部から読み込んだ継続長の、平均値が大きいほど長く、分散が大きいほど大きく伸縮した時間を割り当てることにより、その音素境界時刻が信頼できないと判定された音素境界の音素境界時刻を推定する第二音素境界時刻推定ステップと、
を含む音素分割方法。
【請求項6 請求項1から4の何れかに記載された音素分割装置の各部としてコンピュータを機能させるための音素分割プログラム。
【図面の簡単な説明】
【図1】音素分割装置の例の機能ブロック図。
【図2】音素境界時刻推定結果信頼性判定部の例1の機能ブロック図。
【図3】音素境界時刻推定結果信頼性判定部の例2の機能ブロック図。
【図4】第二音素境界時刻推定部の例の機能ブロック図。
【図5】音素分割方法の例の流れ図。
【図6】音素境界時刻推定結果信頼性判定部の処理の例2の流れ図。
【図7】第二音素境界時刻推定部の処理の例の流れ図。
【図8】音素境界時刻を説明するための図。
【図9】信頼の可否の条件を示した図。
【図10】音素境界時刻の推定の具体例を示す図。
【発明を実施するための形態】
以下、この発明の実施形態を詳細に説明する。
図1は、この発明による音素分割装置の例の機能ブロック図である。図5は、この発明による音素分割方法の例の流れ図である。
音素分割装置は、音声特徴量抽出部1、第一音素境界時刻推定部2、音素境界時刻推定結果信頼性判定部3、第二音素境界時刻推定部4、音声特徴量記憶部6、継続長分布記憶部7を例えば含む。
<ステップS1>
入力された音声は、音声特徴量抽出部1に入力される。音声特徴量抽出部1は、入力された音声を一定時間長のフレームに分割して、各フレームごとに音声特徴量を計算する(ステップS1)。各フレームの音声特徴量は、第一音素境界時刻推定部2に送られる。
音声特徴量としては、その音声特徴量を用いてフレームに音素を割り当てることができるものであればどのような音声特徴量を用いてもよい。例えば、音声特徴量として、音声認識等でよく用いられるMFCC、ケプストラム、メルケプストラム、フィルタバンク、メルフィルタバンク等を用いることができる。
<ステップS2>
音声特徴量記憶部6には、複数の音素の音声特徴量についての統計量が記憶されているとする。例えば、音素の統計的なスペクトルパターンが、音声認識等でよく用いられるHMM(隠れマルコフモデル)、ベクトル量子化、ニューラルネットワーク等の形態で記憶されているとする。
例えば、モノフォン、トライフォンの単位ごとに統計的な平均スペクトルが記憶されている。モノフォンは、当該音素の前後にどのような音素があるか考慮しない音素モデルである。トライフォンは、当該音素の前後にある音素を考慮する音素モデルであり、a−i+u(前に/a/、後ろに/u/がある/i/)と、o−i−e(前に/o/、後ろに/e/がある/i/)とを違うものとして考える。
第一音素境界時刻推定部2は、音声特徴量及び音声特徴量記憶部6から読み込んだ統計量を用いて、各フレームに最も尤もらしい音素を割り当てて、連続する2つのフレームで割り当てられた音素が異なる場合に、それらの2つのフレームに亘る時間範囲に含まれる時刻の何れかを音素境界時刻とすることにより音素境界時刻を推定する(ステップS2)。音素境界時刻を含む音素境界時刻推定結果は、音素境界時刻推定結果信頼性判定部3に送られる。
第一音素境界時刻推定部2は、音声特徴量及び音声特徴量記憶部6から読み込んだ統計量を用いて、各フレームに各音素を割り当てたときの尤もらしさである尤度を計算して、最も尤度が高い音素をその各フレームに割り当てる。必要に応じて、各フレームに割り当てられた音素についての尤度が、音素境界時刻推定結果信頼性判定部3に送られる。
図8を用いて、2つのフレームに亘る時間範囲について説明する。フレームkに割り当てられた音素(この例では/a/)と、フレームk+1に割り当てられた音素(この例では/i/)とが異なるとき、図8に例示するように、フレームkの開始時刻からフレームk+1の終了時刻までの時間範囲に含まれる何れかの時刻を音素境界時刻とする。例えば、フレームk+1の中心時刻を音素境界時刻とする。
第一音素境界時刻推定部2は、非特許文献1に記載された手法により音素境界時刻を推定してもよい。
<ステップS3>
音素境界時刻推定結果信頼性判定部3は、第一音素境界時刻推定部2が推定した音素境界時刻が信頼できるかどうか判定する(ステップS3)。音素境界時刻が信頼できるかどうかの判定結果である信頼性判定結果は、第二音素境界時刻推定部4に送られる。
以下、音素境界時刻推定結果信頼性判定部3による判定処理の例を2つ紹介する。
例1 
図2に、例1による音素境界時刻推定結果信頼性判定部3の機能ブロック図を示す。
信頼性判定用条件記憶部32には、信頼することができない音素境界時刻に対応する連続する2つのフレームに割り当てられた音素についての条件が記憶されている。図9に、この条件の例を示す。図9の例では、(1)音素境界が有声音と無声音の間にある場合にはその音素境界の時刻を信頼する、(2)音素境界を構成する音素の何れか一方が摩擦音である場合にはその音素境界の時刻を信頼する、(3)(2)ではなくかつ音素境界が有声音の間にある場合にはその音素境界の時刻を信頼しない、という3つの条件がある。
条件信頼性判定部31には、音素境界時刻に対応する連続する2つのフレームに割り当てられた音素が入力される。図8の例では、音素/a/と音素/i/が入力される。条件信頼性判定部31は、入力された音素が信頼性判定用条件記憶部32に記憶された条件を満たすかどうかを判定することにより、その音素境界時刻が信頼することができるものであるか否かを判定する。
「現実を」という音声が入力された場合を例に挙げて、条件信頼性判定部31の説明をする。「現実を」という音声に対して、図10に示すように、/g/、/e/、/n/、/j/、/i/、/ts/、/u/、/o/という音素が順に対応付けられたとする。
音素境界/i/−/ts/、音素境界/ts/−/u/は、音素/ts/が無声音であり、音素/i/及び音素/u/が有声音なので、条件(1)により、これらの音素境界の音素境界時刻は信頼することができると判定される。
音素境界/n/−/j/、音素境界/j/−/i/は、音素/j/が摩擦音であり、音素/n/及び音素/i/が摩擦音でないので、条件(2)により、これらの音素境界の音素境界時刻は信頼することができると判定される。
音素境界/g/−/e/、音素境界/e/−/n/、音素境界/u/−/o/は、条件(2)を満たさず、かつ、音素/g/、音素/e/及び音素/n/は有声音であるため、条件(3)により、これらの音素境界の音素境界時刻は信頼することができないと判定される。
例2 
図3に、例2による音素境界時刻推定結果信頼性判定部3の機能ブロック図を示す。図6に、例2による処理の流れ図を示す。
この例では、第一音素境界時刻推定部2が計算した各フレームに割り当てられた音素についての尤度、及び、音素境界時刻推定結果が、音素境界時刻推定結果信頼性判定部3に入力される。
音素境界時刻推定結果信頼性判定部3の尤度変化度計算部33は、音素境界時刻のフレームを含む所定の数のフレームに割り当てられた音素の尤度の変化の大きさを示す指標である尤度変化度を求める(ステップS31)。計算された尤度変化度は、尤度信頼性判定部34に送られる。
尤度変化度として、下記式により定義されるDを用いることができる。下記式において、tは音素境界時刻のフレーム番号、Kは予め定められた正の整数、Liはフレームiに割り当てられた音素についての尤度、wkは尤度差｜Lt−Lt−k｜+｜Lt−Lt+k｜の重みであり予め定められた非負の実数でありkの増加に従って単調減少するのが望ましい。K、wkは、求める仕様や性能に応じて実験等に基づき適宜設定される。音素境界時刻のフレームとは、音素境界時刻を構成する2つのフレームの何れかのことである。図8の例では、フレームk又はフレームk+1のことである。
【数1】
尤度信頼性判定部34は、尤度変化度と所定の閾値θとを比較して、尤度変化度が所定の閾値以下であれば、音素境界時刻は信頼できないと判定する(ステップS32)。所定の閾値は、求める仕様や性能に応じて実験等に基づき適宜設定される。
例えば、D−θを計算して、D−θ>0であれば音素境界時刻は信頼することができ、D−θ≦0であれば音素境界時刻は信頼することができないと判定する。もちろん、尤度変化度Dと所定の閾値θとを直接比較して、その大小関係に基づいて信頼の可否を決定してもよい。
<ステップS4>
継続長分布記憶部7には、複数の音素の継続長の平均値及び分散が記憶されている。
第二音素境界時刻推定部4は、音素境界時刻が信頼できないと判定された音素境界を構成する各音素に、その各音素の継続長の、平均値が大きいほど長く、分散が大きいほど大きく伸縮した時間を割り当てることにより、その音素境界時刻が信頼できないと判定された音素境界の音素境界時刻を推定する(ステップS4)。各音素の継続長の平均値及び分散は、継続長分布記憶部7から読み込んだ値を用いる。
図4に、第二音素境界時刻推定部4の例の機能ブロック図を示す。図7に、第二音素境界時刻推定部4の処理の例の流れ図を示す。
例えば、第二音素境界時刻推定部4の音素継続長最尤推定部41は、下記式に基づいて、音素境界時刻が信頼できないと判定されたi番目の音素の音素継続長mi*を計算する(ステップS41)。Tは音素境界時刻が信頼できないと判定された連続するI(Iは正の整数)個の音素が構成する時間長であり、mi*は時間長Tの中のi番目の音素の推定音素継続長であり、miは継続長分布記憶部7から読み込んだi番目の音素の継続長の平均値であり、σi2は継続長分布記憶部7から読み込んだi番目の音素の継続長の分散である。
【数2】
図10の例だと、音素境界/g/−/e/、音素境界/e/−/n/、音素境界/u/−/o/の音素境界時刻が信頼できないと判定されている。連続する3つ音素/g/、/e/、/n/が構成する時間長Tの1番目の音素である音素/g/の時間長は、上記式を用いて以下のように計算することができる。この例では、T=180ms、音素/g/の継続長の平均値m1=20ms、音素/g/の継続長の分散σ12=0.003、音素/e/の継続長の平均値m2=95ms、音素/e/の継続長の分散σ22=0.012、音素/n/の継続長の平均値m3=45ms、音素/n/の継続長の分散σ32=0.005であるとする。
m1*=m1+(σ12/Σi=1Iσi2) (T−Σi=1Imi)
=20+(0.003/(0.003+0.012+0.005)) (180−(20+95+45))
=20+(0.003/0.020) 20
=23
第二音素境界時刻推定部4の音素境界時刻決定部42は、音素に割り当てられた時間長と、信頼性判定結果の中の信頼することができる音素境界時刻とを用いて、最終的な音素境界時刻を決定し、その結果を出力する(ステップS4)。
このように、音素境界時刻を仮推定し、推定精度が低いと判断される音素境界時刻を音素の継続長の平均値及び分散を用いて再度推定することにより音素境界時刻の推定を従来よりも精度良く行なうことができる。
なお、詳細音素境界時刻推定部5が、参考文献1に記載された手法を用いて、第二音素境界時刻推定部4が決定した音素境界時刻を修正して、更に精度が高い音素境界時刻を求めてもよい。参考文献1に記載された手法では、事前に決定された音素境界時刻の前後に探索窓を設定し、音素境界時刻付近のスペクトルパターンを学習したマルコフモデルを用いて、更に精度が高い音素境界時刻を求める。参考文献1に記載された手法を用いる際に探索窓を狭くすることにより、正解と同一コンテキストが現れるのを防ぐことができる。
〔参考文献1〕Lijuan Wang, Yong Zhao, Min Chu, Frank K. Soong, Jian-Lai Zhou and Zhigang Cao, Context-Dependent Boundary Model for Refining Boundaries Segmentation of TTS Units, IEICE Transactions 89-D(3), pp.1082-1091, 2006
音素分割装置は、コンピュータによって実現することができる。この場合、この装置が有すべき各機能の処理内容はプログラムによって記述される。そして、このプログラムをコンピュータで実行することにより、これ装置における各処理機能が、コンピュータ上で実現される。
この処理内容を記述したプログラムは、コンピュータで読み取り可能な記録媒体に記録しておくことができる。また、この形態では、コンピュータ上で所定のプログラムを実行させることにより、これらの装置を構成することとしたが、これらの処理内容の少なくとも一部をハードウェア的に実現することとしてもよい。
この発明は、上述の実施形態に限定されるものではなく、本発明の趣旨を逸脱しない範囲で適宜変更が可能である。
【符号の説明】
1     音声特徴量抽出部
2     第一音素境界時刻推定部
3     音素境界時刻推定結果信頼性判定部
31   条件信頼性判定部
32   信頼性判定用条件記憶部
33   尤度変化度計算部
34   尤度信頼性判定部
4     第二音素境界時刻推定部
41   音素継続長最尤推定部
42   音素境界時刻決定部
5     詳細音素境界時刻推定部
6     音声特徴量記憶部
7     継続長分布記憶部
【IPC】G10L15
【公開番号】特開2011−13594(P2011−13594A)
【公開日】平成23年1月20日(2011.1.20)
【出願番号】特願2009−159513(P2009−159513)
【出願日】平成21年7月6日(2009.7.6)
【出願人】(000004226)日本電信電話株式会社
音素分割装置、方法及びプログラム 特開201113594
