物体をカスタマイズする
ここでは,既存の物体を修正したり,新しい物体を追加する方法について述べます。
物体の定義
World Testerの物体は,フィールド定義ファイル(拡張子.wtf)と物体定義ファイル(拡張子.wti)で成り立っています。
物体定義は,物体の最小単位です。1個のボールや1個の輪っかが該当します。物体定義に他の物体定義を含むことができますが,この場合,全て含めて1つの物体になります。例えば,上図の起き上がり小法師はボール2つ(正確には重りを入れて3つですが)で成り立っています。上のボールに力を加えても下のボールと分離せず,1つの物体として動きます。
フィールド定義は,物体定義で定義した物体の配置情報です。例えば上図では,輪っかと起き上がり小法師を配置しています。輪っかに力を加えると,輪っかだけが動きます。
フィールド定義ファイルを「<World Testerインストールフォルダ>\items\」以下に置くと,自動的にツールボックスの物体選択欄に追加されます。物体定義ファイルの内容は追加されません。
物体の修正
物体定義を一から作るには,定義ファイルの仕様を覚える必要がありますが,既存の物体を変更するのは比較的簡単です。World Testerにはあらかじめフィールド定義ファイルと物体定義ファイルがいくつか用意されていますので,これらのファイルを改造します。
例えば「ビー玉」がより高い場所に表示されるようにしたい場合,以下の手順でフィールド定義ファイルを変更します。
ツールボックスで「ビー玉」を選び,[情報]ボタンをクリック
ファイル名に表示されたファイル「items\ball\ball.wtf」をテキストエディタで開く
以下の部分を修正する
(修正前)
<Parameter name="position" type="vector">0.0,0.1,0.0</Parameter>
(修正後)
<Parameter name="position" type="vector">0.0,3.0,0.0</Parameter>
ツールボックスの[更新]ボタンをクリック
「ビー玉」を選択し,[追加]ボタンをクリック
変更した行のうち,positionは場所のことですが,値が3つ書かれています。これは以下の右手座標系で見たx,y,z座標の値です。この例の場合,y座標を0.1(m)から3(m)に変更しています。
以上はフィールド定義ファイルの修正ですが,物体そのものを修正したい場合,物体定義ファイルを修正します。例えば起き上がり小法師の上のボールを大きくしたい場合,以下の手順で物体定義ファイルを変更します。
先程の手順のように起き上がり小法師のフィールド定義ファイル「items\rolypoly\rolypoly.wtf」をテキストエディタで開く
以下の部分を修正する
(修正前)
<Parameter name="r" type="float">upper_r</Parameter>
(修正後)
<Parameter name="r" type="float">upper_r*1.5</Parameter>
ツールボックスの[更新]ボタンをクリック
「起き上がり小法師」を選択し,[追加]ボタンをクリック
この例のように,定義ファイル内では変数や簡単な数式を使うこともできます。
物体の追加
物体を追加することで,自分で作成した物体をWorld Tester上で表示させることができます。手順は以下の通りです。
表示したい物体が既存の物体の組合せで表せない場合,物体定義ファイルを作成する。既存の物体の組合せならばフィールド定義ファイルのみを作成する
物体定義ファイルを作成する場合,「items\FieldItem.dtd」に従ってXMLファイルを作成し,拡張子「.wti」で「items」以下に保存する
フィールド定義ファイルを作成する場合,「items\Field.dtd」に従ってXMLファイルを作成し,拡張子「.wtf」で「items」以下に保存する
ツールボックスの[更新]ボタンをクリック
作成した物体を選択し,「追加」ボタンをクリック
フィールド定義ファイル,物体定義ファイルの作成方法は「items\FieldItem.dtd」「items\Field.dtd」を参照して下さい。作成に必要な情報はコメントに記載されています。
また,公式サイトや他のサイトで定義ファイルが公開されている場合,ダウンロードして「items\」以下に置けば,その物体を表示することができます。
注意事項
各物体の属性には最小の大きさがあります。あまりに小さな値を記述すると最小の大きさに調整されます。
戻る
World Tester - 物体を追加する
