
しかし、実際には、256段階も割り込み優先順位を使うことは稀です。そこで、実際のマイコン製品では、8ビットフルのPRIGROUP[2:0]=0～7を実装することはあまりありません。例えば8ビットの割り込み優先順位のうち、4ビットしか使わない製品等があります。4ビットだと16レベル の優先順位で実行されます。
4ビットの場合の割り込み優先順位付けを表2「実際の製品の割り込み優先順位付け(4ビット実装)」に示します。この場合、割込み用優先度レジスタのPRI_Nフィールドの8ビットのうちMSB側の4ビットしか実装されませんので、LSB側の4ビットは常に0として読み出されることになります。実際の実装仕様は各製品で異なりますので、各製品のマニュアルを参照してください。
表2. 実際の製品の割り込み優先順位付け(4ビット実装)
PRIGROUP(3ビット)
バイナリポイント(グループ.サブ)
横取り優先度(グループ優先順位)
サブ優先度
ビット
レベル
ビット
レベル
割り込み優先順位付け(3/4) | APS ACADEMY -ARM初心者向け連載講座- Cortex-M入門編 | APS - ARMパートナー事例集 -
