【課題】体言止め等により文末が省略された文を、省略のない文に、より適切な形で変換すること。【解決手段】文末が省略された文を処理するために、文末が名詞述語文に該当するか動詞述語文に該当するかを判定し、名詞述語文に該当すると判定した場合には、文末にコピュラを補完し、動詞述語文に該当すると判定した場合には、省略された文の解析に応じてサ変名詞をサ変動詞に変換する処理等により文末に省略部分を補完する。
【特許請求の範囲】
【請求項1】  文末が省略された文を処理するために、コンピュータに、前記文末が省略された文が、名詞述語文か若しくは動詞述語文に該当するか否か判定する判定工程と、前記判定工程において、名詞述語文に該当すると判定した場合には、前記文末が省略された文にコピュラを補完するコピュラ補完工程と、前記判定工程において、動詞述語文に該当すると判定した場合であって、前記文末が省略された文が、サ変名詞で終了している場合には前記サ変名詞をサ変動詞に変換する変換工程と、を実行させるプログラム。【請求項2】  更に、コンピュータに、前記判定工程において、前記文末が省略された文が、名詞述語文か若しくは動詞述語文のいずれにも該当しないと判定した場合に、前記文末が省略された文に含まれる単語に基づいて用言を推定する推定工程と、推定した用言を前記文末が省略された文に補完する用言補完工程と、を実行させることを特徴とする請求項1に記載のプログラム。【請求項3】  前記推定工程では、各語に対応する意味素性を記録した意味素性辞書、及び、用言と該用言のとりうる表層格の格助詞と該格助詞の意味する深層格と該深層格を満たしうる体言の意味素性とを記録した格パターン辞書、を参照して、用言を推定することを特徴とする請求項2に記載のプログラム。【請求項4】  前記推定工程では、各語に対応する概念が階層的に記録された概念辞書、及び、用言と該用言のとりうる表層格の格助詞と該格助詞の意味する深層格と該深層格を満たしうる体言の概念とを記録した格パターン辞書、を参照して、用言を推定することを特徴とする請求項2に記載のプログラム。【請求項5】  更に、コンピュータに、前記コピュラ補完工程においてコピュラが補完された文、又は、前記変換工程において変換された文、に対して意味解析処理を行い、その文の意味ネットワークを作成する工程を実行させることを特徴とする請求項1に記載のプログラム。【請求項6】  更に、コンピュータに、前記用言補完工程において用言が補完された文、に対して意味解析処理を行い、その文の意味ネットワークを作成する工程を実行させることを特徴とする請求項2に記載のプログラム。【請求項7】  文末が省略された文を処理する文処理装置であって、前記文末が省略された文が、名詞述語文か若しくは動詞述語文に該当するか否か判定する判定手段と、前記判定工程において、名詞述語文に該当すると判定した場合には、前記文末が省略された文にコピュラを補完する手段と、前記判定工程において、動詞述語文に該当すると判定した場合であって、前記文末が省略された文が、サ変名詞で終了している場合には前記サ変名詞をサ変動詞に変換する手段と、を備えたことを特徴とする文処理装置。【請求項8】  文末が省略された文を処理する文処理方法であって、前記文末が省略された文が、名詞述語文か若しくは動詞述語文に該当するか否か判定する判定工程と、前記判定工程において、名詞述語文に該当すると判定した場合には、前記文末が省略された文にコピュラを補完する工程と、前記判定工程において、動詞述語文に該当すると判定した場合であって、前記文末が省略された文が、サ変名詞で終了している場合には前記サ変名詞をサ変動詞に変換する工程と、を備えたことを特徴とする文処理方法。
【発明の詳細な説明】【0001】【発明の属する技術分野】本発明は、日本語文の解析技術に関するものである。【0002】【従来の技術】文章校正の技術の一つとして、体言止め等のように文末が省略された文に対して、文末に「です」、「ます」等を補って文を変換する技術が提案されている。この技術によれば、例えば、ニュース記事の見出しとして「開会式は明日。」という文がある場合に、文末に「です」を補い、「開会式は明日です。」といった具合に変換される。このように文末が省略された文を変換することは、例えば、合成音声により文を読み上げる場合や、機械翻訳を行う場合に有益であり、これらの前処理として行われる場合が多い。【0003】【発明が解決しようとする課題】しかし、従来の手法では、「です」、「ます」等を文末に一律に補完していたため、不自然な文に変換される場合がある。例えば、「日本代表は快勝。」、「決勝出場を断念。」、「「くやしい」とコーチ。」、といった文の場合、単純に「です」を補完すれば、「日本代表は快勝です。」、「決勝出場を断念です。」、「「くやしい」とコーチです。」、となり、必ずしも自然な文とは言いがたく、「日本代表が快勝しました。」、「決勝出場を断念しました。」、「「くやしい」とコーチは話しました。」、といった具合に変換されることが好ましい。【0004】また、日本語から英語へ機械翻訳する場合にも、例えば、「日本チームは快勝。」を「日本チームは快勝だ。」と置き換えても日本語としての意味は通じるが、これをそのまま機械翻訳すれば、"Japan Team is easy win."ではおかしな表現になり、「日本チームは快勝しました。」と置き換えて、"Japan Team won easily."と翻訳されることが望ましい。【0005】このように従来の手法では、合成音声により文を読み上げる場合や、機械翻訳を行う場合といった電子的な処理の前処理として考えた場合に、文末が省略された文を適切に変換できないという技術的課題が存在する。【0006】従って、本発明の目的は、体言止め等により文末が省略された文を、省略のない文に、より適切な形で変換することにある。【0007】【課題を解決するための手段】本発明によれば、文末が省略された文を処理するために、コンピュータに、前記文末が省略された文が、名詞述語文か若しくは動詞述語文に該当するか否か判定する判定工程と、前記判定工程において、名詞述語文に該当すると判定した場合には、前記文末が省略された文にコピュラを補完する工程と、前記判定工程において、動詞述語文に該当すると判定した場合であって、前記文末が省略された文が、サ変名詞で終了している場合には前記サ変名詞をサ変動詞に変換する工程と、を実行させるプログラムが提供される。【0008】また、本発明によれば、文末が省略された文を処理する文処理装置であって、前記文末が省略された文が、名詞述語文か若しくは動詞述語文に該当するか否か判定する判定手段と、前記判定工程において、名詞述語文に該当すると判定した場合には、前記文末が省略された文にコピュラを補完する手段と、前記判定工程において、動詞述語文に該当すると判定した場合であって、前記文末が省略された文が、サ変名詞で終了している場合には前記サ変名詞をサ変動詞に変換する手段と、を備えたことを特徴とする文処理装置が提供される。【0009】また、本発明によれば、文末が省略された文を処理する文処理方法であって、前記文末が省略された文が、名詞述語文か若しくは動詞述語文に該当するか否か判定する判定工程と、前記判定工程において、名詞述語文に該当すると判定した場合には、前記文末が省略された文にコピュラを補完する工程と、前記判定工程において、動詞述語文に該当すると判定した場合であって、前記文末が省略された文が、サ変名詞で終了している場合には前記サ変名詞をサ変動詞に変換する工程と、を備えたことを特徴とする文処理方法が提供される。【0010】【発明の実施の形態】以下、本発明の好適な実施の形態について説明する。図1は、本発明の一実施形態に係る日本語文処理装置のブロック図である。【0011】図中、CPU1は装置全体の処理を司るプロセッサであり、後述する各種処理を実行する。RAM2は、CPU1の処理に必要なワークエリアを有するメモリである。ROM3には、固定的なプログラム及びデータが格納される。HDD(ハードディスクドライブ)4は、各種情報を記憶する記憶デバイスであり、本実施形態における文の処理に必要な後述する各種辞書等を記憶する。【0012】入力インターフェース5は、キーボード/マウス6とCPU1との間をインターフェースする。キーボード/マウス6を操作することにより、ユーザはデータの入力、処理の指示等が可能である。ディスプレイ7は、処理結果等を表示し、ディスプレイドライバ8はディスプレイ7の表示制御を行う。【0013】図2は、係る構成からなる日本語文処理装置により実行される処理を示すフローチャートである。本実施形態では、特に、文末が省略されている文(以下、単に省略文ともいう。)について、用言を補完することにより、これを省略のない形の文に変換する。また、変換した文について意味解析処理を行い、補完された用言に対して深層格を満たした意味ネットワークを生成する。意味ネットワークとは、複数の意味若しくは概念のノードと、その間の関係づけと、をリンクで表現した知識表現の一つの手法である。このような意味ネットワークを作成しておくことにより、機械翻訳時等において、より自然な翻訳を実現し得る。【0014】図2において、S201では、処理対象となる文の入力を行う。文の入力は、例えば、キーボード/マウス6から手入力されるか、或いは、HDD4に予め記憶された文等を読み出すことにより行われる。【0015】S202では、入力された文に対して形態素解析辞書を用いて形態素解析処理を行い、文を形態素に分割する。形態素解析辞書のデータは、例えば、HDD4に記憶しておくことができる。S203では、係り受け解析用辞書を用いて、S202で分割した形態素を句にまとめあげると共に、まとめあげた句と句の間の係り受けを解析する係り受け解析処理を行う。係り受け解析用辞書のデータは、例えば、HDD4に記憶しておくことができる。なお、解析結果はRAM2等に保存され、後述する処理において句と句の間の係り受けを明らかにする必要が生じた場合に適宜活用される。【0016】S204では、文末が省略されているか否かを判定する。詳細には、本実施形態の場合、文中の最後の句の用言が省略されているか否かの判定を行う。省略されている場合は、S205へ進み、省略されていない場合は、S212へ進む。【0017】S205では、処理中の文が名詞述語文に該当するか否かを判定する。本実施形態の場合、例えば、以下の基準(1)乃至(4)により名詞述語文に該当するか否かを判定する。(1)  「が」以外の格助詞で終了する句であり、連用修飾の型をもつ句があぶれている場合は、名詞述語文に該当しないと判定する。例えば、「「くやしい」とコーチ。」という文の場合、「と」という格助詞で終わる句があぶれているので、名詞述語文に該当しないと判定する。(2)  文の末尾が体言止めであり、かつ、文の最後の名詞がサ変名詞でない場合は名詞述語文に該当すると判定する。例えば、「開催地はローマ。」という文の場合、最後の名詞「ローマ」がサ変名詞でないので、名詞述語文に該当すると判定する。(3)  文の最後の名詞がサ変名詞であっても、その名詞に連体修飾する句がある場合は、名詞述語文に該当すると判定する。例えば、「彼女は勝利。」という文の場合、最後の名詞「勝利」がサ変名詞なので、名詞述語文には該当しないと判定される。しかし、「彼女は二度目の勝利。」という文の場合は、「勝利」という名詞に「二度目の」という連体修飾句があるので、名詞述語文に該当すると判定する。(4)  連用修飾の型をもつ句が、サ変名詞の用言としての他の格パターンに当てはまらない場合には、名詞述語文に該当すると判定する。例えば、「最後は放棄。」という文があるとする。図5の格パターン辞書の「放棄」をみると、格助詞「が」に「人/組織」があり、格助詞「を」に「所産/動き/特徴」をとる。「最後」の意味素性は図3によると「時」であり、「人/組織」といった主体でもなく、また、「所産/動き/特徴」といった対象でもない。従って、「最後は」の「は」を、これを代用しうる格助詞「が」や「を」に変えてみた場合、置き換えた格助詞の意味素性のいずれにも当てはまらない。従って、名詞述語文に該当すると判定される。【0018】ここで、図3は、各語がその語に対応する意味素性毎に分類して記録された意味素性辞書の一例を示す図である。例えば、「最後」、「春」、「年」といった単語は、「時」という意味を有するので、「時」という意味素性に属することとなる。また、図5は、意味解析用の格パターン辞書の一例を示す図であり、各用言毎に、各用言がとりうる「が」、「を」、「に」等の表層格の格助詞、その格助詞の意味する「主体」、「対象」、「行く先」等の深層格、及び、その深層格を満たす「人」、「組織」、「場所」等の体言の意味素性、といった格パターンが記録されたものである。【0019】以上の基準により、処理中の文が名詞述語文に該当すると判定した場合にはS206へ進み、そうでない場合はS207へ進む。【0020】S206では、処理中の文の末尾にコピュラ(連辞)を補完する。例えば、「開催地はローマ。」という文の場合、「開催地はローマだ。」というように、「だ」等を文末に付加する。コピュラを補完した後、S212へ進む。【0021】S207では、処理中の文が動詞述語文に該当するか否かを判定する。本実施形態の場合、文の末尾が体言止めであって、かつ、最後の名詞がサ変名詞の場合、動詞述語文に該当すると判定する。動詞述語文に該当する場合は、S208へ進み、そうでない場合はS209へ進む。【0022】S208では、処理中の文の最後のサ変名詞をサ変動詞に変換する。端的に言えば、例えば、「彼女は勝利。」という文の場合、「彼女は勝利する。」というように、末尾に「する」等を付加して、サ変名詞をサ変動詞に変換する。変換後、S212へ進む。【0023】S209では、用言推定処理を実行する。ここで処理される文は、名詞述語文、動詞述語文のいずれにも該当しないと判定された文であり、例えば、体言止め以外の文や、文末に格助詞や副助詞や接続助詞等がある文である。このような文の場合、文の述語が全く省略されているため、文の内容に応じて述語となる用言を推定し、推定できた場合にはこれを補完するのである。【0024】このために、S209の用言推定処理では、上述した図3に示す意味素性辞書、及び、図4に示す用言推定用の格パターン辞書を参照する。図4に示す格パターン辞書には、推定の対象となる用言と、各用言がとりうる「が」、「を」、「に」等の表層格の格助詞、その格助詞の意味する「主体」、「対象」、「行く先」等の深層格、及び、その深層格を満たす「人」、「組織」、「場所」等の体言の意味素性、といった格パターンが記録されたものである。【0025】そして、S209では、対象となる文と、辞書に記録された格パターンとのマッチングを行い、用言を推定する。【0026】例えば、「「くやしい」」とコーチ。」という文の場合、格助詞「と」の前に引用句がある。また、格助詞の省略された「コーチ」という単語がある。そこで、図3の意味素性辞書により「コーチ」を検索すると、意味素性が「人」である。格助詞が省略された場合、もしくは副助詞「は」がついている場合は、格助詞「が」もしくは「を」を想定する。引用句は名詞の意味素性を求めるのでなく引用記号で括られた文字列という条件でマッチングする。次に、図4で、格助詞「が」もしくは「を」に対して意味素性「人」、格助詞「と」に対して「引用句」を含むものを検索すると、推定される用言として「話す」が検索される。従って、この文の場合、「話す」という用言が省略されていると推定する。【0027】また、例えば、「終戦から30年。」という文の場合、意味素性辞書により「終戦」から「動き」という意味素性を、「30年」から「年」の「時」という意味素性を持つもの検索し、格パターン辞書から「経つ」という用言が省略されていると推定する。【0028】更に、例えば、「チームは空港から練習場へ。」という文の場合、意味素性辞書により「チーム」から「組織」という意味素性を、「空港」及び「練習場」から「場所」の意味素性を、格助詞「から」と「へ」の組み合わせで検索し、格パターン辞書から「向かう」という用言が省略されていると推定する。このようにして用言を推定する。【0029】次に、S210では、S209の処理により用言が推定できたか否かを判定する。推定できた場合はS211へ進み、推定した用言を処理中の文の文末に補完する。例えば、「「くやしい」とコーチ。」という文の場合、「「くやしい」とコーチが話す。」というように、用言が付加・補完される。推定できなかった場合には、S212へ進む。【0030】S212では、意味解析処理を行い、その結果を用いて次のS213で、該構文上の関係を示す情報として意味ネットワークを作成する。文の意味解析では、文中の用言を特定し、上述した図5に示す意味解析用の格パターン辞書を参照する。【0031】例えば、「最後は放棄。」という省略文を上述した処理により変換して得た、「最後は放棄だ。」という名詞述語文の場合、用言はコピュラである。そこで、図5の格パターン辞書から、用言「コピュラ」を検索し、これに対応する格パターンをチェックする。コピュラの場合、主体、同定項は任意の単語がとりえるので制限はない。そして、「最後」と「放棄」とが、それぞれ主体、同定項と解析され、例えば、図6(a)に示すように、「最後」と「放棄」とがコピュラで結ばれ、深層格が満たされた意味ネットワークが作成される。【0032】また、例えば、「債権は放棄。」という省略文を上述した処理により変換して得た、「債権は放棄する。」という動詞述語文の場合、用言は「放棄」である。そこで、図5の格パターン辞書から、用言「放棄」を検索し、これに対応する体言の格パターンをチェックする。「債権は」の副助詞「は」については、格助詞「が」もしくは「を」想定できる。「債権」を図3に示した意味素性辞書で検索すると、「特徴」という意味素性が検索される。図5の格パターン辞書において、用言「放棄」の場合、格助詞「を」の体言の意味素性は「所産/動き/特徴」であり「債権」の意味素性「特徴」とマッチングする。「従って、図6(b)に示すように、「放棄する」の深層格「対象」として「債権」が付与され、深層格が満たされた意味ネットワークが作成される。【0033】また、例えば、「日銀は放棄。」という省略文を上述した処理により変換して得た、「日銀は放棄する。」という動詞述語文の場合、用言は「放棄」である。そこで、図5の格パターン辞書から、用言「放棄」を検索し、これに対応する格パターンをチェックする。「日銀は」の副助詞「は」については、格助詞「が」もしくは「を」想定できる。「日銀」を図3に示した意味素性辞書で検索すると、先程の「債権」の場合と異なり「組織」という意味素性が検索される。図5の格パターン辞書において、用言「放棄」の場合、格助詞「が」の体言の意味素性は「人/組織」であり、「日銀」の意味素性「組織」とマッチングする。従って、図6(c)に示すように、「放棄する」の深層格「主体」として「日銀」が付与され、深層格が満たされた意味ネットワークが作成される。【0034】以上述べてきた通り、本実施形態によれば、体言止め等により文末が省略された文を、名詞述語文か動詞述語文か、若しくは、それ以外の文かに分けて処理することにより、省略のない文により適切な形で変換することができる。更に、そのように文末が省略された文を適切な形で変換することにより、文意により忠実な意味ネットワークを作成することができ、機械翻訳等を行う場合に、より自然な翻訳が可能となる。【0035】<他の実施形態>図7は、意味素性辞書の代わりに使用する概念辞書を階層表現した図である。図3に示す意味素性辞書では、一群の単語について一つの意味素性を割り当てたが、図7の概念辞書は、語の概念を階層構造化したものであり、各階層の概念ノードが下位の階層の概念を包含する上位概念となり得る。そして、各概念ノードには、その概念に対応する単語が定義(リンク)されている。【0036】図4の用言推定用の格パターン辞書及び図5の意味解析用の格パターン辞書は、それぞれ意味素性に代えてこの概念を用いて構成することができ、これを用いて用言の推定及び意味解析を行うことができる。図8は、図7の概念辞書を用いて作成された意味解析用の格パターン辞書の例を示す図である。図8の例では、図5の例よりも格パターンが多様化している。これらの辞書を用いて意味解析処理を行う場合について、図3及び図5の辞書を用いる場合と比較して説明する。。【0037】例えば、「開催期間、終了。」、「昨日、終了。」という文について考えると、まず、サ変名詞で終了する文であり、動詞述語文としてサ変名動詞化し「開催期間、終了<する>」「昨日、終了<する>」とし、用言が「終了」となる。また、図3の意味素性辞書の場合、「開催期間」、「昨日」はいずれも「時」という意味素性に該当する。従って、図5の格パターン辞書を用いた場合、体言の意味素性「時」は、省略された格助詞の代わりに格助詞「が」もしくは「を」を想定し、「終了」の二種類ある格パターンの両方とマッチングするが、マッチングの充足度から、格助詞「が」のみしかとらない「終了」が選択される。その結果、意味ネットワークは、それぞれ、図9(a)及び(b)のように作成される。【0038】これを、図7及び図8の辞書を使ってマッチングすると、概念ノード「開催期間」は「期間」の下位概念なので「が(主体)」にマッチングするが、概念ノード「昨日」は「期間」の下位概念ではないので、マッチングしない。従って、意味ネットワークは、それぞれ図9(c)及び(d)のように作成され、より正確な意味解析が可能になる。その後、図10に示すような、概念辞書を用いた用言推定用の格パターン辞書を用いることで、上記実施形態の場合と同様に、用言推定を行うことが可能である。なお、概念辞書及びその格パターン辞書は、用言推定のみならず、上述したS205の、処理中の文が名詞述語文に該当するか否かの判定にも用いることができることはいうまでもない(上記基準(4))。【0039】次に、上記実施形態では、用言が「コピュラ」の場合、意味解析処理では、「コピュラ」による「主体」と「同定項」の関係付けしか行えない。しかし、「彼女は二度目の勝利。」という文では、「彼女」が「主体」、「二度目の勝利」が「同定項」となり、このまま、英語に直訳すると、"She is the second win."となる。これを図8の格パターン辞書で意味解析を行い、「彼女」が「主体」、「二度目の勝利」が「動作項」とすれば、"She get the second win." くらいの訳し分けが可能となる。【0040】次に、更に他の実施形態について種々説明する。上記実施形態では、省略文を変換する際、時制を考慮していないため、例えば、「昨日、終了。」という文に対して、「昨日、終了<する>。」という時制に矛盾の起こる文が生成され得る。そこで、文中に時間を表す副詞がある場合、それの時制を補完し、「昨日、終了。」は「昨日、終了<した>。」とするように、時制を考慮することが好ましい。この場合、前後の文脈として、すでに解析した文の時制を補完するなどの処理を行うようにしてもよい。【0041】次に、上記実施形態では、省略文が動詞述語文に該当する場合、単に文末に「する」を補完してサ変名詞をサ変動詞に変換することとしたが、能動態か受動態かを考慮して、場合により「される」を補完するようにしてもよい。この場合、例えば、「債権が放棄。」という文のように、格助詞「が」のとる体言が格パターンの「が」格には合わないが、「を」格には合うか否かを判定し、「される」を補完するようにして「債権が放棄される。」と変換してもよい。【0042】次に、上記実施形態では、省略された用言の推定を代表的な用言にしぼって、格パターンから推定するようにしたが、格パターンが同じでも文体によって使い分けられる用言がある。その文体を外部からパラメータとして与えて、推定される用言を置き換える用にしてもよい。例えば、「「くやしい」とコーチ。」の文について、「くやしい」とコーチが話す。」と推定された場合、ここに"改まった文章"というパラメータを与え、「くやしい」とコーチが<語る>。」と置き換えてもよい。【0043】次に、上記実施形態では、省略文に対し、「です」、「ます」などの丁寧度を示す部分の補完は行っていない。しかし、前後の文脈から、同様の丁寧度を示す助動詞を補完するようにしてもよい。または、パラメータとして丁寧度を与え、助動詞を補完するようにしてもよい。【0044】以上、本発明の好適な実施の形態について説明したが、本発明の目的は、前述した実施形態の機能を実現するソフトウェアのプログラムを、システムあるいは装置に供給し、そのシステムあるいは装置のコンピュータ(またはCPUやMPU)がプログラムを読み出し実行することによっても、達成されることは言うまでもない。【0045】この場合、そのプログラム自体が前述した実施形態の機能を実現することになり、そのプログラムや、そのプログラムを記憶した記憶媒体或いはプログラム製品は、本発明を構成することになる。また、コンピュータが読み出したプログラムコードを実行することにより、前述した実施形態の機能が実現されるだけでなく、そのプログラムコードの指示に基づき、コンピュータ上で稼働しているオペレーティングシステム(OS)などが実際の処理の一部または全部を行い、その処理によって前述した実施形態の機能が実現される場合も含まれることは言うまでもない。【0046】さらに、記憶媒体から読み出されたプログラムコードが、コンピュータに挿入された機能拡張カードやコンピュータに接続された機能拡張ユニットに備わるメモリに書込まれた後、そのプログラムコードの指示に基づき、その機能拡張カードや機能拡張ユニットに備わるCPUなどが実際の処理の一部または全部を行い、その処理によって前述した実施形態の機能が実現される場合も含まれることは言うまでもない。【0047】【発明の効果】以上説明した通り、本発明によれば、体言止め等により文末が省略された文を、省略のない文に、より適切な形で変換することができる。
プログラム、文処理装置及び文処理方法 - 特開2003−323421 | j-tokkyo
