しきい値監視は,監視対象サービスのサービス性能が設定したしきい値を超過した場合に検知する監視方法です。
SLOが定義されている場合,しきい値としてSLOの値を設定することで,SLOの超過を検知できます。また,SLOが設定されていない場合も,基準となる値をしきい値として設定することで,サービス性能が想定していた基準を超過したことを検知できます。
しきい値監視でしきい値の超過が検知された例を次の図に示します。
図3-16 しきい値の超過が検知された例
この図では平均応答時間を監視しています。時間の経過に伴ってサービス性能の値が増加していき,しきい値を超過したため検知されました。
検知された場合,エラーとなって画面に表示されます。
画面にエラーが表示された例を次の図に示します。
図3-17 画面にエラーが表示された例(しきい値監視)
画面には,エラーのアイコン,検出日時,エラーの対象となったサービスグループの名称,サービスの名称などの情報が表示されます。サービス性能がしきい値を超過し続ける場合は,最初に検知された時点のエラーだけが表示されます。表示されたエラーの前後のサービス性能はグラフで確認できます。
グラフを表示した例を次の図に示します。
図3-18 グラフを表示した例(しきい値監視)
グラフでは,しきい値を超過した時刻がエラーのアイコンで,しきい値を超過する原因の事象が発生したと推測される時刻が色付きの帯で表示されます。
しきい値監視をするためには,［設定］画面でしきい値を設定する必要があります。
しきい値
監視対象サービスの状況を判断する基準となるしきい値を設定します。
JP1/PFMと連携する場合
JP1/PFMと連携することで,システム性能についてもしきい値監視ができます。システム性能のしきい値監視では,次の2種類の監視項目があります。
しきい値を上回った場合に通知する監視項目
しきい値を下回った場合に通知する監視項目
どちらの監視項目に該当するかは,［設定］画面の［監視設定］エリアで確認できます。［しきい値］列のアイコンがの場合はしきい値を上回った場合に通知する監視項目,の場合はしきい値を下回った場合に通知する監視項目になります。
しきい値監視では,一過性のしきい値超過を検知することを防止するため,継続的にしきい値超過が発生した場合に検知されます。しきい値超過が検知される基準を,サービス性能を監視する場合とシステム性能を監視する場合のそれぞれについて説明します。
サービス性能を監視する場合
検知される基準は,60秒間に測定したサービス性能の数と,JP1/ITSLM - Managerのシステム定義ファイル(jp1itslm.properties)中のsloThresholdRateプロパティの指定値によって変化します。sloThresholdRateプロパティの値はすべての監視対象サービスのしきい値監視に適用されます。
システム定義ファイルを編集する場合は,「5.6.1 システム定義ファイルを編集する」を参照してください。
sloThresholdRateプロパティの値としきい値監視の挙動の関係を次の表に示します。
表3-5 sloThresholdRateプロパティの値としきい値監視の挙動の関係
項番
sloThresholdRateプロパティの値(n)
しきい値監視の挙動
しきい値監視によるしきい値超過の検知
