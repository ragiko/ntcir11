HD-PVR2でニコ生配信する方法がそれなりに整ったのでまとめておく。
まず、HD-PVR2について。
HD-PVR2は録画専用ツールでリアルタイムで実況するのには向いてない。
録画したプレイ動画を配信するのであれば問題なく使えると思う。
というのは、HD-PVR2は以下のように接続するわけだけど、
基本的にはTVを見ながらプレイして、PC側で録画する。
このとき、PC側に写る映像には遅延があるため、
TVを見ながら実況すると、PCでキャプチャしている映像よりしゃべる声が3秒はやく再生されることになる。
[ゲーム音とマイク音がずれる原因]
ということで、リアルタイム配信でなければ録音した声を映像とあとから同期させれば実況動画を作ることができるわけだが、
リアルタイムに実況しようと思うとしゃべる声がずれるので実況に向いてない。
もし、声をPS3,XBOX360で取り込むことができれば、映像としゃべる声が同期できるので実況できるようになるけど、
しらべても見つからなかった。
で、HD-PVR2を使ってリアルタイム実況するにはどうすればいいか。
しゃべった声をPCで3秒遅らせて再生すればいい。
要するに以下のような感じ。
[ゲーム音とマイク音を同期させる方法]
HD-PVR2は「3秒」遅延するわけではなくて、「3秒くらい」遅延するので完全な同期ではないけど、
それっぽく同期させることはできる。
マイクで取り込んだ音声を遅延させるプログラムを作成したので、ここにうpしておく。
[音声遅延プログラム]
(XPの方はこちら)
*自作なので安全なプログラムかどうかは保障できないので、自己責任で実行してください。
右クリック->リンク先のコンテンツを保存 で保存してください。
実行ファイルをダウンロードしたら、「delay.jpg」を「delay.exe」に名前を変更してください。
同じフォルダに「delay.bat」という名前の空のテキストファイルを作成してください。
(フォルダの中を右クリック->新規作成->テキスト文書で作成できます)
テキストファイルの中は「delay.exe 3」と書いておきます。
(delay.exeの後の数字はマイクの音を遅らせる秒数になります。)
そして、マイクをPCに取り付けて、
先ほど作成した「delay.bat」を起動すると、PCから3秒送れてマイクにしゃべった声が再生されるはず。
ということで、後は実況するためのソフトをいろいろかき集めて配信環境を立ち上げれば、
なんとかリアルタイム実況配信ができるわけである。
自分が配信の際に使っているソフトは以下のとおり
Adobe Flash Media Live Encoder 3.2(映像、音声をニコ生に送信するソフト)
ArcSoft ShowBiz(HD-PVR2のキャプチャ画面を写すソフト(HD-PVR2同梱))
SCFH(ゲームのキャプチャ画面をFMEに取り込ませるためのソフト)
delay.bat(マイク音を遅らせて再生するソフト)
AmaMix(ゲーム音、マイク音を取り込んでFMEに取り込ませるためのソフト)
BouyomiChan(ニコ生のコメントを読み上げるソフト)
Nway(ニコ生のコメントを棒読みちゃんに送信するソフト)
FMEAutomator(いろんなアプリケーションを一気に起動してくれて、ニコ生配信枠を自動でとってくれるソフト)
上のソフトは相性が悪くて動画がカクカクになったので、今は下のソフト群を使っている。
FFMPEGLauncher(枠取り自動化 + 動画配信ソフト) &larr; FMEより高画質なエンコードができるらしい
ArcSoft ShowBiz(HD-PVR2のキャプチャ画面を写すソフト(HD-PVR2同梱))
SCFH(ゲームのキャプチャ画面をFFMPEGに取り込ませるためのソフト)
delay.bat(マイク音を遅らせて再生するソフト)
AmaMix(ゲーム音、マイク音を取り込んでFMEに取り込ませるためのソフト)
BouyomiChan(ニコ生のコメントを読み上げるソフト)
Nway(ニコ生のコメントを棒読みちゃんに送信するソフト)
ということで使うソフトがいっぱいあって設定がすごい面倒だけど、
がんばればなんとかなる。
あと、HD-PVR2はXBOX360は普通につなげばPCにもTVにも画面を写すことができるけど、
PS3は若干面倒な操作が必要になる。
Youtubeにわかりやすい動画があがってたので、参考にするといいと思う。
簡単にまとめると、
①PS3のディスプレイ設定で出力をD端子にして1080p以外を出力するように設定する。
②HD-PVR2に同梱されている複雑なケーブル(HDMIじゃないケーブル)をHD-PVR2とPS3に接続する。
③HD-PVR2とPCを接続する。
④PCでキャプチャソフト(ArcSoft ShowBiz)を立ち上げ、キャプチャタブをクリック
⑤ビデオ入力をComponent (YPbPr)にする。
これでオッケー
XBOX360と切り替えるときはビデオ入力をHDMIにすればオッケー。
PCでの操作が必要だけど2つのゲームの録画環境が1つの機械にまとまってるからちょっとだけ便利かも。
げむげむじゅげむ HD-PVR2でPS3,XBOX360をニコ生実況配信する方法
