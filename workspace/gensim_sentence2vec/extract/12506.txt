データの準備回帰の近似を開始するには、データを近似関数に望ましい形式にします。すべての回帰手法は、配列 X の入力データと独立したベクトル y の応答データか、テーブルまたはデータセット配列 tbl 内の入力データと tbl の列としての応答データで始まります。入力データの各行が、1 つの観測値を表します。各列が 1 つの予測子 (変数) を表します。テーブルまたはデータセット配列 tbl では、次のように 'ResponseVar' の名前と値のペアで応答変数を示します。mdl = fitlm(tbl,'ResponseVar','BloodPressure');
% or
mdl = fitglm(tbl,'ResponseVar','BloodPressure');応答変数は既定で最後の列です。数値の "カテゴリカル" 予測子を使用できます。カテゴリカル予測子は可能性の固定セットからの値をとります。数値配列 X では、'Categorical' 名前と値のペアでカテゴリカル予測子を示します。たとえば、6 つの予測子から 2 と 3 がカテゴリカルであることを示すには、次のようにします。mdl = fitlm(X,y,'Categorical',[2,3]);
% or
mdl = fitglm(X,y,'Categorical',[2,3]);
% or equivalently
mdl = fitlm(X,y,'Categorical',logical([0 1 1 0 0 0]));テーブルまたはデータセット配列 tbl では、近似関数はこれらのデータ型がカテゴリカルであることを想定しています。論理値カテゴリカル (ノミナルまたは順序)文字列または文字配列数値予測値がカテゴリカルであることを示すには、'Categorical' 名前と値のペアを使用します。欠損数値データは NaN で表されています。他のデータ型用の欠損データを表すには、「グループ化変数の欠損値」を参照してください。入力と応答データのデータセット配列Excel® スプレッドシートから数値配列を作成するには、次のようにします。ds = dataset('XLSFile','hospital.xls',...
'ReadObsNames',true);ワークスペース変数からデータセット配列を作成するには、次のようにします。load carsmall
ds = dataset(MPG,Weight);
ds.Year = ordinal(Model_Year);入力および応答データのテーブルExcel スプレッドシートからテーブルを作成するには、次のようにします。tbl = readtable('hospital.xls',...
'ReadRowNames',true);ワークスペース変数からテーブルを作成するには、次のようにします。load carsmall
tbl = table(MPG,Weight);
tbl.Year = ordinal(Model_Year);入力データの数値配列、応答の数値ベクトルたとえば、ワークスペース変数から数値配列を作成するには、次のようにします。load carsmall
X = [Weight Horsepower Cylinders Model_Year];
y = MPG;Excel スプレッドシートから数値配列を作成するには、次のようにします。[X Xnames] = xlsread('hospital.xls');
y = X(:,4); % response y is systolic pressure
X(:,4) = []; % remove y from the X matrixsex などの数値以外のエントリは X には表示されません。
近似手法の選択モデルをデータに近似させるには、以下の 3 つの方法があります。最小二乗近似ロバスト近似ステップワイズ近似最小二乗近似fitlm を使用して、モデルのデータへの最小二乗近似を作成します。この方法は、モデルの型を十分に把握し、パラメーターを見つけることが主な目的である場合に最適です。いくつかのモデルを試す場合にも便利です。最小二乗近似を使う場合、外れ値を破棄するためにデータを手動で調べなければなりませんが、このタスクに役立つ方法もあります (「残差 — 学習データのモデル品質」を参照)。ロバスト近似外れ値にほとんど影響されないモデルを作成するには、fitlm を RobustOpts 名前と値のペアと併用します。ロバスト近似は、外れ値を手動で破棄する手間が省けます。ただし、ロバスト近似では step が使えません。そのため、ロバスト近似を使用する場合、適正なモデルでステップワイズを検索できません。ステップワイズ近似モデルを検索し、パラメーターをそのモデルに適合させるには、stepwiselm を使用します。stepwiselm は、定数などの 1 つのモデルから開始し、一度に 1 つずつ項を増減する貪欲法で、それ以上改良できなくなるまで、最適な項を毎回選択します。ステップワイズ近似を使用して、有効な項のみを含む適正なモデルを見つけます。 この結果は、開始モデルに依存します。通常、定数モデルで開始すると、小さいモデルになります。さらに多くの項で開始すると、複雑なモデルになりますが、平均二乗誤差はより小さくなります。「大小のステップワイズ モデルの比較」を参照してください。ロバスト オプションはステップワイズ近似では使用できません。ステップワイズ近似の実行後に、モデルで外れ値を探してください (「残差 — 学習データのモデル品質」を参照)。
単一モデルまたはモデル範囲の選択線形回帰のモデルを指定する方法はいくつかあります。最も便利だと思う方法を使用してください。簡単な文字列項の行列式fitlm で指定するのは近似のモデルです。モデル仕様を指定しない場合の既定値は 'linear' です。stepwiselm では、指定するモデルの仕様は、ステップワイズ手順で改善を試みる最初のモデルです。モデルの仕様を指定しない場合の既定の最初のモデルは 'constant' で、既定の上限モデルは 'interactions' です。上限のモデルを変更するには、Upper 名前と値のペアを使用します。
線形回帰 - MATLAB & Simulink - MathWorks 日本
