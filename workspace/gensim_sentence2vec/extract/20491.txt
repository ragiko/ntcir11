相対表現に基づいた動向情報抽出システムの構築
上西康広† 松葉達明‡ 桝井文人† 河合敦夫† 井須尚紀†
†三重大学大学院工学研究科 ‡三重大学工学部
{uenishi, matsuba, masui, kawai, isu}@ai.info.mie-u.ac.jp
1 はじめに
ITが促進したことによって, 様々な電子化情報が増加し続けている. 情報洪水の中から有用な情報のみを効率良く選択して利用することは現代社会において非常に重要であるが, 同時に非常に難しい問題でもある.こうした「玉石混合」から「玉」を取り出すためには, ユーザの関心に応じた柔軟な情報編纂技術[2]が必要である. 情報編纂を指向する研究テーマとして, 「動向情報の要約・可視化[3]」が注目されている. 動向情報とは「06年からのゲーム業界はどうなっているか」, 「今年のガソリンの価格はどう動いているだろう」といった, ユーザの関心に対する最初の回答となるものである.動向情報は, 時系列データや地理的な情報を多く含み, さらに, それらの情報に対する解釈, 原因や予測などの情報を含むという性質を持つ. したがって, グラフや図, 地図などを用いてまとめて視覚化した方が直感的に理解し易い.以上を踏まえると, テキスト情報を解析して動向情報を自動抽出し, ユーザの関心に応じて最適な視覚情報として再構成すれば, 動向情報を効率的に把握する支援技術として非常に有効である.
テキスト中に記述された動向情報を抽出して可視化するためには, 以下のようなステージが必要であるが, 我々は最も基本的であるstage 1に取り組む.
stage 1: 可視化の基本となる情報の抽出
stage 2: 関心や情報の種類に応じた可視化形式の選択
stage 3: 注釈などのテキスト情報を用いた可視化情報の補足以下, 動向情報の要約と可視化に関するワークショップ(MuST)より公開されているMuSTコーパス[3]に従って基本要素を{name(統計量名), par(パラメータ), date(日付), val(統計量)}と定義し, 4つの要素をまとめて4つ組と呼ぶことにする.
動向情報の一部として表れる統計量や日付表現には, 「前年比10%増」のような数値の相対的な差異や, 数値の変動を示すものがあり, 難波ら[4]は, これらの表現を相対表現と呼んでいる.図1に相対表現の例を示す. 相対表現は, 他に示された情報を参照し, 比較することによって, 相対的に他の情報を示す機能を持つ.相対表現を抽出して他の情報と対応付けることができれば, テキスト中に明示されていない情報を推論することができる.
例えば, テキストに明示されている4つ組(explicit な4つ組)として
{ビール出荷量, アサヒ, 2007年, 1億8824万ケース}
が把握できているとする(図1). 相対表現「前年比0.1%増」を利用すれば, 新らたに
{ビール出荷量, アサヒ, 2006年, 1億8800万ケース}というテキスト中に明示されていない4つ組(implicit な4つ組)を把握することができる.
2007年のアサヒのビ ール出荷量は前年比0.1%増の1億8824万ケースとなった。
図1:相対表現と4つ組の例
Uenishi et al.[5]は相対表現を利用して新聞記事から動向情報を抽出する手法を提案し, システムの有効性を検証している.しかしながら, クエリとname要素との関連性判定の性能に問題があった.
例えばクエリとして「パソコン国内出荷台数」が与えられた場合, 「国内パソコン出荷台数」とは関連がないと判定される. これは, 「パソコン/国内出荷台数」, 「国内パソコン/出荷台数」のように文字列を単純に二分割し, 前後の各文字列同士の一致を見るだけなので, 同じ意味でも形態素の並びが異なる文字列には対応できないためである.
本論文では, この問題を改善するシステムを提案する.提案システムは, クエリのバリエーションを増やすことでこの問題に対処する.
以下, 2章で提案システムの概要について述べ, 3章で提案システムの評価実験について述べる. 4章で実験結果についての考察を行う.
2 提案システムの概要
本章では, 提案システムの概要について述べる.本システムは, 相対表現に基づいて, 入力された統計量名(クエリ)と関連するexplicitな4つ組をタグ付き文書から抽出し, 推論によってimplicitな4つ組を生成する.本システムは, 以下の4つのモジュールから構成される.
module 1: クエリ解析・文書検索module 2: explicitな4つ組の抽出module 3: 4つ組の選択
module 4: implicitな4つ組の生成
以下, 各モジュールの処理について述べる.
図2:システム構成
2.1 クエリ解析・文書検索
本モジュールでは, 入力されたクエリを解析し, クエリと関連した文書を検索する.ここで, 「パソコン国内出荷台数」における「出荷台数」のような主辞をheadword, 「パソコン国内」のようなheadwordを修飾する部分をspecifierと呼ぶことにする. headword には「出荷台数」や「出荷数」のように異表記がある.
より多くのクエリと関連がある4つ組を抽出するためににheadwordの言い替え表現を用いる.
あらかじめMuSTコーパスから人手でheadword を収集し, headword辞書を構築して用いた. 図3にクエリ解析・文書検索の概要を示す.
以下, 処理の流れについて説明する.
step 1 headword辞書を参照し, 適合したheadword をクエリのheadwordと置き換え, 新たなクエリを作成する.
step 2各クエリそれぞれに対して, 形態素解析1を行い, 各クエリを名詞・未知語・接頭詞を抽出する.
step 3各クエリに対して全ての組合せの形態素の系列を作成する.
step 4対象タグつき文書に対して形態素の系列中の形態素のAND検索を行う.
step 5文書を獲得できた形態素の系列をクエリリストに登録する.
step1からstep3の処理は, クエリのバリエーションを増やすため, 関連したより多くの4つ組を選択することができる.
例えば, クエリが「パソコン国内出荷台数」である場合, 新たに「国内パソコン出荷台数」や「パソコン国内出荷数」などバリエーションが生成され, それぞれに関して4つ組が選択できる.
1形態素解析器 ChaSen ver.2.3.3. http:// chasenlegacy .sourceforge.jp/
図3:クエリ解析・文書検索の概要
Ex1.
ののは比増のEx2.
は比減の
図4:抽出規則の例
2.2 explicitな4つ組の抽出
本モジュールでは, 抽出規則を用いて, 4つ組を構成する基本要素と相対表現を抽出する.さらに, 補完規則によって抽出規則では抽出できなかった要素を補完し, explicitな4つ組を抽出する.
2.2.1 基本要素抽出
抽出規則を用いて, 4つ組を構成する基本要素と相対表現を抽出する.抽出規則は, 今岡ら[1]の方法に基づきMuSTコーパスにおける相対表現の出現パターンを人手で分析し, 抽象化することによって作成した.
図4に抽出規則の例を示す.
対象文書が入力されると, まず, 文書中に抽出規則に適合する箇所が存在するかどうかを調べる.規則に適合した場合, 適合箇所のタグに相当する文字列が対応する要素として抽出される.図5の例では, 対象文書は図4のEx1に適合し, explicitな4つ組として(ビール出荷量, アサヒ, 2007年, 1億8824万ケース)が得られる.
2.2.2 不足要素の補完
抽出規則だけでは, 4つ組の構成要素抽出が不完全な場合があるため, 不足要素の補完処理を行う.以下に, 各要素における補完対象となる要素を示す.なお, val要素は補完に曖昧性が生じ性能を下げる原因となるため抽出規則のみで抽出を行い, 補完を行わない.
対象文書:
2007年のアサヒ のビール出荷量は前年比0.1%増の1億8824万ケースとなった。
⇑
抽出規則:
ののは比増の
⇓
ビール出荷量アサヒ2007年
1億8824万ケース⇓
name =par =date =val =
explicitな4つ組:
{ビール出荷量, アサヒ, 2007年, 1億8824万ケース
図5:基本要素の抽出
日 本 電 子 工 業 振 興 協 会 は
9
日
、2007年
の パ ソ コ ン 国 内 実 績 を 発 表 し た 。
パソコン出荷台数は前年比1%減の1414万台だった。
図6:不足要素の補完例
name: 抽出規則の適合箇所の前方, かつ, 最近傍のname要素
par:抽出規則の適合箇所の前方, かつ, 同一文内のpar要素
同一文内でpar要素が無い場合, 4つ組はpar要素を持たないとする.
date:以下3つの条件を順に調べ, 適合するdate要素
(1)抽出規則の適合箇所の前方, かつ, 同一文内のdate要素
(2)記事の冒頭から最も早く出現するdate要素(3)記事IDの日付
例えば, 図6の例文において抽出規則「は比減の」が適合するとname要素としてパソコン出荷台数, val要素として「1414万台」が獲得される.しかし, par要素とdate要素は抽出規則では抽出されないため, 補完処理を行う.この場合par要素は抽出規則の適合箇所と同一文中に無いのでパラメータ無し(φ)となる. date要素は補完要素(2)である2007年が補完される.その結果, 4つ組{パソコン出荷台数, φ, 2007年, 1414万台}が得られる.
2.3 4つ組の選択
本モジュールでは, 獲得できた4つ組からクエリと関連する4つ組を選択する.選択には2.1節のクエリ解析で獲得したリストの各エントリと4つ組を構成
するname要素, par要素を用いる.以下, 選択方法について詳述する.
step 1獲得された4つ組から4つ組を取り出し, name要素およびpar要素を形態素解析する.名詞, 未知語および接頭詞を抽出し, それぞれに対して形態素の配列N, Pを生成する.
step 2配列Pを配列Nの先頭に結合し配列Qを生成する.
step 3リストからエントリ(要素数Aの配列q)を取り出し, 配列Q(要素数B)と要素の表層情報を用いて関連性を判定する.判定に用いる条件は以下の通りである.
(1) 配列qが配列Qから生成される長さAの部分配列Q′iのいずれかに一致する場合.
(2) 配列Qが配列qから生成される長さBの部分配列q′iのいずれかに一致する, かつ, 配列qの残りの要素がname要素の抽出文中に存在する場合.
step 4関連がないと判定された場合, step3に戻る.
step 5全ての4つ組に対して同様の処理を繰り返す.
例えば, 配列Q「NEC/パソコン/国内/出荷/台数」(要素数5)と配列q「パソコン/国内/出荷/台数」の場合, 配列qは配列Q中から生成される長さ5の部分配列(パソコン/国内/出荷/台数)と一致するので関連があると判定される.
2.4 implicitな4つ組の生成
本モジュールは相対表現に対応した推論規則を用いてimplicitな4つ組の生成する. 推論規則を explicit な4つ組の要素に適用し計算することによってimplicitな4つ組が生成される.
例えば, 図1のEx1から以下の4つの基本要素が抽出され, explicitな4つ組が抽出されたとする.
nameexp
=
ビール出荷量
parexp
=
アサヒ
dateexp
=
2007年
valexp
=
1億8824万ケース⇓
{ビール出荷量, アサヒ, 2007年, 1億8824万ケース}この場合相対表現「前年比0.1%増」に対応した規則が選択され, dateexpとvalexpに適用される. 以下のように計算を行い, implicitな4つ組が生成される.
dateimp
=
2007年- 1年
=
2006年
1
valimp =
億8824万ケース
1 +
100
0.1
= 1億8800万ケース
⇓
{ビール出荷量, アサヒ, 2006年, 1億8800万ケース}
3 評価実験
提案システムの有効性について検証するため従来システム[5]との比較実験を行った.
以下, 実験環境について述べる.
入力データとして, NTCIR MuST T2N subtask[3]で配布されたMuSTコーパス(XMLタグ付き毎日新聞, 1998年~2001年, 120記事)を用いた. 同様に, 上記タスクで用いられたクエリ(20個)を用いた.
テストデータからクエリと関連する4つ組が正しく抽出されたかを評価した.本システムは, 相対表現に関連した4つ組のみを抽出するので, 相対表現に関連した4つ組のみを評価対象とする.また, 本実験ではexplicitな4つ組のみを評価対象とする.評価値として適合率, 再現率, F値を用いた.
表3に提案システムと従来システムの有効性評価の結果を示す. 提案システムは適合率0.556, 再現率0.338, F値0.421となり, 従来システムと比べて適合率は低下したものの再現率, F値が向上した. F値の差についてapproximate randomization検定[6]を行ったところ有意水準5%で有意差が確認された.
表1:有効性の評価
従来システム
提案システム
適合率
0.638(30/47)
0.556(45/81)
再現率
0.226(30/133)
0.338(45/133)
F値
0.333
0.421
4 考察
F値の差に統計的に有意な差が確認されたことから, 提案システムは従来システムよりも有効であることが示唆される.これは, クエリ解析においてクエリのバリエーションが増加したことから, 4つ組の選択は効果的に働いたと考えられる.
次に失敗例として, 「内閣支持率」というクエリに対して「内閣不支持率」の4つ組を選択してしまった例が上げられる.システムはクエリから生成される形態素の配列が比較対象から生成される形態素の部分配列と一致するかを見ている. この場合, headword が異なるにもかからず「内閣支持率」は「内閣不支持率」の部分配列と一致し, 関連があると判定されたことが原因である.これに対応するためには, 配列の一致の判定をheadwordとspecifierで個別に実施する必要がある.
システムの性能向上のためには, 本論文では改良を加えなかったemplicitな4つ組の抽出の性能を向上させる必要もある. 4つ組の抽出は基本的には相対表現の出現パターンを拡張させた抽出規則によるものである. しかし, 「ガソリン」トピックのような, 相対表現の出現の仕方が発散しており, パターン化が困難であるトピックに対しては, 異なるアプローチが必要である.
5 おわりに
本論文では, 相対表現に基づく動向情報抽出システムを提案した.従来システムに対して4つ組の選択における関連性判定の改善を行った.具体的には, クエリのバリエーションを増やすことで4つ組選択の性能向上を試みた.評価実験によって提案システムが従来システムよりF値が向上し, 動向情報抽出における有効性を確認した.
今後は, explicitな4つ組抽出の性能向上に取り組んでいきたい.また, タグ付き文書ではなくプレーンな文書にも対応できる手法を考えていきたい.
謝辞
本研究は科研費(20500833)の助成を受けたものである。
参考文献
[1]今岡裕貴, 桝井文人, 河合敦夫, 井須尚紀. 動向情報抽出における相対表現の利用効果に関する考察, 日本知能情報ファジィ学会誌, Vol. 18, No.5, pp.735-744, 2006.
[2]加藤恒昭, 松下光範.情報編纂(Information Compilation )の基盤技術, 第20回人工知能学会全国大会, 1D3-2, 2006.
[3] Kato, T., and Matsushita, M. Overview of MuST at the NTCIR-7 Workshop –Challenges to Multimodal Summarization for Trend Information–, Proceedings of the 7th NTCIR Workshop Meeting , pp. 475-488, 2008.
[4]難波英嗣, 国政美伸, 福島志穂, 相沢輝昭, 奥村学.文書横断文間関係を考慮した動向情報の抽出と可視化, 情報処理学会, NL-168, pp.67-74, 2005.
[5] Uenishi, Y., Masui, F., Matsuba, T., Kawai, A., and Isu, N. Trend Information Extraction based on Relative Expression participated on MuST T2N Subtask, Proceedings of the 7th NTCIR Workshop Meeting, pp. 509-514, 2008.
[6] Chinchor, N., Lewis, D.D., and Hirschman, L.Evaluating message understanding systems: an analysis of the third message understanding conference (MUC-3), Computational Linguistics, 19(3): pp.409-449, 1993.

