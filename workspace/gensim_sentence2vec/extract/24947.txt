いまさらHTML,CSS講座トップ > CSS講座 > 適応優先順位
[ ユーザースタイルシートに関する適用優先順位 ] [ ホームページ製作者スタイルシートに関する適用優先順位 ]
ユーザースタイルシートに関する適用優先順位
ホームページを閲覧する方(以降、ユーザー)は、下記 3種類のスタイルシートを選択して閲覧するWebページに適用させる事ができます。
ホームページ製作者が設置するスタイルシート
ユーザースタイルシート
ブラウザスタイルシート
閲覧するホームページに適用されるスタイルシートの 優先順位 は、上記の番号順になります。(1が最も優先)。ユーザースタイルシートは、特に指定しなければ、ブラウザのスタイルシートが適用されており、製作者がスタイルを指定していなければ、ブラウザのスタイルシートが適用され表示されています。
!important
ユーザースタイルシートの指定に、!importantを記述することにより、ユーザースタイルシートの優先順位を強制的に最上位へ位置する事ができます。
また、後述の製作者スタイルシートの適用優先順位を強制的に上げる役割も担いますが、フォントサイズや、フォントスタイル、カラー関連、行間など、ユーザーがホームページを閲覧する上で、ユーザーが自由にならないと不便なスタイルに関しては、 製作者は !important 指定をしない方が良いでしょう。
ユーザースタイルシートの指定方法
各プロパティの値の後ろに 半角スペース を設け、!important を記述します。
例)
*{
line-height: 180% !important;
font-size: 16px !important;
}
指定したいCSSをWindowsならメモ帳で記述し、style.css など名前と拡張子をつけ、デスクトップ等に保存します。Internet Explorer の場合、「ツール」 ⇒ 「インターネットオプション」 ⇒ 「ユーザー補助」で 自分のスタイルシートでドキュメントの書式を設定する(D)にチェックを入れ、先に保存したスタイルシートファイルを参照して指定し、「OK」 ⇒ 「OK」で設定完了です。元の表示に戻す ( ブラウザのデフォルトスタイルシートの表示 )場合は、ユーザー補助の設定画面のユーザースタイルシートのチェックボックスを外し、OKボタンを押します。
ホームページ製作者スタイルシートに関する適用優先順位
前述の適用優先順位は、ユーザ(閲覧者)側から、スタイルシートの 適用優先順位 を説明しました。以降、製作者スタイルシート内でのスタイル適用の優先順位を説明しますので、混同しないようにご注意下さい。
スタイルシートの記述方法による適用優先順位
スタイルシートの記述方法は
スタイルシート定義ファイル(.css)
head要素に記述するスタイルシート 
style属性で、要素に記述するスタイルシート
上記、3通りの記述方法があります。
スタイルシートの記述方法による適用優先順位は、文書外のスタイルシート定義ファイル(外部スタイルシート定義ファイル / .css)はhead要素内に記述されるスタイルシートに上書きされ、head要素内に記述されるスタイルシートは要素に記述するスタイルシートに上書きされ適用されます。
例)
スタイルシート定義ファイル)
p{
color: red;
}
head要素)
<style type="text/css">
<!--
p{
color: blue;
}
-->
</style>
本文)
<p>テキストAAAaaa</p>
スタイルシート定義ファイル(.css)でp要素に赤色を指定していますが、head要素にstyle要素で青色を指定していますので、p要素のテキストは青色で表示されます。
さらに同じ文書で、body要素内のp要素に直接スタイルを記述すると
<p style="color: green;">テキストAAAaaa</p>
スタイルシート定義ファイル(.css)とhead要素にstyle要素でp要素にそれぞれ赤色と青色を指定していますがp要素にstyle属性で緑色を指定していますので、スタイルシート定義ファイル(.css)、head要素内に記述するスタイルシート共に上書きされ、テキストは緑色で表示されます。
記述の順序における優先順位
スタイルシート定義ファイル(.css)やhead要素内に記述するスタイルシートでは後述された指定が優先されます。
例)
p{
color: blue;
color: red;
}
p要素のテキストに青色と赤色を設定していますが、適用されるのは後述の赤色です。
セレクタの具体性による優先順位
要素のみのセレクタ指定よりも特定要素の子要素として記述した場合やid属性やclass属性で区分けをして記述した場合の指定の方が優先され適用されます。
特定要素の子要素 例)
body p{
color: red;
}
p{
color: blue;
}
p要素のテキストに赤色と青色を設定していますが、適用されるのはより具体的なセレクタ指定のある赤色です。
class属性 例)
スタイルシート)
p.text{
color: red;
}
p{
color: blue;
本文)
<p class="text">テキストAAAaaa</p>
p要素のテキストに赤色と青色を設定していますが、適用されるのは要素をclass属性で区分けしたセレクタ指定のある赤色です。
いまさらHTML,CSS入門講座｜CSS講座｜文書全体の適応優先順位
