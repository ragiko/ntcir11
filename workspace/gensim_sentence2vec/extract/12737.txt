※ Tip: Regression Wizard,  Dynamic Fit Wizard, または Global Curve Fit Wizard で Function ダイアログボックスを開くには、New または Edit Code をクリックします。
このセクションでは、回帰方程式のコードを入力する必要最小限の手順を紹介します。各セクションに入力するコードの詳細については下記をご覧ください:
Equations (方程式)
Variables (変数)
Weight Variables (重み変数)
Initial Parameters (初期パラメータ)
Constraints (制約条件)
Other Options (その他のオプション)
コメントを追加する
方程式を入力する
定数を定義する
変数を入力する
初期パラメータ自動推定の関数
初期パラメータを入力する
パラメータの制約条件
オプション
1. コメントを追加する
編集ボックスにコメントを配置するには、コメントの直前にアポストロフィ (')、または、セミコロン (;) を挿入します。アポストロフィやセミコロンを使用すれば、方程式を削除する代わりにコメントアウトすることもできます。
2. 方程式を入力する
Equation セクションにコードを入力するには:
Equation ウィンドウをクリックして、トランスフォーム言語の演算子と関数を使って回帰方程式モデルを入力します。
方程式には、予測する従属変数の名称 (y 変数ではない) はもちろん、独立変数としての使用を計画されたすべての変数を含める必要があります。方程式の変数およびパラメータには適正なものである限り任意の名称を使用することができますが、できるだけ簡潔な表現にするために、名称を短くしたり、1文字であらわすのが推奨されます。観測される従属変数の名称は回帰モデルから除外されます。観測される従属変数 (通常は y 変数) は fit 文で使用します。
回帰方程式モデルが完了したら Enter キーを押して、次に fit 文を入力します。もっとも単純な fit 文は、fit f to y です。ここで、f は回帰モデルで予測する従属変数、y は観測される従属変数として定義する変数 (通常は y としてプロットされるワークシートの変数)です。
重み付けを使用するか否かを定義することもできます。
図 469: 回帰方程式と回帰文の入力例
例:コード f=m*x+b  fit f to y は、このモデルで利用する関数と、観測される従属変数に y を定義しています。この例では、x が独立変数、m と b が方程式のパラメータとなります。
3. 定数を定義する
方程式であらわれる定数は Equation セクションで定義することもできます。方程式のパラメータを回帰パラメータではなく定数として取り扱うと決めた場合、ここで定数の値を定義できますが、その場合は Initial parameters セクションにはこの値を入力しないでください。パラメータを定数にするもうひとつの方法は、そのパラメータの等式制約を Constraints セクションに入力することです。
ここで定義した定数は、Equation Options ダイアログボックスの Constants オプションの中に表示されます。
4. 変数を入力する
独立変数、従属変数、および、重み変数は、Variables セクションで定義します。定義する変数のひとつは、観測される従属変数の値にする必要があります。すなわち、これを元に未知 ("unknown") の変数を求ます。それ以外は、独立変数 (予測変数、すなわち既知の変数) で、重み付き変数はオプションとなります。
変数を定義するには:
Variables セクションをクリックし、回帰方程式の最初の変数に必要な記号や文字を入力します。
等号 (=) を入力したら、変数の範囲を入力します。通常はワークシートの列を入力しますが、トランスフォーム言語の任意の関数で範囲を指定することもできます。
※ Note: Regression Wizard、Dynamic Fit Wizard、Global Curve Fit Wizard で使用される変数の値は、グラフやワークシートで選択した内容に全て依存します。ここで入力した値は、From Code データ形式を選択した場合、または、Function ダイアログボックスから直接回帰を実行する場合に使用されるに過ぎません。
例:方程式コード f=m*x+b, fit f to y の変数に x と yを定義するには、例えば x=col(1), y=col(2) というコードを入力します。これは、x 変数を列1、y 変数を列2と定義し、回帰を直接コードから実行する場合は必ずこの2つの列を使用するよう設定するものです。
5. 初期パラメータ自動推定の関数
ユーザー定義関数のうちパラメータの初期推定値の計算を利用するよう計画したものはいずれも、Variables セクションに入力する必要があります。
6. 初期パラメータを入力する
パラメータは、方程式の変数のうち、方程式モデルで推定を試みる定数の埋め合わせとなるものです。Initial Parameters セクションにその定義または関数を入力することで、作成した方程式モデルの中でパラメータに使用する変数、および、カーブフィット機能の初期値が決定されます。
パラメータの初期値にエラーがないか、回帰方程式に矛盾がないかは、カーブフィット機能によりチェックされます。
パラメータの初期値を入力するには:
Initial parameters セクションをクリックして、方程式モデルに記述された最初のパラメータ名を入力し、その後に、等号 (=) を入力します。 
カーブフィット機能で使用するパラメータの初期値を入力します。可能な限り真の値に近くするのが理想的です。入力する値は数値、または、パラメータを推定する関数にすることができます。
関数を利用してパラメータの初期値を求めることを、パラメータの自動推定 (automatic parameter estimation) と言います。
例:方程式コード f=m*x+b, fit f to y のデータが、右肩上がりで原点を通過するのであれば、パラメータの初期値を m=0.5, b=0 と定義できます。傾きが係数 m、直線の y 切片が定数 b であるので、初期推定値としては相応しいものになります。
7. パラメータの制約条件
パラメータの Constraints (制約条件) は、完全なオプションです。制約条件を使えば、ある特殊な問題でパラメータの範囲を意味のある値に限定することができます。
8. オプション
Iterations (反復数)、Step Size (ステップサイズ) および Tolerance (許容値) は、必要な場合があれば、曲線の当てはめを改善したり制限するために使用するオプションです。デフォルトは大多数のケースに適うよう設定されていますので、本当に必要である場合以外は設定内容を変更する必要はありません。
HULINKS | SigmaPlot ユーザーガイド | 31.2 回帰方程式コードを入力する
