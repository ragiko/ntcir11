2012年9月8日: azimuth要素が入りました。
2013年8月15日以前から10月15日0時まで動作しませんでした。
2014年10月27日 半径上限を1000[m]から25000[m]に緩和しました。半径上限を超えるとエラーを返すようにしました。
Etudeコンテンツは気まぐれですので、十分にご留意下さい。
このコンテンツは、調整段階コンテンツです。正式公開を予定していますが、それまでに若干の仕様変更がありえます。
パラメータ
Toy Service 共通仕様もご覧ください.
jsonp (共通)
応答文書をJSONP形式にする場合に指定します.値を指定しない場合はJSON形式を返却します.
json (共通)
応答文書をJSON形式にする場合に指定します.どのような値を指定しても,また値を指定しなくてもかまいません.
php (共通)
応答文書をPHPシリアル化形式にする場合に指定します.どのような値を指定しても,また値を指定しなくてもかまいません.
lc
enを指定すると,返却文書の都道府県名,市区町村名をローマ字にします.
lon
経度(東西)を指定します.十進の度です.
lat
緯度(南北)を指定します.十進の度です.
mnr
検索半径を指定します.単位はメートルです.最小値は0で,最大値は25000です.デフォルトは0ですので,指定しないとあまり意味がありません.
result要素
Toy Service 共通仕様もご覧ください.ここではresult要素のみ説明しています.
<municipalities>
正常終了(statusの子要素が200番台)の時のみ出現します.1個以上出現します.
<prefecture>
都道府県に関するデータを持ちます.
<pcode>
子要素に都道府県コードが入ります.
<pname>
子要素に都道府県名が入ります.
<municipality>
市区町村に関するデータを持ちます.正常終了(statusの子要素が200番台)の時のみ出現します.
<mcode>
子要素に市区町村コードが入ります(ご注意).
<mname>
子要素に市区町村名が入ります.
<distance>
子要素に距離が入ります.単位はメートルです.
<azimuth>
distanceが正数の場合のみ出現します.子要素に指定された位置を基準にした最も近い点の方位が入ります.単位は度で,北:0度,東:90度,南:180度,西:270度としています.
最短点との方位であることに注意して下さい.
例
広島県庄原市 (地図)
半径1,000m以内
XML版
JSONP版 (jsonp=callerを指定)
JSON版
PHPシリアライズ版
検索範囲を指定しない場合
XML版
JSONP版 (jsonp=callerを指定)
JSON版
PHPシリアライズ版
広島県福山市と岡山県笠岡市のあいだの海上 (地図)
半径1,000m以内
XML版
JSONP版 (jsonp=callerを指定)
JSON版
PHPシリアライズ版
半径10,000m以内
XML版
JSONP版 (jsonp=callerを指定)
JSON版
PHPシリアライズ版
所属地未定の例 - 千葉県船橋市近くの埋立地(地図)から半径1,000m以内
XML版
JSONP版 (jsonp=callerを指定)
JSON版
PHPシリアライズ版
エラー例 - 潮岬沖(30.0N 136.0E, 地図)から半径1,000m以内
XML版
JSONP版 (jsonp=callerを指定)
JSON版
PHPシリアライズ版
エラー例 - 半径100,000m以内を検索しようとした場合
XML版
JSONP版 (jsonp=callerを指定)
JSON版
PHPシリアライズ版
エラー例 - パラメータなし
パラメータなし
jsonp=callerのみ指定
jsonのみ指定
phpのみ指定
近傍市区町村検索サービス (試験) / Finds Etude
