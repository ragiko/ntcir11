ピーク時になると応答時間が急激に悪化したので、とりあえずCPUとメモリを倍増しておけば大丈夫かな……と勘に頼って対応し、ドツボにはまった経験、ありませんか? この連載では、インフラエンジニアなら最低限理解しておきたい性能問題の基礎を解説します。(編集部)
はじめに
前回「性能対策、できてますか?」では「待ち行列の基本」を解説しました。公式を覚えるだけではなく、少し実践的な解説にしようと試みましたが、いかがでしたか?
今回のテーマは、「平均値」と「パーセンタイル値」という統計値についてです。数学の勉強みたいですが、前回同様、もう一歩だけ実践的にしてみたつもりです。
測定したデータを正しく読めることは、性能対策に取り組む際の必須スキルの1つです。「ツールを使えば、測定結果はツールが示してくれるから、特別なスキルは必要ない」と思うのは間違いです。今回もやはり、基礎の中の基礎から、つまり測定データを読むスキルのうち最も基本的な部分から説明していきます。
さて、今回の問題は以下のとおりです。
問2:平均値とパーセンタイル値
まず、この問題を読んで「あれ、なんかおかしいぞ?」と思っていただけたでしょうか。問題文は極端にシンプルですが、性能対策に関連するいろんな課題を隠しています。
少々解説が長くなりますが、レベルを順次上げながら説明していきます。最も「性能問題らしい」部分は後述するレベル3(5番目)で出てきます。それまで少し腰を据えて読んでください。
前提:「パーセンタイル値」を知っていますか?
まず、パーセンタイル値がどういうものかを知らないと、この設問がおかしいかどうかは分かりません。
90パーセンタイルとは、測定結果を並べたもののうち90%が合格になるラインのことです。言い方を変えると、結果のうち、悪いもの10%を除外した中の最悪値がそれに当たります。
例として、測定値が以下のように10個あるとします(本来ならば測定値が10個では少なすぎますが、説明の便宜上少なくしています)。
性能エンジニアリング入門(2):負荷テストのデータ、読めてますか? (1/2) - @IT
