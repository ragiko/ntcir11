  
　この発明は上記課題を解決するためになされたもので、演算量の増加を抑えて言い換え語を精度よく認識することを目的とする。さらに言い換え語の生成ルールやデータベース作成の労力を低減することを目的とする。
　この発明に係る音声認識装置は、
　入力された音声を言語モデルと音響モデルを用いて音声認識し、認識スコアとテキスト表記の組から構成される認識結果を所定個数出力する音声認識手段と、
　認識対象語彙の表記を形態素単位に分割した形態素辞書を保持する形態素辞書メモリと、
　前記音声認識手段の認識結果の表記を前記形態素辞書メモリの内容と照合して、前記認識結果の表記が、前記形態素辞書メモリ中のいずれかの認識語彙の形態素の組み合わせで表現できるか否かをしらべ、表現できる場合に前記認識スコアを修正して、修正後の認識スコアに従って認識結果の順位を並べかえ認識結果とするNベスト候補再構成手段を備える。
　この発明に係る音声認識装置によれば、音声認識手段は認識スコアとテキスト表記の組なる認識結果を所定個数出力し、Nベスト候補再構成手段が、音声認識手段の認識結果の表記を前記形態素辞書メモリの内容と照合して、前記認識結果の表記が、前記形態素辞書メモリ中のいずれかの認識語彙の形態素の組み合わせで表現できるか否かをしらべ、表現できる場合に前記認識スコアを修正して、修正後の認識スコアに従って認識結果の順位を並べかえ認識結果とするので、Nベスト候補再構成手段における形態素辞書との内容照合演算量を軽減でき、かつ認識結果の精度も向上できる。
この発明による音声認識装置の実施の形態１の構成を示すブロック図である。 形態素辞書メモリの内容の一例の説明図である。 音声認識手段による入力音声の音声認識結果の出力例の説明図である。 Nベスト候補再構成手段による処理結果出力例の説明図である。 実施の形態１におけるNベスト候補再構成手段の具体的な処理手順の流れ図である。 この発明による音声認識装置の実施の形態２の構成を示すブロック図である。 サブワードインデックスメモリの内容例の説明図である。 実施の形態２におけるNベスト候補再構成手段の具体的な処理手順の流れ図である。 
　実施の形態１．
　本実施の形態では日本の全国の施設や観光スポットの名称（以後は簡単のため施設と観光スポットを総称して施設という）を、音声認識する場合を例にとり説明する。
　図１はこの発明による音声認識装置の実施の形態１の構成を示すブロック図である。
同図において、１は音声の入力端、２は入力音声、３は音声認識手段、４はNベスト候補
再構成手段、５は形態素辞書メモリ、６は言語モデルメモリ、７は音響モデルメモリ、８は認識結果である。
　言語モデルメモリ６には統計言語モデルを事前に作成して格納しておく。本実施の形態では日本全国の施設の表記の音節列を学習データとして、音節を単位としたトライグラムを学習して格納しておく。なお音節を単位とすることの利点は、学習データとする施設数に関わらず、音節の種類数は数百個以下におさまるので、認識時の演算量増加を抑えた言語モデルを作成できることである。また統計言語モデルを用いることにより言い換え語を言語モデルの学習データとして与えなくても認識可能となるので、言い換え語の生成ルールやデータベース作成の労力を低減することができる。
　音響モデルメモリ７には音声の特徴をモデル化した音響モデルを格納している。本実施の形態では音響モデルは例えばHMM(Hiddenarkovodel)とする。
　形態素辞書メモリ５には、検索対象とする全施設名称のID番号と表記、および前記表記の形態素のひらがな表記を格納している。前記形態素は、前記表記を一般の形態素解析方法を用いて形態素解析し、各形態素のひらがな表記を抽出することによって得ることができる。形態素辞書メモリの内容の一例を図２に示す。
　次に音声認識と検索の動作について説明する。
#38899;声の入力端１から音声２を入力すると音声認識手段３は言語モデルメモリ６に保存されている言語モデルと音響モデルメモリ７に保存されている音響モデルを用いて、例えばビタビアルゴリズムによって音声認識を行い、認識スコアの大きい順に上位N個の認識結果である音節列の表記、音響尤度、言語尤度、および前記認識スコアを出力する。なお前記認識スコアは前記音響尤度と言語尤度の和である。本実施の形態では認識結果の出力個数NはN=50とする。
　また実施の形態では前記音節列の表記は、形態素辞書メモリ５に格納されている形態素辞書と同様に、ひらがな表記とする。音声２の発話内容が「よこはまきょーぎじょー（横浜競技場）」である場合の音声認識手段３の出力例を図３に示す。この時点では正解である「よこはまきょーぎじょー」は２位になっている。
　次にNベスト候補再構成手段４は、前記N個の認識結果を入力とし、前記N個の認識結果のそれぞれに対し、そのひらがな表記が形態素辞書メモリ５中にいずれかの施設の形態素辞書にマッチするか否かを調べ、マッチする場合には言語尤度を修正して認識スコアを再計算し、この再計算した認識スコアの大きい順に認識候補を並べかえる。なおここでは、前記の「マッチする」とは、認識結果の音節列が、ある施設の形態素の組み合わせで表現できる場合のことを言うこととする。例えば認識候補「よこはきょーぎじょー(横浜競技場)」は、施設名「横浜国際総合競技場」の形態素辞書である「よこはま、こくさい、そーごー、きょーぎーじょー」中の形態素「よこはま」と「きょーぎじょー」の組み合わせで表現できるので前記形態素辞書にマッチする。一方、例えば認識候補が「よこはまきゅーぎじょー（横浜球技場）」は「きゅーぎじょー」が前記形態素辞書に存在しないため、マッチしない。
　以下に図５を参照し、Nベスト候補再構成手段４の具体的な処理手順を述べる。
　手順１）入力されたN個の認識結果の上位NL個中から言語尤度の最大値を求め、それをSLmaxとする。なお前記NLはNL≦Nを満たす定数であり、例えばNL=10である（図５のst101）。
　手順２）k=1とおく（図５のst102）。
　手順３）第k位結果の音節列を、形態素辞書メモリ５中の各施設の形態素辞書と順次照合し、いずれかの施設の形態素辞書とマッチするか否かを調べる（図５のst103、st104）。
ここで「マッチする」の定義は前述のとおりである。なおいずれか１つの施設の形態素辞書とマッチした時点で以降の形態素辞書との照合は行わずに下記手順4に進む。
　手順４）手順３でいずれかの形態素辞書とマッチした場合、第k位の新スコアS'(k)を（１）式のとおり修正する（図５のst105）。
　　　S'(k)a(k)'L　　・・・　（１）
　ここでSa(k)は、第k位結果の音響尤度、S'L#12399;修正した言語尤度であり、（２）式によって求める。
　　　　S'LLmaxffset　　・・・　（２）
　ここでSLmaxは手順２で求めた言語尤度の最大値、offsetは予め定めた定数である。本実施の形態では例えばoffset=3とする。したがって図３に示す例の場合、SLmaxは認識順位１位の言語尤度であり、SLmax=-8なので、S'L-8+3=-5となる。
　一方、マッチしなかった場合は、新スコアS'(k)は（３）式によって求める。すなわちスコアは変更しない（図５のst106）。
　　　S'(k)(k)#12288;　・・・　（３）
　手順５）kＫなら、手順６へ進む。klt;Ｋなら、k=k+1とし、手順3に戻る（図５のst107,st108）。ここでKは予め定めたK≦Nを満たす定数である。本実施の形態ではK=N、すなわちK=50とする。
　手順６）手順5で修正した新スコアS'(k)k=1～Ｋ)を用いて認識結果をリスコアリングし、最終的な認識結果を決定する（図５のst109）。
　本実施の形態１による処理動作は以上の通りである。上記手順3で述べたとおり、本実施の形態１による方式は「任意の形態素の省略と語順の入れ替えを許す言い換え語」に対して認識スコアを引き上げることによって認識されやすくする効果を有する。本実施の形態１による方式を図３の結果に対して適用した結果を図４に示す。正解である「よこはまきょーぎじょー（横浜競技場）」が認識順位１位になっていることがわかる。これは「よこはまきょーぎじょー」が施設ＩＤ＝３の形態素辞書にマッチし言語尤度が修正されて高くなったのに対し、Nベスト候補再構成手段４への入力時点では１位であった「よこはまきゅーぎじょー」はいずれの形態素辞書にもマッチせず尤度が修正されなかったため、前記「よこはまきょーぎじょー」と認識スコアが逆転したためである。
　なお、本実施の形態ではいずれかの形態素辞書とマッチした場合、認識スコアの修正は（１）式に示したように言語尤度を修正することによって行ったが、（４）式に示すように一定のオフセット値を加えることによって認識スコアを修正してもよく、同様な効果を得ることができる。
　　　　S'(k)(k)#945;　　・・・　（４）
　ここでαは実験的に定めた０より大きい定数であり、例えばα=10である。
　また本実施の形態では形態素辞書メモリ５に格納される形態素辞書は、図２に示したように施設名の形態素のみから構成したが、利用者が施設名称とともに発声しそうな語彙を追加しておいてもよい。例えば「横浜国際総合競技場」は神奈川県にあるので、利用者は「神奈川県の横浜国際総合競技場」と発声する可能性がある。これに対処するため形態素辞書に「かながわけんの」という形態素を追加することが考えられる。
　また本実施の形態では形態素辞書は、図２に示したように施設名の形態素のみから構成したが、形態素の同義語や類義語を追加しておいてもよい。例えば「横浜ゴルフ場」のという施設名の形態素辞書が「よこはま、#12372;るふじょー」である場合「ごるふじょー」の類義語として「かんとりーくらぶ」等を形態素辞書に追加しておいてもよい。
　また本実施の形態では、言語モデルメモリ６には音節を単位としたトライグラムを格納して用いたが、前記単位は単語や形態素等任意の単位を用いることができる。また音節、単語、形態素等の任意の単位を組み合わせてもよい。また統計言語モデルとしてバイグラムや任意のｎグラムを用いてもよい。
　また統計言語モデルではなく、音節、単語、形態素等の認識単位間で任意の接続を許す言語モデルや、音節、単語、形態素等の認識単位間の接続規則を定めた構文規則型の言語モデルを用いてもよい。統計言語モデルを用いない場合は、言語尤度は算出されないので、認識スコアの修正は（４）式を用いればよい。
　実施の形態２．
　本実施の形態における音声認識装置は、前記実施の形態１の音声認識装置に、サブワードインデックスメモリ９を新たに付加し、Nベスト候補再構成手段の動作を後述のとおり変更するものである。本実施の形態による音声認識装置の構成例を図６に示す。
　なお、サブワードインデックスメモリ９以外は前記実施の形態１と同様であるので、説明を省略する。
　サブワードインデックスメモリ９は認識対象とする全施設名のひらがな表記を用いて予め作成された転置インデックスを保持するメモリである。サブワードインデックスメモリ９の内容例を図７に示す。サブワードインデックスは、同図に示すとおり、認識対象とする全施設名のひらがな表記から音節を抽出し、各音節ごとに当該音節を含む施設名のＩＤ番号を列挙しておくものである。例えば認識対象とする施設名が図２に示すものである場合、音節「か」を含む施設は「かまくらきょーどかん（鎌倉郷土館）」と「鎌倉公園（かまくらこーえん）」等で、前記２つの施設のＩＤ番号はそれぞれ１，２なので、サブワードインデックスメモリ９の音節「か」に対応する施設ＩＤ番号は、1,2,..となっている。
　次に本実施の形態の動作について説明する。音声の入力端１から音声２を入力すると、音声認識手段３は実施の形態１と同一の動作をして、認識スコアの大きい順に上位N個の認識結果である音節列の表記、音響尤度、言語尤度、および前記認識スコアを出力する。Nは、実施の形態１と同様にN=50とする。
　次にNベスト候補再構成手段４は、音声認識手段３の出力した前記N個の結果を入力とし、後述するように各施設の形態素辞書との照合に先立ち、サブワードインデックスメモリ９を参照し、照合する形態素辞書を制限する。これによって形態素辞書との照合数を低減することが可能となり演算量を削減できる。
　以下に図８を参照し、Nベスト候補再構成手段４の具体的な処理手順を述べる。
　手順１）入力されたN個の候補の上位NL個中から言語尤度の最大値を求め、それをSLmaxとする。なお前記NLはNL≦Nを満たす定数であり、例えばNL=10である（図８のst101）。
　手順２）k=1とおく（図８のst102）。
　手順３a）次にNベスト候補再構成手段４は、サブワードインデックスメモリ９を参照し、第k位結果のひらがな表記の音節を全て含む施設ID番号を抽出する（図８のst103a）。例えば図２の第２位の音節列「よこはまきょーぎじょー」の場合、音節「よ」「こ」「は」「ま」「きょー」「ぎ」「じょー」を全て含む施設の施設ＩＤ番号を抽出する。これはサブワードインデックスメモリ９を参照し、前記各音節ごとに当該音節を含む施設ＩＤ番号の集合を抽出し、抽出した前記集合の積（∩）を取ることよって得られる。例えば前記「よこはまきょーぎじょー」の場合、音節「よ」を含む施設ＩＤ番号の集合は｛3,4,・｝、「こ」を含む施設ＩＤ番号の集合は{2,3,4・｝,「は」を含む施設ＩＤ番号の集合は｛3,4｝、「ま」を含む施設ＩＤ番号の集合は{1,2,3,4・｝,「「きょー」を含む施設ＩＤ番号の集合は{1,3,・}、「ぎ」を含む施設ＩＤ番号の集合は{3,・｝,「じょー」を含む施設ＩＤ番号の集合は{3,・｝なので、これらの集合の積として施設ＩＤ番号｛3,・｝を抽出する。抽出された施設ＩＤ番号以外の施設名では、その形態素辞書中に前記「よこはまきょーぎじょー」中のいずれか１個以上の音節が含まれていないということが判るので、前記抽出された施設ＩＤ番号以外の形態素辞書は前記「よこはまきょーぎじょー」にマッチすることはない。したがってそれらの形態素辞書は照合対象から除外することができる。
　手順３b）手順３aで抽出した施設ＩＤ番号の音節を、形態素辞書メモリ５に格納される施設の形態素辞書と順次照合し、いずれかの施設の形態素辞書とマッチするか否かを調べる（図8のst103b、st104）。
　ここで「マッチする」の定義は実施の形態１と同様である。また実施の形態１と同様に、いずれか１つの施設の形態素辞書とマッチした時点で以降の形態素辞書との照合は行わずに下記手順4に進む。
　手順４）手順３bでいずれかの形態素辞書とマッチした場合、第k位候補の新スコアS'(k)を実施の形態１と同様に（１）式、または（４）式にしたがって修正する（図8のst105）。
一方、マッチしなかった場合は、実施の形態１と同様にスコアは変更しない（図8のst106）。
　手順５）kＫなら、手順６へ進む。klt;Ｋなら、k=k+1とし、手順3aに戻る。（図8のst107,st108）。ここでKは予め定めたK≦Nを満たす定数である。本実施の形態ではK=N、すなわちK=50とする。
　手順６）手順5で修正した新スコアS'(k)k=1～Ｋ)を用いて認識結果をリスコアリングし、最終的な認識結果を決定する（図8のst109）。
　以上、説明したとおり本実施の形態に関わる音声認識装置では、上記手順3aにおいて、Nベスト候補再構成手段４がサブワードインデックスメモリ９を参照し、第k位候補のひらがな表記の音節全てを含む施設ID番号を抽出し、前記第k位候補のひらがな表記に対し、手順3bにおいて前記抽出された施設ＩＤの形態素辞書とのみマッチするか調べるようにしたので、形態素辞書との照合数を低減することが可能となり演算量を削減できる。
　なお本実施の形態では形態素辞書メモリ５に格納される形態素辞書は、図２に示したように施設名の形態素のみから構成したが、利用者が施設名称とともに発声しそうな語彙を追加しておいてもよい。例えば「横浜国際総合競技場」は神奈川県にあるので、利用者は「神奈川県の横浜国際総合競技場」と発声する可能性がある。これに対処するため形態素辞書に「かながわけんの」という形態素を追加することが考えられる。
　また実施の形態では形態素辞書は、図２に示したように施設名の形態素のみから構成したが、形態素の同義語や類義語を追加しておいてもよい。例えば、「横浜ゴルフ場」のという施設名の形態素辞書が「よこはま、#12372;るふじょー」である場合「ごるふじょー」の類義語として「かんとりーくらぶ」等を形態素辞書に追加しておいてもよい。
　また本実施の形態では、言語モデルメモリ６には音節を単位としたトライグラムを格納して用いたが、前記単位は単語や形態素等任意の単位を用いることができる。また音節、単語、形態素等の任意の単位を組み合わせてもよい。また統計言語モデルとしてバイグラムや任意のｎグラムを用いてもよい。
　また統計言語モデルではなく、音節、単語、形態素等の認識単位間で任意の接続を許す言語モデルや、音節、単語、形態素等の認識単位間の接続規則を定めた構文規則型の言語モデルを用いてもよい。統計言語モデルを用いない場合は、言語尤度は算出されないので、認識スコアの修正は（４）式を用いればよい。
　この発明による音声認識装置は音声認識でのデータベースの検索装置、例えばカーナビーゲーション装置等の音声認識ナビゲーション装置に利用可能である。
Patent WO2010100977A1 - 音声認識装置 - Google Patents
