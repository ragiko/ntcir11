免責事項
以下の記事内で用いられている数字に関しては特に出典を明らかにしているものの他は、説明のためのモデル化または相対比較のための定量化を筆者が勝手に行っているものであり、確たる根拠はありません。
したがって読者が当該数字を元に独自に実施した行為によって生じた結果については、当方は一切責任を負うものではありませんのでご承知置きください。
1.MIDIにおける音の大きさを決める要素
音楽においてメロディ、リズム、ハーモニーと同様に重要な要素がダイナミクス、つまり音の大きさの変化です。
一般的なMIDIシーケンスとDAWの間で、音の大きさの制御に係わるメッセージ、コントロールがどのようにやり取りされているか初歩的な実験をしながら確かめてみたいと思います。
話の筋道を決めているわけではないので、あちこち脱線するかもしれませんがそのへんは大目に見てください。
さて、例で取り上げるDAWソフトは前回までの記事で触れたSONAR X1 LEですが、MIDIに関する規格は共通ですので、他のソフトをお使いの方でも類推は簡単にできると思います。
前置きが長くなりましたが、MIDIメッセージのパラメータの中で音の大きさに関係するのは、ベロシティ(ノート・オン・ベロシティ)、ボリュームそしてエクスプレッションの3つです。パンもステレオにおいて左右の音量バランスの変化をさせる意味ではボリューム・コントロールの一種ですが、音の定位の変化が種目的ですので、まずは対象から外します。
参考書などで書かれているこれらの使い分けは、ベロシティは音量だけではなく、その数値の範囲によって音色やアーティキュレーションが変化する音源もあるので、そのニュアンスの変化や曲中のアクセントに用い、ボリュームはトラック間の音量バランスの調整に、そしてエクスプレッションは曲中の音の強弱、クレッシェンド、ディミヌエンド等の表情付けに用いるのが一般的となっています。
では これらが、DAWのGUI上どのような場所に配置されているかちょっと見てみましょう。
まずピアノロール上のノートと一緒に示されるベロシティとコントロール・チェンジ(以下CC)#7のボリューム同じくCC#11のエクスプレッションです。デフォールトではベロシティ以外のCC部は表示されていませんが、表示設定の方法は後ほど触れます。
MIDIの規格では、ベロシティは1～127(0はノート・オフと等価とみなされます)、ボリュームとエクスプレッションは各々0～127の範囲で設定が可能です。
次にDAW固有のつまみやフェーダーを見てみましょう。
トラックビューとインスペクター(コンソールビューと同じ)にそれぞれ、つまみやフェーダー、バーインジケータがありますが、次のように連動しています。
あちこちに音量コントローラーがあるようで複雑ですが、さらにプラグインシンセ自体にもボリュームがあるのが普通です。
例によってモデル化して図示してみると、
うーんやはり結構複雑ですね。でも通常ゲインは使うことがないでしょうし、プラグインシンセの設定もデフォールトのままで良いでしょう(多分最適設定となっているはずだから)。
では実際にパラメータと音量の関係を調べてみましょう。音色やエンベロープ(発音から消音までの音量レベルの時間敵変化のパターン)は単純なほうが解り易いので SONAR X1 LE付属しているシンセサイザSquare Ⅰで無変調のサイン波を作ってベロシティMAXの127でA4(440Hz)の音を鳴らしてみましょう。
確認のため、エフェクトとしてチューナーとスペクトラムアナライザも挿入してみました。チューナーはGVSTのGTune-GJ、スペアナはVEXENGOのSPANを使いましたが、どちらもフリーで入手できます。
こんな感じになります。
スペクトラムが440Hzで急峻に立ち上がっているのが判ると思います。
ところでこのときの出力レベルは -11.8dBとなっていますので、比較するのにきりの良い数字になるようシンセトラックのボリュームを5.8dB持ち上げて、出力ピークが-6.0dBとなるように調整します。
シンセトラックを波形表示としているので、出力波形のエンヴェロープが確認できますが、小さくてちょっと判りづらいのでSoundEngine Freeで表示してみたのが下の図です。
ピークが-6.0dBにそろっていることが判ります。左右で立ち上がりと位相がちょっとずれていますね。
それではいよいよベロシティーによる音量の変化を実際に確かめてみましょう。
A4の音を3秒鳴らして1秒休みの繰り返しをベロシティーが127、96、64、48、32、24、16、12、8、6、4、3、2、1そして最後また127と設定してみます。
オーディオ出力波形がこちら
ちょっと判りづらいので同じサンプルをwavファイルにエクスポートしてSoundEngine Free で表示してみます。
実際の音がこちら
SquareⅠのベロシティによる音量変化
ベロシティーの数値が小さくなっていくにつれて出力波形の振幅も小さくなっていくのが判りますが、ちょっと予想とは違うようです(その理由は後で述べます)。
試しに同様に単純なサイン波NDC Plugs のSineSynthをDOMINOとVSTHostの組み合わせで鳴らしてみます。
SineSynthのベロシティによる音量変化
今度は予想と合っているようです。
即ち、ベロシティの数値の変化がそのまま出力波形の振幅値に比例しています。
上記の127、96、64、48、32、24、16、12、8、6、4、3、2、1は127(128とみなして)を0dBとすると以下、-2.5dB、-6dB、-8.5dB、-12dB、-14.5dB、-18dB、-20.5dB、-24dB、-26.5dB、-30dB、-32.5dB、-36dB、-42dBに相当します。
ご存知の方が多いかと思いますが念のためdB(デシベル)について説明をしておきますと、dBは数値の比率を対数で表したもので物理的次元のない無名数です。電圧のような振幅の場合式では、Aを基準としたBのdB値は
20Log(B/A)  :Logは10を底とする常用対数
となります。
これに対してdBv、dBuは実際の電圧値を表す単位で、0.775Vを0dBとして、電圧の高さをdBで表したもの
また同じく dBVは1Vを0dBとして、電圧の高さをdBで表したもの
となります。
よく使う比率とdBの換算表を以下に示しておきます。
さて、話を元にもどして、SineSynthの振幅変化を見ると、1つおきに6dBずつ小さくなっているのがわかります。音の小さな部分もスケールを拡大してみましょう。
一方、SquareⅠの方は振幅の減少が徐々にゆるくなりベロシティが8以下ではほぼ同じ振幅となっています。
丁度コンプレッサを通したような特性ですね。
おそらくプラグインによって設計思想が異なっているためこのような特性の変化になるものと思われますが、一度お手持ちのプラグインの特性を調べておくと良いかもしれません。
さて、「だからどうなの?」との話は、同様にボリュームとエクスプレッションによる音量の変化を調べてからにしたいと思いますが、次回以降にします。
目と耳と数字で確認する音の仕組み(1): 末那識2
