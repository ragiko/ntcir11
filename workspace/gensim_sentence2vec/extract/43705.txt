
第1章 パソコンの基礎知識
1-2 CPU
1-2-7 CPUの処理性能
CPUの処理性能は、基本的に「動作周波数」と「IPC」の2つによって決まります。
動作周波数
動作周波数は、1秒間に刻むクロックの数を表し、クロック周波数とも呼ばれています。単位はHz(ヘルツ)で表され、たとえば1秒間に100回のクロックを刻む場合は、100Hzと表現します。
クロックとは、CPUの動作基準となる時間の単位で、このクロックの整数倍の時間をかけて命令を実行していきます。命令パイプライン中の1ステージの実行には最低1クロックかかるので、4ステージ構成の命令パイプラインでは、1個の命令を実行完了するためには、最低でも4クロックの時間が必要となります。
CPUをはじめとしたコンピュータの各回路は、一定の時間で刻まれるクロック信号に歩調を合わせながら処理を行っています。このクロック信号は、非常に正確な時間間隔でパルス(非常に短い時間の間だけ変化する電流)を発生する水晶発振器によって生成されます。
ただし、PC内の回路では、さまざまな周波数のクロック信号が必要とされるので、回路ごとに水晶発振器を設けるのは現実的ではありません。そこで、PLL(Phase Locked Loop)と呼ばれる可変周波数発生回路によって、1個の水晶発振器からさまざまな周波数を持ったクロック信号を生成しています。
さらにCPUの周波数については、逓倍回路(クロックダブラ)が多く用いられています。逓倍回路とは、入力したクロック信号の整数倍の周波数を持つクロック信号を生成する回路です。たとえば、1GHz(=1000MHz)で動作するCPUの場合、100MHzのクロック信号を入力したら、それをCPU内の逓倍回路で10倍に変換しています。
CPUで逓倍回路が用いられる理由には、大きく分けて2つあります。
① CPUで必要とされるような超高周波のクロック信号を直接供給するのが難しいという技術的な問題です。
② 同じCPUでもさまざまな動作周波数の製品が発売されているからです。たとえば、インテル社のPentium4を例にとると、1.5GHz〜3.06GHz(2003年1月時点)の製品が発売されていますが、これらの製品に対して個別にクロック信号を生成するのは現実的ではありません。
水晶発振器の役割を動画で確認しましょう。
パソコンは、各回路がデータをやり取りすることによって動作しています。パソコンは、タイミングを合わせるために水晶発振器という部品が取り付けられています。水晶発振器はメトロノームのように、一定の間隔でクロック信号を発信しています。このクロック信号に合わせて、パソコン内の各回路は協調して動作しています。クロック信号の速さをクロック周波数をいい、一般的に、クロック周波数が高いほど高速で動作します。CPU内部でも、信号に合わせて協調して動作しています。
CPUのクロック周波数の仕組み(MPG動画)
IPC(=Instructions Per Clock cycle)
IPCは、1クロックあたりに実行可能な命令数のことで、実行命令数÷所要クロック数で計算されます。IPCが大きいほど命令の実行効率が高いです。たとえば、2個の命令を実行完了するために5クロックかかった場合、2÷5=0.4となり、IPC=0.4となります。
CPUの処理性能と動作周波数、IPCの関係は以下のようになります。
CPUの処理性能=動作周波数×IPC
この式から、CPUの処理性能を高めるには動作周波数をより速く、そして、IPCをより大きくすればよいことが分かります。
動作周波数の向上には、スーパーパイプラインが、IPCの向上には、スーパースケーラがそれぞれ用いられますが、お互いは、トレードオフの関係にあります。スパーパイプラインは、動作周波数の向上につながる一方で、1命令の実行に要すクロック数が増えるため、IPCが逆に小さくなってしまいます。また、スーパースケーラは、IPCの向上につながる一方でCPUの回路が複雑になるため、動作周波数を高めづらくなってしまいます。
このため、多くのメーカでは、動作周波数とIPCを同じくらいに向上させるのではなく、どちらをどれくらい重視するかという考え方に基づいてCPUを設計しています。
インテル社は、動作周波数を重視してCPUの性能を高めています。現在のPC市場では、動作周波数が高いCPUほど高性能であるとみなされる傾向があります。販売価格も動作周波数の高い製品のほうが高価に設定されています。インテル社は、こうした最近の市場の動向を踏まえ、動作周波数を重視するアプローチをとっています。
一方、競合のAMD社は、IPCを重視してCPUの性能を高めています。それは、低い動作周波数でも高い処理性能を得られることに価値を見いだしているからです。しかし、動作周波数の高さで判断される現在のPC市場では、AMD社のアプローチは不利に働いてしまいます。そこで、同社は、モデルナンバと呼ばれる、動作周波数でない新しいCPUの性能指標を市場全体に浸透させようと努力しているところです。
1-2-6 CPUの内部構造
1-2-8 主なパソコン向けのCPU
パソコンの基礎知識 > CPU > CPUの処理性能
