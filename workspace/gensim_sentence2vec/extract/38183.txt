遷移シミュレーションのための遷移図の作成方法について説明します。作成した遷移シミュレーション用の遷移図は,遷移条件ファイル(拡張子.seq)として保管できます。
<この項の構成>
(1) 新規作成の操作
(2) 遷移シミュレーションウィンドウの構成
(3) 遷移シミュレーション用の遷移図の編集方法
［テスト支援］ダイアログで［遷移シミュレーション］ボタンをクリックします。
［新規・更新選択］ダイアログが表示されます。
「新規作成」のラジオボタンを選び,［OK］ボタンをクリックします。
［実行ファイルの環境設定］ダイアログが表示されます。
なお,初期表示されるフォルダは,ドローで最後に保存したフォルダです。
「実行ファイルの場所指定」で,遷移シミュレーションに使用する定義体が格納されているフォルダを指定し,［OK］ボタンをクリックします。
「遷移シミュレーション」ウィンドウが表示されます。
遷移シミュレーションウィンドウで,遷移図を編集します。
遷移図の編集方法については,「(3) 遷移シミュレーション用の遷移図の編集方法」を参照してください。
遷移シミュレーションウィンドウを次に示し,各部分について説明します。
遷移図の編集領域
この領域で遷移図を編集します。マップのシンボルを配置し,遷移するマップ同士をイベント通知コードのシンボルで結びます。
ファイル一覧
［実行ファイルの環境設定］ダイアログで指定したフォルダの物理マップ(.pmp)または書式イメージファイル(.fmp)の一覧が表示されます。
ツールボックス
シンボルに関してボタンで操作できます。各ボタンの使い方については,ヘルプを参照してください。
マップのシンボル
遷移シミュレーションに使用する物理マップまたは書式イメージファイルを示すシンボルです。シンボルの形状と表示内容は連続表示・印刷の場合と同様です。
イベント通知コードのシンボル
マップから別のマップへの遷移を示します。矢印の向きは遷移の方向を示します。文字列は遷移時のイベント通知コードです。
次に,遷移図の基本的な編集方法について説明します。
(a) 遷移図にマップのシンボルを追加する
ファイル一覧から物理マップ(.pmp)または書式イメージファイル(.fmp)を選び,遷移図の編集領域までドラッグします。
マウスポインタをシンボルに配置したい位置まで移動し,マウスのボタンを離します。
指定した位置にシンボルが追加されます。
(b) 遷移図からマップを削除する
遷移図の編集領域で削除したいマップのシンボルを選択して,メニューバーの［編集］から［削除］を選ぶか,またはツールバーの［削除］ボタンを押します。
マップのシンボルを削除すると,そのシンボルにつながるイベント通知コードのシンボルも削除されます。なお,遷移開始シンボルは削除できません。
(c) マップの遷移を指定する
遷移を示す線型のシンボルで,マップのファイルのシンボルをつなげます。
遷移図の編集領域でマップのシンボルの中央のをクリックすると,マウスポインタがの形になります。
そのマップから遷移するマップにマウスポインタを移動します。表示されるダイアログでイベント通知コードの種類を選択します。
遷移するマップの間に,イベント通知コードのシンボルが自動的に描かれます。
これで,この画面をテスト表示した際にどういうイベント通知コードでどういう処理をするかが指定されます。どのプッシュボタンにどういったイベント通知コードが割り当てられているか,どの［PF］キーにどういったイベント通知コードが割り当てられているかは,あらかじめ画面定義時に定義したイベント通知コードを参照してください。
なお,イベント通知コードのシンボルは,必要に応じて折り曲げることもできます。この場合はイベント通知コードの中央のをクリックし,折り曲げたい位置までドラッグしてください。
遷移するマップ間に指定したイベント通知コードの遷移先を,別のマップに移すことはできません。遷移するマップを変更する場合には,指定したイベント通知コードのシンボルを削除し,変更するマップへ新しくシンボルをつなげるようにしてください。
(d) 仮定マップのシンボルを遷移図に追加する
未作成のマップ(仮定マップ)を遷移図に追加する操作です。
ツールボックスから「マップの追加」または「帳票の追加」をクリックします。
マウスポインタが+の形になります。
マウスポインタを仮定マップのシンボルを配置したい位置まで移動し,クリックします。
仮定マップのシンボルが追加されます。
(e) 仮定マップのシンボルをまとめて遷移図に追加する
複数の仮定マップのシンボルを,ダイアログの指定によってまとめて追加できます。
ツールボックスから「横に追加」または「縦に追加」を選びます。
［画面・帳票の追加］ダイアログが表示されます。
マップファイルの種類を「画面」または「帳票」のラジオボタンで選択し,仮定するマップそれぞれの物理マップ名または書式イメージファイル名と日本語名を指定します。
［画面・帳票の追加］ダイアログで［OK］ボタンをクリックします。
指定した個数分の表示枠が,点線で遷移図の編集領域に表示されます。
表示枠をシンボルを配置したい位置まで移動し,マウスのボタンを離します。
指定した仮定マップのシンボルが連続して追加されます。
(f) マップ名を変更する
マップのシンボルに表示されている名称を,必要に応じて変更できます。
名称を変更したいマップのシンボルを選びます。
遷移シミュレーションウィンドウの［編集］メニューから［マップ名の変更］を選んで表示されるダイアログで,名称を変更します。
(g) イベント通知コードを変更する
遷移に指定されているイベント通知コードを,必要に応じて変更できます。
変更したいイベント通知コードのシンボルを選びます。
遷移シミュレーションウィンドウの［編集］メニューから［イベント通知コードの変更］を選んで表示されるダイアログで,イベント通知コードを変更します。
(h) 注意事項
二次ウィンドウは,一次ウィンドウの表示後に遷移するように指定してください。
画面の遷移を行う条件に,すべてがスペースのイベント通知コードは使用できません。
一つの遷移図に,同じマップを複数指定することはできません。
複数フォルダの物理マップおよび書式データファイルは使用できません。一つのフォルダに,物理マップおよび書式データファイルをコピーして実行してください。
指定できるマップのシンボルの数は,最大500個です。
OpenTP1(TP1/MCF)連携で使用できる次画面機能は,遷移シミュレーション機能では使用できません。
遷移シミュレーションのための遷移図の作成
