
Next: 選択的注視による複数車両の検出・追跡
Up: 実世界で機能する頑健な画像処理アルゴリズムの開発
Previous: 光源色に対して不変な色特徴の設計
&nbsp   Contents 
照明変化に対して頑健な背景差分法
担当:松山 隆司,和田 俊和(京都大学)
動画像からシーン内の移動対象の検出を行う際に用いられる手法の一つとして,
背景差分法が挙げられる.この手法は観測画像と背景画像を比較することで,
簡便に移動物体を検出する手法である.しかし,背景差分法では画像上に現れ
る明度の変化をすべて対象として検出するため,画像上の背景領域で明度変化
が起こるような環境では誤検出が生じる.この問題に対し,本研究では,照明
の強度の変化(照明変化)に着目し,照明変化に対して頑健な背景差分につい
て検討を行った.
仮に観測画像と背景画像の間で照明の変化に対して不変な特徴が存在すれば,
この特徴に差がある部分に移動対象が写されているものと見なすことができる.
本研究では,このように,「照明変化に対して不変な特徴」を基本とした,背
景差分を提案する.尚,本研究では,照明変化に対して不変な特徴として,1)
局所画像のテキスチャパターンの類似性,2)背景画像の照明条件を観測画像の
照明条件に合わせた場合の画素値の差の2つを取り上げて検討を行った.
ここでいうテキスチャパターンの類似性とは,各画素値の類似性ではなく,局
所画像内の画素値の空間的分布の形の類似性を指しており,正規化相関と同様
の方法で評価される.これは,観測画像と背景画像の間でテキスチャパターン
の類似性が高ければその部分は背景と見なされ,類似性が低ければ移動物体と
見なされる.この方法の欠点は,白地の背景の前に黒い一様な物体が現れた場
合のように,移動物体と背景のテキスチャパターンが類似している場合には対
象の検出が行えない場合があると言うことである.
一方,背景画像の照明条件を観測画像の照明条件に合わせた場合の画素値の差
を「正規化明度差」と呼ぶ.正規化明度差による対象検出は,観測画像中の背
景のみが写っている部分と背景画像の同じ部分の画素値の比から,観測画像の
照明条件で撮影した場合の背景画像を生成し,生成された背景画像と観測画像
との間で差分を行うという方法である.この方法では,何らかの方法で観測画
像中の移動物体が写っていない部分を推定する必要がある.
提案手法の基本的な考え方は,1)まずテキスチャパターンの類似性に基づく
対象検出を行い,2)その結果得られた移動対象部分を除去して,観測画像の
照明条件で撮影した場合の背景画像を生成するとともに,正規化明度差を求め
る,というものである.但し,精度良くテキスチャパターンの類似性に基づく
対象検出を行うには,背景画像と観測画像の間で照明条件がどのように変化し
ているかという情報が必要になるため,上述の1),および2)の処理は交互
に反復処理する(図2.9).
テキスチャパターンの類似性,正規化明度差,を用いた対象検出法に共通する
問題点として,観測画像の明度が低い部分では,量子化などに起因する雑音の
影響を受けやすいという問題点がある.この点に関しては,1)背景画像の明
度に応じた閾値処理,2)テキスチャの類似性の空間的分布の評価,の2つを
行うことで対処する方法を考案した.
Figure 2.9:
提案手法の概要
本稿での提案手法の有効性を検証するため,実画像を用いて対象検出実験を行っ
た結果を図2.10〜2.12に示す.実験に用いた画像は 
320 x  240 画素の256階調の濃淡画像である.検出結果の評価には,検
出時の閾値を様々に変化させて,横軸を背景領域を誤検出する割合,縦軸を移
動対象を正しく検出する割合として描いた描いたROC曲線を用いた.この曲線
が左上になっているほど誤検出が少なく正しく対象の検出が行えていると言え
る.
図2.10には,テキスチャパターンの類似性,図2.11には,
正規化明度差による検出結果を示しており,図2.12には,これらの
うちいずれかで検出された部分に対象が写っているという基準で,両方の検出
結果を統合した結果を示している.
これらの結果から,テキスチャの類似性を評価する場合には,「閾値を背景画
像の明度に応じて変え類似性の空間的な分布を評価する方法」,正規化明度差
を用いる場合には,「閾値を背景画像の明度に応じて変える方法」が精度が高
く,さらにこれらを統合することによって,より精度の高い対象検出が行えて
いることが確認できる.
今後の課題としては,検出精度向上のための,より厳密な照明による明度変化
モデルの導入や,対象の移動する軌跡やその形状等の情報の利用があげられる.
また,現在までに提案されている様々な手法との統合によって,背景シーン中
の物体の移動やカメラパラメータの変化等の多様な環境の変化に対して頑健な
移動対象検出システムが確立できると期待される.
Figure 2.10:
テクスチャの類似性による検出結果
R ND:テキスチャの類似性を一定の閾値で処理,
R NDnoise:背景画像の明度に応じた閾値で処理 ,
Rtexture:類似性の空間的分布評価を行った結果
Figure 2.11:
正規化明度差による検出実験
R ID:明度変化の差を一定の閾値で処理
Rintensity:背景画像の明度に応じた閾値で処理
Figure 2.12:
二つの不変特徴を統合した検出実験(R:提案手法)
wsbmaster@vision.kuee.kyoto-u.ac.jp
照明変化に対して頑健な背景差分法
