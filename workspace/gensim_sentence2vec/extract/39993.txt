
Foursquareでは、どこにチェックインしてもらうか、レコメンデーション、ディスカウント、プロモーションアップデートなどあらゆる場面で機械学習の手法を応用しています。1日あたり100万件のExplore機能のクエリと600万件のチェックインがあり、それを高速で処理するとともに、その情報は機械学習のモデルに活かされています。同社のエンジニアブログで、Data AnalystのMichael Liが、機械学習のためのModel Training Engine(MTE)の構築について語っています。
多くの機械学習モデルが線形回帰かその類似のアプローチを利用していて、データをすぐに理解するという意味では利便性は高いが、ときに非現実的な仮定になったり、表現できる関係性が限定されることもある。MTEでは、もっと詳細かつデータのニュアンスをつかめるように、Boosted Decision Tree (決定木) 、Random Forestに似たアルゴリズムを採用している。(インプリはPythonの機械学習ツールscikit-learnとMapReduceをベースにしている。)つまり、データをモデルに合わせるのではなく、モデルをデータに合わせる手法をとっている。
毎日600万件もチェックインがあるとデータはすぐに古くなる。MTEは自動的に日次のデータでモデルを更新していく。新しいシグナルと古いシグナルの更新をすぐに取り込み、新しいモデルが古いモデルよりもパフォーマンスをあげるかどうかモニタリングしている。
システム全体が大規模で複雑に絡み合う構成になると、一見無関係に見えるアプリの変更が、綿密に調整されたモデルに影響を与える可能性もある。
モデルをスケーラブルにするために、データセット全体をメモリに読込めない場合は、内製のOnline machine learningアルゴリズムとDown samplingテクニックを使っている。また、過剰適合をおこさないように、異なるシグナルをどのように一つの予測に落とし込むかについては、 Bootstrap AggregatingとCross-validationを利用している。つまり、あるエンジニアがたまたまランダムなノイズをシグナルとして投入してしまっても、MTEが瞬時に検知して、それを無視するようになっている。これらのおかげで、データサイエンティストでなくても新しいアイデアやシグナルを気兼ねなく提案できる環境になっている。
またMTEはUXなどの変更の影響も受けない。例えば、もしモバイルチームがUIを変更して、友達が過去にチェックインした場所をもっと重要な情報として位置づけたとしたら、MTEは、ユーザがソーシャルシグナルにもっと重きを置くことを検知し、モデルをそれに従って変更してくれる。MTEのおかげで、エンジニアはプロダクトの開発に集中でき、MTEに任せておけば自動的に最適なモデルをつくってくれる。
[Nov. 2013] ワザノバTop25アクセスランキング
[Oct. 2013] ワザノバTop25アクセスランキング
[Sep. 2013] ワザノバTop25アクセスランキング
#foursquare #機械学習 #レコメンド
Foursquare: 機械学習のアルゴリズムがサービスを磨いてくれる -  ワザノバ | wazanova
