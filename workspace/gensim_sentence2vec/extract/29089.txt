shWuFit Reduce Dependency Parsing
浅原正幸
(奈良先端大) swfrdp+NLP2010 (q, Q, A)elseif Q¥--1then % "default reduce"
s¥S, q, A) => (S, q, A¥J (a, q))
else
% Judge on {s¥S, qQ, A)
if s and q has a dependency relation then % "REDUCE"
{sS, q¥Q, A)^ {S, qQ, Au(s, q))
else
% "SHIFT"
{s S, q¥Q, A) ^ (q¥s S, Q, A)end if end if
untilS--niland Q¥ --1return A
ある場合にはREDUCE操作を、係り受け関係がない場合にはSHIFT操作を行う。係り受け関係の有無の判別を、一般の係り受け解析器では機械学習器により行うが、本ゲームでは人間により行う。
3 Garden Path Sentences
本ゲームの用途として、文の係り受け解析難易度の定量評価を考える。評価対象として心理言語学でよく調査研究されているガーデンパス文を用いる。
ガーデンパス文とは、部分的に複数に解釈可能な構造を持ち、人間により解釈される際に、誤った構造にとられやすく、かつ一度誤った構造にとられると正しい構造の解釈が困難な文のことをいう。関係節を含む文・埋め込み文・同音異義語を含む文など様々なガーデンパス文が心理言語学の研究者によって提示され、自己ペースリーディング法・QA法・注視点計測法により検証されている[4, 8]。
本稿ではTokimoto [8]が用いた埋め込み文に基づく3種類の例文を用い、相対的難易度を係り受け正解率および反応速度により評価する。例文は6文節からなる以下のようなものである:
Np-が/Np-を/V-た/Np-に/*/v-た
NPが名詞句、Vが動詞を表す。 1-4, 6文節目の文節
Tan。.(namel-NOM bait.ビty-ACC
-rM
T-droiriamei attached a batleiy d5 a giveawayft。 the 「adl。 、ivhich he sold
図1こExample Sentences
は同じ形であるが、5文節目に異なる形のものが入ることによりそれぞれ異なる係り受け構造を持つ。 5文節目が「Np-が」のものをControl(CTRL)、「Np-を」のものをEarly Boundary(EB)、その他のものをLate Boundary(LB)と呼び、それぞれ図1に示す係り受け構造を持つ Tokimoto [8]はこの例文を用い、インクリメンタルに文節を表示する自己ペースリーディング法とQA法を用いて日本語文の再解析に要するコストを定量評価した。彼の実験において、各文の相対再解析コストがCTRL文<EB文<LB文であることとともに、人によって再解析コストが異なることが示されている。
4 shWuFit Reduce Dependency
Parsing
本ゲームはSR法に基づきWiiFitに同梱されているバランスWiiボードにより操作することにより日本語係り受け解析を行う。今回はバランスWiiボードを操作に用いたが、ソフトウェア自体はジョイスティック・ゲームパッド(Wiiリモコンを含む)・カーソルキーでも操作が可能である。
ゲームの画面を図2に示す。下部に記載されているURLをブラウザで表示するか画像をクリックすることにより動画を見ることができる。画面中段にある左トレイがStack5を表し、右トレイがQueue Qを表す。それぞれ先頭要素が画面中央にあるとし、画面中央の2つの文節間に係り受け関係があるかを人間が判定する。画面下段にあるアイコンをバランスWiiボード上での左右への体重加重により操作する。アイコンを左に移動すると[SHIFT]と書かれている壁にタッチすると「かからない」をアイコンを右に移動すると[REDUCE]と書かれている壁にタッチすると「かかる」を意味する。操作者に対する参考情報として文全体と途中まで決定した係り受け木を表示する。 default shift・default rightの最中およびSHIFT・REDUCE判定直後の画面遷移には
http : //bit. ly/swfrdpNLP2010Fig2
図2: shWiiFit Reduce Dependency Parsing
820-860msのアニメーションが提示され、この間操作者が何もしなければ(重心を中央に保てば)アイコンは自動的に中央に戻る仕様になっている。 1文解析後、正しければ「oK」を、誤っていれば「NG」表示する。操作者はジャンプをすることで次の文へ移ることができる。バックエンドでは文の正解・不正解とともに各アクションの反応速度をはかることができる。
5 Experiments
5.1 Experimental Settings
本ゲームを用いて係り受け解析難易度が定量的に評価できるかを検証する。検証のために、3節に示したCTRL文・EB文・LB文の3種類の例文を用いる。
本試験用のデータとしてTokimoto [8]が実験に用いたものと同じ3種類の例文10文ずつと、今回我々で作成したフィラー(Filler)文30文、あわせて60文を準備した。この60文のうち40文を、(1)フィラ一文5文一(2)フィラ一文15文+CTRL文5文+EB文5文+LB文5文-混成30文一(3)フィラ一文5文の順に提示する。 1被験者が同じ文を2度解析することはなく、文の提示順も被験者毎に異なる。
各被験者は操作になれるために、約5分間の教示を行うとともに、本試験用のデータに基づき実験を行う前に、練習用データ10文1セットを113セット行う。教示では、小学4年の国語の教科書に掲載されている文節係り受けの解説(2 pages)と、ゲームの操作方法および練習用データに含まれる係り受け構造の例を示した解説(6 pages)を提示する。練習用データのセット数は被験者の意志で自由にセット数が設定する。平均練習文教は15.7文であった。
図3に実験環境を示す。 42inchのプラズマモニターに1024x768解像度で表示した画面中、中央800x600ピクセルの領域をゲーム画面として提示した。バラ
http : //bit. ly/swfrdpNLP2010Fig3
図3こ実験環境
ンスWiiボードとモニターの距離は230cm、それ以外の部屋の状況は図3の3Dオブジェクトを計測することによって得られる。
5.2 Results and Discussions
以下実験結果を示す。被験者は大学院学生16人中、比較対象の30文を全問誤答とした2人と視力不足のために距離を変更した3人のデータを排除した11人分を用いる。尚、5人分のデータを排除しなくても結果の傾向に変化はない。
表1に人の文正解率と文反応速度を示す。文正解率(表中"ace. ave.は各文タイプ毎平均を用いる。文反応時間の計測には、人が正解したデータのみに対して、いくつかの評価すべきでない要素を線形回帰により排除した内的にスチューデント化した残差の平均(表中"s.r.r.t. ave."を用いる。排除した要素はモーラ数・文字数.文節数・提示順 default shift数 default right数 SHIFT(左体重加重)教・REDUCEf右体重加重)数 SHIFT-REDUCE間の遷移(左右の体重移動)数の9つ。
人の文正解率においてLB文が突出して正解率が悪かった。またEB文はCTRL文およびフィラー文と比較して有意に正解率がよかった。これは最初に全文(および文の長さ)が確認可能なために、EB 文における1文節目の「Np-が」を最後(6文節目)の動詞に係けるというバイアスが強く働いたと考える。実際、CTRL文の誤りにおいても、このバイアスにより誤った解析を行った例が多かった。これに
対し、LB文の2文節目の「Np-を」は、最後(6文節目)の動詞ではなく隣の3文節目の動詞に係けるというバイアスが働いたと考える。
人の文反応時間においてLB文は他の文に比べて正解するために多くの時間を要することがわかった。
これに対しCTRL文とEB文との間には文反応時間において統計的に有意な差はなかった。
上記は全体的な傾向を分析したものであり、人によってはEB文/LB文を全て正解するのに対し、CTRL文を誤答する者もいた。
表2に人のアクション毎の反応時間を示す。表中文タイプ毎に3行表示しているうち、1行目は当該文を解析に必要なアクションを意味し、s: default shift, r: default rig叫S: SHIFT, R: REDUCEを意味する。 2行目は正解したデータのみに対して、評価すべきでない要素を線形回帰により排除した残差(表中std. residual ave., を文タイプ毎に集計し、人単位でマクロ平均をとったものである。排除した要素はモーラ数・文字数・提示順教の3つ。前の表で排除したその他の要素6つは文タイプ毎に全く同じ値を持つため。 3行目は同残差の標準偏差。 4行目は正解したデータのみについての実時間の人単位でのマクロ平均。
各文とも1アクション目、2アクション目に時間を要している。これはTokimotoの実験のように文をインクリメンタルに提示しているわけではなく、最初に文全体を提示しているために、被験者は一度文全体を読んで確認する傾向があるということがわかる。
表3に人と各種解析器の文正解率の対比を示す。解析器の実験設定は以下の通りである。形態素解析器として、JUMAN-5.1(J5と略記 JUMAN-6.0(J6と略記 MeCab-0.98 with IPADIC-2.7.0(Mと略記)を用いる。 "KNP-2.0"はKNP-2.0、"KNP-3.0"はKNP-3.0、"CaboCha"はCaboCha-0.60によるものでそれぞれデフォルトの設定を利用した。 "Sassano nK"および"Iwatate nK"はJUMAN-5.1(J5)の出力に、正しい文節区切りを与えたものに対して、それぞれSVMに基づくSR法[7]およびトーナメント法間による解析器で解析したものである 8K, 34K はそれぞれ京大コーパス8, 000文34, 000文で訓練したことを意味する。なお"Sassano nK"の解析器の構成には、文献[1]の実装および素性集合を用いたために、文献[7]の解析器とは厳密には出力が異なるだろう。
全ての解析器はCTRL文の正答率が高く、LB文の誤答率が高かった。このことから解析器は名詞句を近い動詞に係けるという強い制約を持っていることがわかる。
EB文に関しては、KNP とトーナメント法がいくつかの文について正解した。トーナメント法は少ない学習データによるもの(8K)のほうが多い学習
表2こ人のアクション反応時間
ア ク シ ョ ン 順 0 1 2 3 4 5 6 7 8 9UI⊥.比LSS 比 比 S 比 s is r r s t d. r e s id u a l a v e. 1.36 -0.1 - 0.39 - 0.41 -0.45s t d. r e s id u a l st d e v. 0.92 0.72 0.78 0.59 0.45
r e a l t im e a v e. 0.83 8.85 4.75 3.60 0.85 3.49 0.85 3.43 0.85 0.85上JJj
S
S
比
b
R
a
b
r
r
r
std. r e s id u a l a v e.
1.32
0.06
- 0.55
-0.40
- 0.35
-0.09
s t d. r e s id u a l st d e v. 0.84 0.89 0.f 0.36 0.83 0.f
r e a l t im e a v e. 0.83 8.75 4.82 3.25 3.45 4.12 4.35 0.85 0.85 0.85LH Sbb 比 o a r r r r s t d. r e s id u a l a v e. 1.28 0.l l - 0.71 -0.31 - 0.36s t d. r e s id u a l st d e v. 0.93 0.97 0.62 0.64 0.58
r e a l t im e a v e. 0.83 10.79 6.13 3.01 4.28 4.18 0. 0.85 0.85 0.
表3:人・解析器の文正解率
U r1.比
U 」J
LH
人
69
85
49
KNP -2.0
J5 ′J6)
100
30
KNP -3.0
J5
90
100
0
KNP -3.0
J6
90
60
40
Cabo Cha
M)
100
S assan o 8 K
(J5)
100
S assan o 34K
(J 5)
100
Iw atate 8 K
(J 5)
100
70
Iw atate 34K
(J 5)
100
10
データによるもの(34K)よりよかった。少ない学習データの場合には、1文節目の名詞句と3文節目の動詞の係り受け関係がコーパス中に出現しなかったが、1文節目の名詞句と6文節目の動詞の係り受け関係が出現した場合に正解したと考えられる。これに対し、多い学習データの場合には、両方の係り受け関係がともにコーパス中に出現し、近い3文節目に係けていると考えられる。
LB文に関しては、格解析モデルを含むKNP-3.0(J6) [2]がいくつか正解した。形態素解析器の出力する意味情報に基づき解析しているために、形態素解析器のバージョンにより解析精度が異なる。
人がCTRL文に比べてEB文をよく正答しているのに対し、SR法("sassanonK"がEB文を全く正答していないことを考えると、人にSR法を強いることによる解析結果の影響は少ないことが伺える。
6 Conclusions
本稿ではSR法に基づく日本語係り受け解析を題材としたゲームを紹介した。応用としてに心理言語実験に適用し、係り受け解析難易度の定量的評価を試験的に行った。心理言語実験において、デバイスとしてバランスWiiボードを用いることにより次のような利点があると考える。一般に心理言語実験における作業は単調であり、被験者が途中で作業を怠けることが多々ありこれを統制することは困難である。
本ゲームを用いることにより、被験者は実験中重心を中心に保つことを強いられるために怠けることが困難になるとともに、その意識がある程度作動記憶
を妨害する効果もあると考える。
本研究の応用の1つとして、係り受け解析ゲームの国語教育における利用を検討している。我々は2009年7月22-24日の3日間本ゲームを用いた高校生向け模擬授業を実施した。機材の関係で少人数(参加者2名)であったが、今後ゲームパッドなどによる手法に転換し、多人数にも対応可能な模擬授業の実施手法を検討し、継続していきたい。
最後に自然言語処理研究者としての観点から、問題提起をしたい。どのようにして今回提示した文を計算機に解析させればよいだろうか。手法としてCoNLL-2009で実施された格解析と係り受け解析の結合推論が必須である。今回利用した例文は語嚢親密度と新聞10年分の頻度情報で統制されており、頻度情報のみで全問正解することは困難であろう。この間題を解決することが我々の次のチャレンジだと考える。
References
[1] M. Iwatate, M. Asahara, and Y. Matsumoto.Japanese Dependency Parsing Using a Tournament Model. In Proc. of COLING-2008, 2008.
[2] D. Kawahara and S. Kurohashi. A Fully-Lexicalized Probabilistic Model for Japanese Syntactic and Case Structure Analysis. In Proc- of HLT-NAACL2006, 2006.
[3] T. Kudo and Y. Matsumoto. Japanese Dependency Analyisis using Cascaded Chunking- In Proc- of CoNLL-2002, 2002.
[4] R. Mazuka, K. Itoh, and T. Kondo. Processing Down the Garden Path in Japanese: Processing of Sentences with Lexical Homonyms. Journal of Psycholinguistic Research, Vol. 26, No. 2, pp. 207-228, 1997.
[5] R- McDonald, F. Pereira, K- Ribarov, anやJ- Hajic-Non-Projective Dependency Parsing using Spanning Tree Algorithms. In Proc. of HLT-EMNLP-2005, 2005.
[6] J. Nivre. Deterministic Dependency Parsing of English Text. In Proc. of COLING-2004, 2004.
[7] M. Sassano. Linear-Time Dependency Analysis for Japanese- In Proc. of COLING-2004, 2004.
lB]芦 Tokimoto. Reanalysis costs in processing Japanese sentences with complex np structures and homonyms: Individual differences and verbal working memory constramgs. Technical Report JCSS-TR-53, Japanese Cognitive Science Society, 2004-
lg]工藤晩松本裕治.相対的な係りやすさを考慮した日本語係り受け解析モデル.情報処理学会論文範Vol. 46, No. 4, 2005.

