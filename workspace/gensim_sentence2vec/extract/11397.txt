
ファイル
jbs_route.conf(構成定義ファイル)
jbs_route.conf.model(構成定義ファイルのモデルファイル)
格納先ディレクトリ
Windowsの場合
物理ホストのとき
Baseパス\conf\route\
論理ホストのとき
共有フォルダ\jp1base\conf\route\
UNIXの場合
物理ホストのとき
/etc/opt/jp1base/conf/route/
論理ホストのとき
共有ディレクトリ/jp1base/conf/route/
説明
JP1/IMで管理するシステムの階層構造を定義するファイルです。
JP1/IMは,システムを管理するマネージャーと,管理対象であるエージェントによって,階層構造のシステム構成により運用します。また,マネージャーは階層化することができます。これによって,さまざまな規模のシステムを管理します。
システム階層構造は,JP1/IMの基盤機能を提供する前提製品JP1/Baseにより管理されています。
このファイルで定義した階層構造の情報を基にして,次のようにJP1/IMの機能が動作します。
JP1イベント転送
重要なJP1イベントは,構成定義情報で定義した,下位のホストから上位のホストへ転送されます(デフォルトの設定の場合)。
自動アクション,コマンド実行
構成定義情報で指定したホストに対して,自動アクションやコマンド実行によるコマンド実行指示を要求できます。
ファイルの最終行には,改行を入れてください。
定義の反映時期
構成定義情報の内容は,次のコマンドを実行して定義が反映されてから有効になります。
jbsrt_distrib(定義情報の配布)
jbsrt_sync(最上位マネージャーでの定義情報の同期)
jbsrt_del(定義情報の削除)
記述内容
[マネージャーホスト]
マネージャーのホスト名を指定します。
ホスト名は,1〜255バイトの,半角英数字および記号("-"," .")で指定します。
システム構成を分割定義する場合は,ほかの構成定義ファイルと重複するホスト名の前に「*」を付けます。
マネージャーは,JP1/IM - Managerがインストールされているホストです。
管理対象ホスト
マネージャーによって管理される管理対象ホストのホスト名を指定します。
ホスト名は,1〜255バイトの,半角英数字および記号("-"," .")で指定します。
システム構成を分割定義する場合は,ほかの構成定義ファイルと重複するホスト名の前に「*」を付けます。
管理対象ホストには,JP1/Baseがインストールされている必要があります。管理対象ホストは,複数のマネージャーを持つことはできません。
ホスト名には,hostsファイルやDNSに登録してあるホスト名,またはjp1hostsに定義しているホスト名を指定してください。
ホスト名として,誤って使用不可文字の「*」を記述した場合,jbsrt_distribコマンドが構成定義を削除する時に「*」が付いたホスト以下の構成定義情報が削除されません。
ホストをエイリアス名で定義する場合,定義ファイルに複数のエイリアス名を記述しないでください。同一ホストの複数のエイリアス名を記述した場合は,それぞれ別ホストとして扱われます。
コマンド実行,自動アクション機能を使用する場合,管理対象ホストにはコマンド実行,自動アクション機能で指定するホスト名を指定してください。また,指定するホストが物理ホストの場合,hostnameコマンドで返されるホスト名,または,そのホスト名に対するエイリアス名を指定してください。ただし,Windows 2000,Windows XP Professional,およびWindows Server 2003のホストは,エイリアス名で記述しないでください(エイリアス名の使用に関する制限はマネージャーの場合も同じです)。
定義例
次の表の階層構成でJP1/IMのシステムを組む場合の構成定義ファイルの定義例を一括定義する場合と分割定義する場合に分けて示します。
表2-6 JP1/IMのシステムの階層構成(例)
統合マネージャー
拠点マネージャー
エージェント
構成定義ファイル(jbs_route.conf)
