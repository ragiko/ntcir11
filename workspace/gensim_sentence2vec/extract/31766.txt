
 
アプリケーションケース 
モデルデータ転送ツール (MDTT) 
がサポートするアプリケーションケースを説明するために、例を示します。この機能は、アプリケーションケースの前提条件が満たされている場合のみ有効です。 
新旧のモデルロール間のマッピング
例 1: 
新モデルロールROL_NEW 
と旧モデルロール ROL_OLD 
間のマッピングの登録
前提条件:
ビュークラスタで登録された新ロールモデル ROL_NEW 
が利用可能でなければなりません。ROL_NEW
にマッピングがあってはいけません。また、モデルロール ROL_OLD
が旧モデルデータで利用可能でなければなりません。
手順
ステップ 1: MDTT 
で
'
ロールタイプ' 
タブストリップを選択します。ダブルクリック、または新モデルロールの一覧から
'
マッピングに登録' 
を選択して、ROL_NEW
を選択します。選択後、ロールの情報がマッピングビューに表示されます。
ステップ 2: 
同様に、ROL_OLD 
が旧モデルロールの一覧からマッピングビューに転送されます。 
ステップ 1 
と 2
の順序は逆でもかまいません。
ステップ 3: '
マッピング転送' 
押ボタンにより、マッピングがMDTT 
のローカルメモリに転送されます。モデル関係をマッピングまたは生成する際には、このマッピングを考慮することができます。
後続条件:
マッピングは、MDTT 
のローカルメモリで利用できるようになり、'
新'
マークが付けられます。ROL_NEW
が新モデルロールの一覧の ROL_OLD
の横に表示され、同時に旧モデルロールの一覧から削除されます。新オブジェクトロールに割り当てられたオブジェクトタイプは、旧モデルロールに割り当てられたオブジェクトタイプによって拡張されます。
例 2: 
新モデルロールROL_NEW 
と旧モデルロール ROL_OLD 
間のマッピングの取消
前提条件:
MDTT 
のローカルメモリ内に ROL_NEW 
と
ROL_OLD 
間のマッピングが必要です。また、 ROL_NEW
と ROL_OLD
間のマッピングが前提となるモデル関係間のマッピングが存在してはいけません。新モデルロールは、生成されている関係タイプに登場していてはなりません。
手順
ステップ 1: MDTT 
で
'
ロールタイプ' 
タブストリップを選択します。新モデルロールの一覧からエントリを選択します。'
マッピングの取消' 
押ボタンを有効ステータスに設定します。
ステップ 2:
'
マッピングの取消' 
を選択します。
後続条件:
マッピングが、MDTT 
によってローカルメモリから削除されます。新旧モデルロールの一覧が更新されます。 
新モデルロールの生成
例 1: 
新モデルロールを旧モデルロールROL_OLD 
から作成
前提条件:
ROL_OLD 
が利用可能で、旧モデルロールの一覧に表示されている必要があります。
手順
ステップ 1: 
旧モデルロールの一覧で ROL_OLD 
を選択します。
ステップ 2: '
新モデルロールの生成' 
を選択します。
後続条件:
生成された新モデルロール ROL_OLD 
は、MDTT 
によってローカルメモリに転送され、新規生成マークが付けられます。また、新モデルロールの一覧に表示され、モデル関係の生成時に考慮されるようになります。旧モデルロールは、関連一覧から削除されます。ROL_OLD
という名称のモデルロールが生成前から存在する場合は、接尾辞 '_NEW'
が生成されたモデルロールに追加されます。したがって、新しい名称は
ROL_OLD_NEW 
になります。旧モデルロールに割り当てられたオブジェクトタイプも、自動的に新モデルロールに割り当てられます。
例 2:
生成されたモデルロール ROL_OLD
の削除
前提条件:
ROL_OLD 
が利用可能で、新モデルロールの一覧に表示されている必要があります。生成されたことを示す内部のフラグ付けも必要です。
手順
ステップ 1: ROL_OLD 
を選択します。
ステップ 2: '
生成モデルロールの削除' 
を選択します。
後続条件:
生成されたロールが削除され、一覧が更新されます。
新旧のモデル関係間のマッピング
例 1: 
新モデル関係REL_NEW 
と旧モデル関係 REL_OLD 
間のマッピングの登録
前提条件:
ビュークラスタで登録された新モデル関係 REL_NEW 
が利用可能でなければなりません。REL_NEW
にマッピングがあってはいけません。また、モデル関係 REL_OLD
が旧モデルデータで利用可能でなければなりません。マッピングを妨げるロールマッピングや生成ロールがあってはいけません。たとえば、生成またはマッピングされた新モデルロールが、REL_OLD
の旧モデルロールに対して存在し、それらが REL_NEW
の対応モデルロールと異なる場合などが問題となります。
手順
ステップ 1: MDTT 
で
'
関係タイプ' 
タブストリップを選択します。ダブルクリック、または新モデル関係の一覧から
'
マッピングに登録' 
を選択して、REL_NEW
を選択します。選択後、関係タイプの情報がマッピングビューに表示されます。
ステップ 2: 
同様に、REL_OLD 
が旧モデル関係の一覧からマッピングビューに転送されます。 
ステップ 1 
と 2
の順序は逆でもかまいません。
ステップ 3: '
マッピングの転送' 
押ボタンを選択して、マッピングを開始します。REL_OLD
のロールタイプの一方または両方にマッピングまたは新規生成モデルロールがない場合は、マッピングを不足しているロール向けに自動作成するかどうか確認されます。ユーザが
'
はい'
と答えなければ、処理は終了します。これは、ロールの不整合が発生した場合も同じです。
後続条件:
ステップ 3 
が正常終了すると、新マッピングが新モデル関係の一覧に表示され、旧モデル関係が関連一覧から削除されます。マッピングには、MDTT
のメモリで '
新' 
マークが付けられます。ステップ 3
でロールマッピングも生成された場合は、3.1
の例 1
の後続条件が各マッピングに当てはまります。
例 2: 
新モデル関係REL_NEW 
と旧モデル関係 REL_OLD 
間のマッピングの取消
前提条件:
MDTT 
のローカルメモリ内に REL_NEW 
と
REL_OLD 
間のマッピングが必要です。
手順と後続条件は、3.1 
の例 2
と同じです。ロールマッピングと生成されたモデルロールは影響を受けません。
新モデル関係の生成
例 1: 
新モデル関係を旧モデル関係REL_OLD 
から生成
前提条件:
モデル関係 REL_OLD 
が旧モデルデータで利用可能でなければなりません。
手順
ステップ 1: MDTT 
で
'
関係タイプ' 
タブストリップを選択します。ROL_OLD
が旧モデル関係の一覧から選択されています。
ステップ 2: '
新モデル関係の生成' 
を選択します。
ステップ 3: '
マッピングの転送' 
押ボタンを選択して、マッピングを開始します。REL_OLD
のロールタイプの一方または両方にマッピングまたは新規生成モデルロールがない場合は、マッピングを不足しているロール向けに自動作成するかどうか確認されます。ユーザが
'
はい'
と答えなければ、処理は終了します。これは、ロールの不整合が発生した場合も同じです。
後続条件:
ステップ 3 
が正常終了すると、生成された関係が新モデル関係の一覧に表示され、旧モデル関係が関連一覧から削除されます。生成された関係には、MDTT
のメモリで '
新' 
マークが付けられます。REL_OLD
という名称のモデル関係が生成前から存在する場合は、接尾辞 '_NEW'
が生成されたモデル関係に追加されます。したがって、新しい名称は
REL_OLD_NEW 
になります。ステップ 3 
でロールも生成された場合は、3.2
の例 1
の後続条件が生成ごとに当てはまります。
旧関係タイプに属性があった場合は、その関係属性は自動的には移行されないことを通知する警告が出力されます。
実行テーブルの名称は、生成されたモデル関係のビュークラスタにマニュアル入力する必要があるという注意も表示されます。
例 2:
生成されたモデル関係
REL_NEW
前提条件:
MDTT 
のローカルメモリで生成されたモデル関係 REL_NEW 
が利用可能でなければなりません。
手順と後続条件は、3.2 
の例 2
と同じです。ロールマッピングと生成されたモデルロールは影響を受けません。
結果の保存
マッピングや生成の後、ビュークラスタで '
保存'
を選択して結果を転送することができます。ロールマッピングや生成されたロールが関係する場合は、利用できる可能性があるオブジェクトタイプも考慮されます。マッピングが行われると、結果は新ロールのオブジェクトタイプに追加されます
(
現在利用不可)
。生成が行われると、結果は完全に転送されます。API
が BOR
移行で利用できるようになると、BOR
オブジェクトが移行されている場合は、ビジネスクラスが自動入力されます。
 
 
 
 
SAP ライブラリ - オブジェクトリレーションシップサービス 6.10
