Java のプログラム内で文字列を生成する際に、どのようなやり方が最も速度が速いか、を測定してみました。
想定
Java プログラム内で 以下のような SQL 文字列を作る想定
測定に使用した Java バージョン
Java 7(1.7.0_45)
Java 6(1.6.0_45)
Java 5(1.5.0_22)
Java 1.4(1.4.2_19)
測定マシンスペック
OS: Windows 7 Pro. SP1 (32 bit)
CPU:Intel Core i3 540
RAM:4 GB
測定方法
以下の各ソースコードを 10万回ループして 開始時と終了時の System.nanoTime() の値の差分を集計しました。
ただし Java 1.4 には System.nanoTime() が存在しないので、System.currentTimeMillis() で集計。
(そのため、Java 1.4 における測定値は参考程度と考えてください)
測定結果
「オリジナル」が実行するソースコードです。
「コンパイル後」が class ファイルから jad で復元したソースコードです。
String (リテラル文字列をそのまま連結)
java.lang.String のインスタンスを用意して、リテラル文字列同士を + で結合するパターン。
オリジナル:
Java で 文字列を生成する場合にどう書くのが速い? - Qiita
