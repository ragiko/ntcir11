
お世話になります。検索のパフォーマンスを確保するため非正規化された比較的大きめの列数(列数は100項目前後)および列長(が長くなるであろう)を持つテーブルを作成しようと考えています。このテーブルでは、長めのテキスト文章を格納するためにVARCHAR2(4000)またはCLOB列が複数列(最大10列程度)必要になります。実際にこれらのカラムにどの程度の割合でデータが格納されるのかがわからないためになんとも言えないかも知れませんが、例えばVARCHAR2(4000)やCLOBのインライン格納(ENABLE IN ROW)だと、最大10列あった場合、それだけで40K(7掛けしても28K)と結構長い列長になってしまい、ブロックサイズをどのように設定すべきか考えてしまいます。なのでこの場合、CLOB型にしてアウトライン格納(DISABLE IN ROW)にし、列長を短くしたほうが、検索パフォーマンスが挙がるのではと考えました。そこで質問なのですが-------------------------------------------------------------------------------1.そもそも上記の考え方は正しいでしょうか。2.VARCHAR2等、CLOB(インライン)を使用、列長が長くなりすぎてしまった場合に発生する、 行連鎖・行移行によるパフォーマンス劣化は、どの程度のものでしょうか。 LOBデータのフェッチにコストが掛かるとの記事(http://oshiete1.goo.ne.jp/qa3052571.html)を見かけたのですが、 このフェッチコストと、行連鎖によるコストの場合、どちらに重きを置くのが良いのでしょうか。3.一般的に、大きなサイズを持つ文字列カラムを複数持つテーブルなどで、 列長が長くなってしまった場合(例えば20K程度とした場合)、 表の分割以外にどのような設計を考えればよろしいでしょうか。-------------------------------------------------------------------------------少し抽象的な質問になってしまい、恐縮ですがご回答、もしくは参考になるサイトなどあればご教示いただければ幸いです。以上。よろしくお願いいたします。環境ORACLE10gR2(10.2.0.1.0) (windows32bit)JAVAアプリケーションよりjdbc(type4)接続で利用することを想定。
Oracle Technology Network (OTN) Japan - 掲示板 : パフォーマンス観点におけるCLOB型とV ...
