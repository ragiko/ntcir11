
キーワード集合をクエリとする 最良照合STD方式 筑波大学 システム情報学系 知能機能工学域 自然言語処理研究室(宇津呂研究室) 1                                                                     研究の背景 2                                                                     音声中の検索語検出(SpokenTermDetection:STD)とは – 音声中から,聴きたいキーワードが発言されている箇所を 検索する技術 筑波大学 「筑波大学の キャンパスは・・・」 「国立大学の中でも 筑波大学は・・・」 検索 「筑波大学循環バス の・・・」 研究の背景 音声データ 3                                                                     音声認識 システム 音声データ 認識結果 テキストデータ <検索語を入力> 文字列検索 キーワードの 発言箇所を 特定 基本的なSTDの仕組み – まず,音声データを音声認識してテキストデータとして表現します. – このテキストデータをキーワード検索することで ,キーワードの 発言箇所を特定します. 研究の背景 4                                                                     音声認識システムの問題 : 未知語 しかしこのように,音声認識の結果が誤っている場合があります. 音声認識システム 認識結果 テキストデータ 「皆さんによく知られているのは ナシゴレンっていう,チャーハン みたいなもの」 音声データ 皆さんによく知られているのは 梨方言っていう,チャーハン みたいなもの 誤認識 研究の背景 5                                                                     音声認識の結果が誤っていると, 検索したいキーワードで文字列検索しても一致しないため 検出できません. 音声認識システムの問題 : 未知語 音声認識システム 認識結果 テキストデータ 「皆さんによく知られているのは ナシゴレンっていう,チャーハン みたいなもの」 音声データ 皆さんによく知られているのは 梨方言っていう,チャーハン みたいなもの 誤認識 ナシゴレン 文字列検索では 検出できない 研究の背景 6                                                                     音声認識システムの認識辞書に登録されていない単語 (=未知語)は認識結果に現れない 今回は「ナシゴレン」が未知語だったので, 異なる単語が認識結果に現れた なぜ誤認識が生じる? 音声認識システムの問題 : 未知語 研究の背景 7                                                                     • 音素遷移ネットワークとは – 単語の読みの単位(音素)のネットワークで,複数の音声認識結果を表現 – たとえば下図では,青いマスを辿ると 「nasihoogeN」=梨方言 という認識 結果が表現されています. 未知語対策手法:音素遷移ネットワーク[名取13] (PhonemeTransitionNetwork:PTN) k s @ h i o a n w g @ g o m @ q e p Nu a o @ k s @ h i o a n w g @ g o m @ q e p Nu a o @ 研究の背景 8                                                                     • 音素遷移ネットワークとは – 単語の読みの単位(音素)のネットワークで,複数の音声認識結果を表現 – たとえば下図では,青いマスを辿ると 「nasihoogeN」=梨方言 という認識 結果が表現されています. • 音素遷移ネットワークを用いたキーワードの検索 – 検索したいキーワードの読みと類似した文字列をネットワークから探し, 検出します. – 多少の不一致を許容することで,認識結果からキーワードを幅広く検出 できる仕組みになっています. 未知語対策手法:音素遷移ネットワーク[名取13] (PhonemeTransitionNetwork:PTN) k s @ h i o a n w g @ g o m @ q e p Nu a o @ k s @ h i o a n w g @ g o m @ q e p Nu a o @ 研究の背景 9                                                                     認識システム1 認識システム10 STD⽤ インデックス変換 ⾳素遷移 ネットワーク ・ ・ ・ ・ ・ ・ ⾳素列化 検索ステップ 照合 電⼦回路電⼦回路 STD結果 音声データ 索引付けステップ キーワード入力 未知語対策手法:音素遷移ネットワーク[名取13] (PhonemeTransitionNetwork:PTN) 研究の背景 • PTN方式の流れ 10                                                                     音声認識システム 「皆さんによく知られているのは ナシゴレンっていう,チャーハン みたいなもの」 音声データ ナシゴレン 研究の背景 未知語対策手法:音素遷移ネットワーク[名取13] (PhonemeTransitionNetwork:PTN) 音素遷移ネットワーク k s @ h i o a n w g @ g o m @ q e p Nu a o @ k s @ h i o a n w g @ g o m @ q e p Nu a o @ 検出できる 先ほどの例についてPTN方式を用いると, 「ナシゴレン(=nasigoreN)」と「梨方言(=nasihoogeN)」は読みが 類似しているため,誤認識していてもキーワードを検出できます.11                                                                     研究の背景 PTN方式STDの問題点:過照合による誤検出 音声認識システム 「国の宗教としては イスラム教なんですけれども」 音声データ 仏教 音素遷移ネットワーク 誤って 検出してしまう r u u i o N @ ky osh ところが,この例では「仏教」というキーワードを検索しているのに 「宗教」と発言している箇所を誤って検出しています. 12                                                                     研究の背景 PTN方式STDの問題点:過照合による誤検出 このように,読みが似ていれば検索したいキーワードと異なる 単語の発言まで検出してしまう 過照合による誤検出 音素遷移ネットワークの問題点 本研究ではこの問題の解決を目指します. 13                                                                     まず,従来手法の 「音素遷移ネットワーク方式STD」 における検出の仕組みについて説明します. 14                                                                     音声波形 音声認識の結果を, 読み (音素)の遷移を表した「音素遷移ネットワーク(以下,PTN) 」で表現します. k r @ r ua o a k w g @ u r m @ q N @ r p b u @ u @ r @ r q uu e a @ 音素遷移ネットワーク 従来手法における検出の説明 15                                                                     (マレーシアのクアラルンプールにキャンプのマネージャーがいて,) 照合コスト 0.779 クアラルンプール 照合コスト 0.199 照合コスト 0.625 照合コスト 0.750 従来手法における検出の説明 発話内容 次に,検索語をPTNの箇所ごとに照らし合わせます. この際,照合のずれの度合いを表す照合コストが計算されます. (ずれが大きいほど照合コストも大きくなります) (マレーシア)(クアラルンプール)(キャンプ) (マネージャー) 16                                                                     (マレーシアのクアラルンプールにキャンプのマネージャーがいて,) 照合コスト 0.131 マレーシア 照合コスト 0.718 照合コスト 0.522 照合コスト 0.288 照合コスト 0.779 クアラルンプール 照合コスト 0.199 照合コスト 0.625 照合コスト 0.750 照合コスト 0.692 キャンプ 照合コスト 0.343 照合コスト 0.492 照合コスト 0.08 マネージャー 照合コスト 0.534 照合コスト 0.232 照合コスト 0.241 照合コスト 0.534 例えば,4つのキーワードを検索すると,以下のように (PTN中の箇所数×4)個 の照合結果が得られます. 従来手法における検出の説明 17                                                                     (マレーシアのクアラルンプールにキャンプのマネージャーがいて,) 照合コスト 0.131 マレーシア 照合コスト 0.718 照合コスト 0.522 照合コスト 0.288 照合コスト 0.779 クアラルンプール 照合コスト 0.199 照合コスト 0.625 照合コスト 0.750 照合コスト 0.692 キャンプ 照合コスト 0.343 照合コスト 0.492 照合コスト 0.08 マネージャー 照合コスト 0.534 照合コスト 0.232 照合コスト 0.241 照合コスト 0.534 このうち,設定した照合コストの上限よりも照合コストが小さい照合結果を すべて検出します. 例えば コストの上限=0.35 とすると・・・ 従来手法における検出の説明 18                                                                     (マレーシアのクアラルンプールにキャンプのマネージャーがいて,) マレーシア クアラルンプール キャンプ マネージャー 例えば コストの上限=0.35 とすると, 下図の赤い線で囲まれた照合結果が検出されます. 検出された結果が正しいかどうか確認すると・・・ 従来手法における検出の説明 照合コスト 0.131 照合コスト 0.718 照合コスト 0.522 照合コスト 0.288 照合コスト 0.779 照合コスト 0.199 照合コスト 0.625 照合コスト 0.750 照合コスト 0.692 照合コスト 0.343 照合コスト 0.492 照合コスト 0.08 照合コスト 0.534 照合コスト 0.232 照合コスト 0.241 照合コスト 0.534 19                                                                     検出された結果が正しいかどうか確認すると, 3個の誤検出がありました. 従来手法における検出の説明 「マレーシア」と「マネージャー」など, 読みが似ているキーワードの発言に対して, 過照合による誤検出が生じている 20                                                                     索引付けステップ PTNの各箇所に対して, 最も照合するキーワードを索引付ける 過照合による誤検出を抑える 索引付けステップ 音素単位の索引(PTN)を作成 検索ステップ 音素単位の過照合による誤検出が発生してしまう 従来手法:音素遷移ネットワーク方式STD 提案手法 21                                                                     ⾼精度⾳声検索のための ⾳声信号への最良照合キーワード 索引付け⽅式 ここから,提案手法のアイディアを説明します. 22                                                                     (マレーシアのクアラルンプールにキャンプのマネージャーがいて,) 照合コスト 0.131 マレーシア 照合コスト 0.718 照合コスト 0.522 照合コスト 0.288 照合コスト 0.779 クアラルンプール 照合コスト 0.199 照合コスト 0.625 照合コスト 0.750 照合コスト 0.692 キャンプ 照合コスト 0.343 照合コスト 0.492 照合コスト 0.08 マネージャー 照合コスト 0.534 照合コスト 0.232 照合コスト 0.241 照合コスト 0.534 先ほどと同様に, 4つのキーワードで検索したときの照合結果がある場合を例に考えます. 提案手法のアイディア 23                                                                     (マレーシアのクアラルンプールにキャンプのマネージャーがいて,) 照合コスト 0.131 マレーシア 照合コスト 0.718 照合コスト 0.522 照合コスト 0.288 照合コスト 0.779 クアラルンプール 照合コスト 0.199 照合コスト 0.625 照合コスト 0.750 照合コスト 0.692 キャンプ 照合コスト 0.343 照合コスト 0.492 照合コスト 0.08 マネージャー 照合コスト 0.534 照合コスト 0.232 照合コスト 0.241 照合コスト 0.534 提案手法では, まず箇所ごとに照合結果をまとめます. 提案手法のアイディア 24                                                                     照合コスト 0.131 マレーシア 照合コスト 0.718 照合コスト 0.522 照合コスト 0.288 照合コスト 0.779 クアラルンプール 照合コスト 0.199 照合コスト 0.625 照合コスト 0.750 照合コスト 0.692 キャンプ 照合コスト 0.343 照合コスト 0.492 照合コスト 0.08 マネージャー 照合コスト 0.534 照合コスト 0.232 照合コスト 0.241 照合コスト 0.534 次に,箇所のまとまりのうち,照合コストが最小の照合結果を見つけます. そして,この照合結果をその箇所に貼り付けます (= 索引付け). マレーシア クアラルン プール キャンプ マネージャー 提案手法のアイディア 25                                                                     こうして貼り付けられたキーワードの系列を検索することで, キーワードの発言箇所を特定します. 照合コスト 0.131 マレーシア 照合コスト 0.718 照合コスト 0.522 照合コスト 0.288 照合コスト 0.779 クアラルンプール 照合コスト 0.199 照合コスト 0.625 照合コスト 0.750 照合コスト 0.692 キャンプ 照合コスト 0.343 照合コスト 0.492 照合コスト 0.08 マネージャー 照合コスト 0.534 照合コスト 0.232 照合コスト 0.241 照合コスト 0.534 マレーシア クアラルン プール キャンプ マネージャー 提案手法のアイディア 26                                                                     提案手法のアイディア 複数のキーワードのSTD照合結果の照合コストを比較することで, 最も良く照合したキーワードだけを検出すれば,誤検出を減少できる 提案手法のアイディアのまとめ 27                                                                     次に提案手法による索引付けの流れについて 説明します. 28                                                                     PTN方式STD (キーワード n) STD結果 1 STD結果 n Step2.STD結果の 競合集合の作成 Step3.箇所ごとに最も 照合するキーワードを 索引付け テキスト形式での キーワード索引 ・ ・ ・ ・ ・ ・ PTN方式STD (キーワード 1) ・ ・ ・ ・ ・ ・ 音声データ キーワード1 キーワード2 ・ ・ キーワードn キーワード1 キーワード2 ・ ・ キーワードn 提案手法の流れ 29 Step1.キーワード集合の作成                                                                     Step1.キーワード集合の作成 専門用語などの キーワードを 人手で選定 キーワード集合 話者照合 話者 録音音声 詐称 ・ ・ ・ 本研究の主目的は,理想的なキーワード集合を用意できた場合の性能評価 今回は,キーワード集合は人手で作成 講演の書き起こし文書 提案手法の実現方法 30 001000014.076-00018.940L: (Fえー) これまでの 話者照合の 研究では (Fえー) 他の 話者や 録音音声による 詐称に ・ ・ ・                                                                     PTN方式STD (キーワード n) STD結果 1 STD結果 n Step2.STD結果の 競合集合の作成 Step3.箇所ごとに最も 照合するキーワードを 索引付け テキスト形式での キーワード索引 ・ ・ ・ ・ ・ ・ PTN方式STD (キーワード 1) ・ ・ ・ ・ ・ ・ 音声データ 提案手法の流れ 31 キーワード1 キーワード2 ・ ・ キーワードn キーワード1 キーワード2 ・ ・ キーワードn Step1.キーワード集合の作成                                                                     Step2.STD結果の競合集合の作成 時間[frame] 下図は,いくつかのキーワードのSTD照合結果を検出時間ごとに 示したものです。 このようにして競合関係を定義します. そして競合関係にある照合結果から,競合集合を作成します. スペクトル スペクトルパラメータ スペクトル パラメータ スペクトル スペクトルパラメータ パラメータ 例1 例2 例3 (直接的)競合関係 非競合関係 (推移的)競合関係 検出時間が 重複 検出時間に 重複なし 推移的な競合関係 提案手法の実現方法 32                                                                     PTN方式STD (キーワード n) STD結果 1 STD結果 n Step2.STD結果の 競合集合の作成 Step3.箇所ごとに最も 照合するキーワードを 索引付け テキスト形式での キーワード索引 ・ ・ ・ ・ ・ ・ PTN方式STD (キーワード 1) ・ ・ ・ ・ ・ ・ 音声データ 提案手法の流れ 33 キーワード1 キーワード2 ・ ・ キーワードn キーワード1 キーワード2 ・ ・ キーワードn Step1.キーワード集合の作成                                                                     0.28– 0.06=0.22 Step3‐1.競合集合においてコスト幅内の照合結果を 候補として残す 競合集合 照合コスト 0.06 スペクトル スペクトルパラメータ スペクトル部 パラメータ 特徴パラメータ 照合コスト 0.22 照合コスト 0.12 照合コスト 0.28 照合コスト 0.10 ① この競合集合における 最小コストを見つけます ② (各コスト)– (最小コスト)=(コスト差)を計算 0.06– 0.06=0 0.22– 0.06=0.16 0.10– 0.06=0.04 ③ コスト差が設定したコスト幅内の 結果を候補として残します 例:コスト幅 =0.10とすると 0.12– 0.06=0.06 スペクトル スペクトルパラメータ パラメータ 競合集合 提案手法の実現方法 34                                                                     Step3‐2.直接的競合組間において 最長フレーム照合結果を優先して索引付け スペクトル スペクトルパラメータ パラメータ コスト差 0 コスト差 0.06 コスト差 0.04 そして,索引付けされた箇所と 直接競合する照合結果を削除します. 競合集合 提案手法の実現方法 スペクトル スペクトルパラメータ パラメータ コスト差 0 コスト差 0.06 コスト差 0.04 残った候補のうち, 検出フレーム時間が最長の照合結果を選び, 索引付けします. 競合集合 以上の手順を,競合集合から候補が無くなるまで繰り返します. 35                                                                     提案手法の検索性能について評価を行いました. 評価設定 従来手法: PTN方式STD 提案手法:キーワード集合をクエリとする最良照合STD方式 対象データ:日本語話し言葉コーパス(CSJ) なお今回は提案手法の有効性の評価が目的だったため, キーワード集合は人手で作成しています. 36                                                                     30% 40% 50% 60% 70% 80% 90% 100% 50% 60% 70% 80% 90% 100% 適合率[%] 再現率[%] CSJのうち,11講演を対象とした評価結果 従来手法 最大F値 87.3% 再現率 84.1% 適合率 90.1% 提案手法 最大F値 88.4% 再現率 84.3% 適合率 92.9% 提案手法の評価 37                                                                     40% 50% 60% 70% 80% 90% 100% 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100% Precision[%] Recall[%] 評価したCSJ11講演のうち,模擬講演(6講演)の評価結果 • 模擬講演は未知語が多い • 提案手法は模擬講演での精度の改善が大きい 提案手法は未知語に対して特に有効 提案手法の評価 提案手法 最大F値 79.1% 再現率 73.2% 適合率 86.0% 従来手法 最大F値 77.1% 再現率 73.4% 適合率 81.2% 38                                                                     まとめと今後の課題 まとめ • キーワード集合を用いて,最も良く照合したキーワードを音声 に索引付ける音声検索手法を提案した • CSJ11講演で評価した結果,主に模擬講演において適合率を 改善した • 分析の結果,提案手法は未知語の適合率の改善となること がわかった 今後の課題 • 評価実験の拡大 • キーワード集合を自動生成する仕組みの検討 39                                                                                                                                  
音声を検索するための索引付け方式の紹介(専門家向け)
