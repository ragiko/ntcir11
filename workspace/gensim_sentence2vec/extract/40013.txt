図1データベース高速化技術のポイント
ビットマップ・インデックスなどを使い、データにたどり着く最短の道を選ぶ。また、できるだけメモリーにデータをキャッシュさせておくことで、アクセスのスピードを上げる、という二つのポイントがある
[画像のクリックで拡大表示]
以下では,(1)データにたどり着く最短の道を選ぶ仕組みと,(2)アクセスのスピードを上げる仕組みの二つを解説していく。
説明の都合上,簡略化したテーブルとデータを使って図解する。
1と0のビット計算だけで絞り込む
最短経路を選ぶ機能は,管理者が意図して利用するものと,SQL文の実行計画を決める「オプティマイザ」が実行するものがある。
前者の代表例がインデックスである。一般的には,B-Treeインデックスが使われる。しかし,「男女など,検索する値の種類が少ない場合は効果が薄い」(NTTデータ オープンソース開発センタ 技術開発担当 シニアスペシャリスト 藤塚勤也氏)。こうしたケースで最短経路を確保できるのが,ビットマップ・インデックスだ(実データの比較をせず,ビットマップ・インデックスの論理演算だけでデータを探し出せるので,必要なデータに効率よくたどり着ける', '950', '700'))">図2)。このインデックスは,あるデータに該当するか否かを1と0で表す。そのため,「男かつ右利きである人の氏名」など,複数条件で検索する場合,ビット計算だけで必要なレコードを取り出せる。
絵で見るテクノロジ - 最短かつ最速にアクセスする「DB高速化技術」(前編):ITpro
