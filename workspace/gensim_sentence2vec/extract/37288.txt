分類の目的は、解析エリア内の各セルを既知のクラス(教師付き分類)またはクラスタ(教師なし分類)に割り当てることです。いずれの場合も分類の入力値は、各クラスまたは各クラスタの多変量統計情報を持つシグネチャ ファイルです。各分類の結果は、解析エリアを既知のクラス(トレーニング サンプルに対応)、または自然発生的なクラス(クラスタリングにより指定されたクラスタに対応)に分割したマップです。位置をクラスタに対応する自然発生的なクラスに分類することは、層別化とも呼ばれます。[画像分類] ツールバーは、分類の実行に必要な複数ステップのワークフローを支援する統合環境を提供します。ツールバーの詳細については、「画像分類とは」をご参照ください。
最尤法クラス内のセルが均一なことはめったにありません。これは特に、教師付き分類のトレーニング サンプルに当てはまります。たとえば、日陰にある広葉樹の反射シグネチャが、日向にある針葉樹に似ている場合、両方の樹木の種類は同じクラスになります。クマを発見することが予測される生息地から収集したトレーニング サンプル内の位置に、クマが近寄らない場所が含まれる可能性もあります。以下の図では、クラス A は広葉樹、クラス B は針葉樹を表します。2 つのクラスが重なっている部分にあるセルは、クラス A として分類するか、クラス B として分類するかという問題が出てきます。
最尤法分類は、各クラスの属性値に基づいてそのクラスに属するセルの確率を計算します。セルは確率が最大のクラスに割り当てられます。このため、「最尤」という用語が使用されます。最尤法分類が正しく機能するためには、いくつかの前提が必要です。
各バンドのデータが正規分布である。
各クラスが、多変量属性空間に正規分布を持つ。
複数のクラスの事前確率が等しい。つまり、属性値の加重処理をする前には、すべてのクラスの確率が等しい。
解析エリアの各クラスの事前確率が等しくない場合は、クラスを加重できます。たとえば、アラスカの衛星写真を分類する場合、森林と他の植生の種類は、人間の住宅地よりも高い事前確率を持つ可能性があります。つまり、住宅を持つセル位置の確率は、何らかの植生の種類を持つセルの確率よりも大幅に低くなります。セルの値が住宅地クラスと植生の種類のクラスの重なり合う部分にある場合、その位置は住宅ではなく植生を含む確率が高く、それに合わせて位置を分類する必要があります。確率と加重の論理は、ベイズの決定規則に基づきます。各セルの実際の確率の値とクラスは、各クラスの平均値と共分散マトリックス(シグネチャ ファイルに格納)から決定されます。分類を実行するには、[最尤法分類(Maximum Likelihood Classification)] ツールを使用します。このツールには、マルチバンド ラスタおよび個別のシングル バンド ラスタからの入力バンド、および対応するシグネチャ ファイルが必要です。クラスまたはクラスの加重方法を指定する必要があります。クラスまたはクラスの加重には、均等、サンプル内のセル数、またはファイルの 3 つの方法があります。均等を選択すると、すべてのクラスが同じ事前確率で加重されます。サンプル内のセル数を選択すると、事前確率が、シグネチャ ファイル内の各クラスまたは各クラスタのセル数に比例します。ファイルを選択すると、事前確率ファイルの入力制御が有効になり、事前確率が指定ファイルから読み取られます。除外する端数を指定する必要があります。除外する端数は、正しい割り当ての最小確率により、未分類のままになるセルの割り当てを指定します。デフォルト値は 0.0 で、すべてのセルが分類されます。オプションの信頼度を作成できます。最後に、出力ラスタの名前を指定する必要があります。
クラス確率[クラス確率] ツールは、最大確率に基づいて出力ラスタのセルをクラスに割り当てるのではなく、入力された各クラスまたはクラスタについて 1 つのバンドで、確率レイヤを出力します。各バンドの各位置の値は、元の入力バンドの属性に基づいて、そのクラスまたはクラスタに属するセルの確率を格納します。この機能は、次の場合に便利です。イメージを分類する際に、あるクラスが森林、別のクラスが湿地帯だとします。クラス確率ツールの実行後、森林クラスの出力ラスタに森林クラスに属する確率 60 % のセルがあり、そのセルは、湿地帯の出力ラスタでは湿地帯に属する確率が 30 % であることが判明したとします。これにより、そのセル位置を森林に分類するのではなく、多雨林として分類することが可能となります。
Desktop Help 10.0 - 分類の実行
