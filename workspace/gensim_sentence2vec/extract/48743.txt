
nodeとnodeへのポインタの関係を図2に示す。図2では,変数pはnode0へのポインタであり,また,node0の変数left,rightは,それぞれnode1,node2へのポインタである。
このとき,node0の三つの変数はそれぞれp->value,p->left,p->rightと表す。また,図2に示す状況で,p->leftの値をpへ代入すると,変数pはnode1へのポインタとなる。
操作lookupでは,2分探索木を根から葉の方向へ順次たどりながら探索を行う。まず,探索するデータと木の根がもつデータとを比べて,等しければ探索は終了する。探索するデータの方が小さければ左の子のノードに,大きければ右の子のノードに移動する。
ここで,移動しようとした先に子のノードが存在しない場合,探索するデータが2分探索木内に見つからなかったことになり,探索終了となる。
移動した先のノードでも同様にデータを比較し,探索するデータが見つかる,又は見つからないことが分かるまで繰り返す。
ループを用いてポインタを順にたどる方法で操作lookupを実現するプログラムを図3に示す。
図3では,操作lookupを,ループを用いてポインタを順にたどる方法で実現しているが,再帰呼出しを使って操作lookupを実現する方法も考えられる。その実現方法を図4に示す。
操作insertのプログラムを図5に示す。insertはlookupと同様に,木を根から葉の方向へ進みながら,指定されたデータをもつノードを挿入する適切な位置を探す。ノードを挿入する適切な位置とは,あるノード(これをAとする)から移動すべき先のノードへのポインタがnilになり,どのノードも指さなくなるところである。
この時点で,指定されたデータをもつノードを新たに作成し,ノードAがもつ移動すべき先へのポインタが,新たに作成したノードを指すようにする。
新たに作成されたノードは,この時点では子のノードをもたない。
図5のプログラムでは,戻り値として,新たにノードが挿入された場合は挿入されたノードへのポインタを返し,ノードが挿入されなかった場合には引数で渡されたポインタをそのまま返す。
設問1 図1の2分探索木に,操作insertを使って40,34,38の順にデータを挿入したときの2分探索木を,解答欄に示せ。
設問1の正解例と解説へ
設問2 図3,図4の操作lookupのプログラム中の  ア  〜  ク  に入れる適切な字句を答えよ。
設問2の正解例と解説へ
設問3 図5の操作insertのプログラム中の  ケ  〜  シ  に入れる適切な字句を答えよ。
設問3の正解例と解説へ
設問4 次の記述中の  ス  ,  セ  に入れる適切な字句を答えよ。
2分探索木では,データの探索時にノードの配置によってデータを比較する対象となるノードの個数が変わる。n
(n=2d−1, 
dは0以上の整数)個のノードがある場合,データを比較する対象となるノードの個数は,最も多い場合  ス  個となる。しかし,根からどの葉に向かって木をたどっても,途中で通るノードの数が同じである完全2分木の場合,データを比較する対象となるノードの個数は最も多くても  セ  個となる。
設問4の正解例と解説へ
問6 受注管理システムの構築に関する次の記述を読んで,設問1〜4に答えよ。
情報システムを構築する場合,これまでは端末となる各PCに専用アプリケーションソフトをインストールし,データベース(DB)サーバなどと接続するクライアントサーバ方式を利用していた。これはPCの性能が向上したために,ユーザインタフェースや一部のデータ処理をクライアント側で担当し,サーバ側の処理負荷を軽減させるために有効な方式であった。しかし,運用上不都合な点が多いので,最近ではPC側のアプリケーションソフトとして汎用のWebブラウザを用いるWeb-DB連携システム方式でシステム構築する例が増えている。
Web-DB連携システムは,Webサーバ,アプリケーションサーバ(APサーバ),DBサーバの3層構造で作られることが多い。通常,Webサーバではユーザインタフェース,APサーバではビジネスロジック(アプリケーションで実現すべき機能),DBサーバではデータの管理を担当する。
A社ではこれまで,専用線を用いたクライアントサーバ方式の受注管理システムを使用して,全国100か所の販売店から商品を受注してきた。今回,受注管理システムのリプレースに際し,IP-VPNを用いたWeb-DB連携システム方式で再構築することにした。A社の新しい受注管理システムの構成は図1のとおりである。また,DB上のテーブルとテーブル間の関連は,図2に示すとおりである。
設問1 クライアントサーバ方式とWeb-DB連携システム方式を比較した場合,本文中の下線部のクライアントサーバ方式の運用上不都合な点に該当するものを解答群の中から二つ選び,記号で答えよ。
解答群
ア DBの内容に不整合が起こりやすい。
イ OSやミドルウェアなどのPC環境を統一しないと,専用アプリケーションソフトが動かない場合がある。
ウ 業務機能追加の際に,専用アプリケーションソフトをPCにインストールし直す必要がある。
エ 業務に特化した機能を実現しにくい。
オ サーバに負荷がかかりやすいので,クライアント数が増加したときにサーバの能力がすぐに足りなくなってしまう。
カ 頻繁にPCをリプレースしなければならない。
設問1の正解例と解説へ
設問2 A社では,最近の受注伝票を簡易に閲覧するために,指定した販売店で3日前以降に発行された受注伝票の商品コード,商品名,個数の3項目を,受注が最も新しいものから順に一覧表示する画面を作成した。その画面に表示する情報を取り出すために作成した,次のSQL文中の  a  〜  c  に入れる適切な字句を答えよ。ただし,指定した販売店コードはホスト変数:指定販売店コード,今日の日付はホスト変数:今日,3日前の日付はホスト変数:表示開始日にあらかじめ格納されているものとする。
設問2の正解例と解説へ
設問3 A社では,前日の受注伝票から毎日の夜間バッチ処理で,販売店コード,商品コード,販売店名,商品名,受注年月日,個数の6個のフィールドをもつ受注集計テーブルを作成し,受注日報作成の高速化を図った。
受注集計テーブルに必要なレコードを追加するために作成した,次のSQL文中の  d  〜  f    
に入れる適切な字句を答えよ。ただし,作成する前日の年月日はホスト変数:前日年月日に格納されているものとする。
設問3の正解例と解説へ
設問4 受注管理システムの運用を開始してからしばらくして,販売店間で店員の人事異動があった。その結果,受注管理システムで,人事異動前に発行された受注伝票が人事異動後の販売店名で表示されてしまうという不具合が発生した。A社ではこの問題を解決するために,テーブルに属性を追加して対処することにした。属性を追加するテーブル名と追加すべき属性名を,それぞれ答えよ。
設問4の正解例と解説へ
戻る
平成18年度 秋期 午後I 問題
