1.1 Spatial製品とは
Oracle Spatialは、Spatialとも呼ばれ、Oracleデータベースへの空間フィーチャの集合の格納、検索、更新および問合せを容易にするSQLスキーマおよびファンクションを提供します。Spatialは、次の要素で構成されています。
サポートされているジオメトリ・データ・タイプの格納方法、構文および意味を規定するスキーマ(MDSYS)
空間索引付けメカニズム
対象領域問合せ、空間結合問合せおよび他の空間分析操作を実行する演算子、ファンクションおよびプロシージャ
ユーティリティおよびチューニング操作用のファンクションおよびプロシージャ
トポロジ内のノード、エッジおよびフェイスに関するデータを処理するためのトポロジ・データ・モデル(『Oracle Spatialトポロジおよびネットワーク・データ・モデル』を参照)
ネットワーク内のノードおよびリンクとしてモデル化される機能やオブジェクトを表現するためのネットワーク・データ・モデル(『Oracle Spatialトポロジおよびネットワーク・データ・モデル』を参照)
GeoRasterデータ(ラスター・イメージ・データ、グリッド化データ、および関連するメタデータ)の格納、索引付け、問合せ、分析および配信を可能にするGeoRaster機能(『Oracle Spatial GeoRaster』を参照)
空間フィーチャの空間構成要素とは、ある座標空間においてその形を幾何学的に表現したものです。これをジオメトリと呼びます。
注意: MDSYSスキーマの下では、どのパッケージ、表または他のオブジェクトも変更しないでください。(ただし、ユーザー定義の座標参照系を作成する必要がある場合は除きます(6.8項を参照)。)
1.2 オブジェクト・リレーショナル・モデル
Spatialでは、ジオメトリを表現するオブジェクト・リレーショナル・モデルがサポートされています。このモデルでは、ジオメトリ全体が、ベクトル・データ用のOracle固有の空間データ型(SDO_GEOMETRY)に格納されます。Oracle表には、1つ以上のSDO_GEOMETRY列を格納できます。オブジェクト・リレーショナル・モデルは、地理空間フィーチャについてOpen GIS ODBC/SQL仕様に定義されている、空間フィーチャ表の「SQL with Geometry Types」実装に対応しています。
1.3 空間データの概要
Oracle Spatialは、位置情報アプリケーションおよび地理情報システム(GIS)・アプリケーションのユーザーが、簡単に無理のない形で空間データを管理できるように設計されています。Oracleデータベースに格納された空間データは、簡単に操作および取出しができ、データベースに格納された他のすべてのデータとの関連付けも可能です。
空間データの一般的な例としては、道路地図があります。道路地図は点、線およびポリゴンを含む2次元オブジェクトであり、都道府県などの行政的境界、都市および道路を表現できます。道路地図は地理情報を視覚化したものです。地表面に存在する行政的境界、都市および道路の位置は、レンダリング対象となるオブジェクトの相対位置と相対距離を維持したまま、2次元の画面または紙上に投影されます。
レンダリングされるこれらのオブジェクトの地表面位置(緯度と経度など)を示すデータが、空間データです。地図のレンダリングでは、この空間データを使用することによって、オブジェクトの位置を2次元の紙上に投影します。GISは、このような地表面と相関する空間データを格納、取出しおよびレンダリングする一般的な方法です。
Spatialを使用して格納できる空間データの種類には、GISデータ以外にコンピュータ支援設計(CAD)システムとコンピュータ支援製造(CAM)システムのデータがあります。CADおよびCAMシステムでは、地理的なスケールでオブジェクトを処理するのではなく、自動車のエンジンまたはプリント回路基板などの比較的小さいスケールを扱います。
これらのシステムの違いはデータのサイズと精度のみで、データの複雑さではありません。これらのすべてのシステムで同数の点データを処理することも考えられます。地理的なスケールでは、ある橋の位置に1/10インチ単位の誤差があっても、実際の道路工事の際には、問題が発生することはありせん。それに対して、エンジンのピストンの直径が1/10インチ単位でもずれてしまうと、エンジンは作動しません。
また、データの複雑さは、表現されている領域の絶対スケールとは無関係です。たとえば、多くのプリント回路基板の場合、その基板上に数千個のオブジェクトがエッチングされ、その小さい面積に道路の工事現場の青写真の詳細図より複雑な情報が含まれます。
これらのアプリケーションは、空間および非空間の両方の属性を持つフィーチャの集合について、格納、検索、更新または問合せのすべてを行います。非空間属性の名前の例には、soil_type、landuse_classificationおよびpart_numberがあります。空間属性は、そのフィーチャの形を、座標またはベクトル・ベースで表現するものです。
1.4 ジオメトリ・タイプ
ジオメトリは、直線セグメントまたは円弧を結合した頂点を順番につなげたものです。ジオメトリの意味は、その型によって決定されます。Spatialは、いくつかの基本タイプ、および2次元を含む、次のタイプの集合で構成されるジオメトリをサポートしています。
点および点クラスタ
線ストリング
N点ポリゴン
円弧線ストリング(すべての円弧は円の一部として生成されます。)
円弧ポリゴン
複合ポリゴン
複合線ストリング
円
最適化された矩形
2次元の点は、XとYの2つの座標値(経度および緯度である場合が多い)で構成される要素です。線ストリングは、線セグメントを定義する2点のペアの、1つ以上の集合で構成されます。ポリゴンは、閉じた輪を形成するように連結された複数の線ストリングで構成されます。ここではポリゴンの領域が暗黙的に指定されます。たとえば、点で建物の位置を、線ストリングで道路または飛行経路を、多角形で都道府県、都市、区画地域または都市の街区を表現できます。
自己交差する線ストリングはサポートされますが、自己交差するポリゴンはサポートされません。自己交差する線ストリングは、ポリゴンを形成しません。自己交差する線ストリングでは、領域が暗黙的に指定されません。
図1-1に、ジオメトリ・タイプを示します。
Spatialの概念
