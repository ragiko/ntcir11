密結合型クラスター(みつけつごうがた-)とは、クラスターに参加するノード間で各種資源と情報を共有し、1台のサーバのように動作するクラスターのこと。密結合クラスターでは、多くの場合、幾つかのサービスを提供する計算資源/処理環境を、1台のコンピュータに模して提供するため、クラスターに参加する個々のノードの障害によるサービスの中断を防ぐことが可能となる。
その代表的な例として、高可用クラスターがある。高可用クラスターを構成するノードは、多くの場合、共有リソースとしてのストレージや共有メモリ領域を持ち、実際にサービスを提供する稼動系ノードと、それをバックアップするための待機系ノードが存在する。現在の主流の形態としては、稼動ノードがN台存在し、それをバックアップする待機ノードが1台という形態(N+1構成と呼ぶ)を持つ構成が取られる事が多い。
高可用クラスターの弱点として、本来、サービス提供を行なうノードがM個存在すべき処、M+1以上のサービスノードが稼動してしまい、仮想的に割り当てられるIPアドレスの競合や、想定外の資源の奪い合いが発生し、クラスター全体や、そのクラスターを利用するシステム全体が停止してしまう事象が発生しうる点にある。 この状態をスプリットブレインシンドローム(SBS)と呼び、高可用クラスターにおける忌避すべき状態である。 多くの高可用クラスターパッケージでは、このSBSを避けるため、クォーラムディスク(ロックディスク)やSCSIロック(SCSIリサーブ/フェンシングなどの呼称が存在する)によるノードのサバイバルスキーマ/ロジックを持ち、サービスの継続提供を意識した制御を行っている。
商用UNIX/Linux上の高可用クラスターによるDBクラスター等では、ノード間での情報共有にシェアード(共有)ディスクを利用し、DBファイルの引継ぎなどの情報の継続性を図る。さらにこのシェアードディスクへのアクセスパスを複数持ち(ストレージマルチパス)、あるパスの障害時には健常なパスへ自動で切り替えるなど、サービスのサバイバリティ向上を目指した施策が多く取り入れられている。
また、ノード間の監視には監視パケット専用のLAN(ハートビートLAN)を複数もち、ハートビートと呼ばれる独自監視用パケットを飛ばし合う事で互いの動作を監視しあう方式を取るものが主流である。
商用UNIX/Linuxの高可用クラスターパッケージの代表例として、AIXのHACMP、HP-UXのMC/ServiceGuard、SolarisのSunCluster、商用UNIXが乱立するヘテロジーニアス(複合)環境ではVxClusterServer、LinuxのLifeKeeper・ClusterProなどが存在する。 Windows向けとしてはMSCSがある。
関連項目[編集]
フォールトトレラントシステム
疎結合クラスター
Linux-HA
密結合クラスター - Wikipedia
