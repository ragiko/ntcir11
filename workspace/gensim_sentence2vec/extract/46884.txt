
B F5 BIG-IP LTMとの統合
この付録では、F5 BIG-IP Local Traffic Manager(LTM)のハードウェア型ロード・バランサを使用して、Coherence*Extendクライアント接続の負荷を分散させる方法について説明します。BIG-IPシステムを使用してSSL処理の負荷を軽減するための指示も含まれています。
この指示はCoherence*Extend設定に関係するので、BIG-IP構成ユーティリティを使用する場合に特有です。使用方法に関する指示を実行する方法の詳細は、ユーティリティに付属しているヘルプを参照してください。さらに、指示はBIG-IP LTM 10.2.1に基づいて作成されており、将来リリースされるBIG-IP LTMでは正確でなくなる場合があります。
この章の内容は次のとおりです。
基本概念
ノードの作成
ロード・バランシング・プールの構成
仮想サーバーの構成
BIG-IP LTMを使用するようにCoherence*Extendを構成する方法
高度な状態モニターの使用方法
SSLオフロードの有効化
B.1 基本概念
F5 BIG-IP LTMとは、Coherence*Extendクライアント(クライアント層)を実行している1台以上のコンピュータとCoherence*Extendプロキシ・サーバー(プロキシ層)を実行している1台以上のコンピュータとの間にあるハードウェア・デバイスのことです。アプリケーション・トラフィックの保護、最適化およびロード・バランシングに関して多様なテクニックを使用して、LTMによりクライアント接続を複数のクラスタ化プロキシ・サーバーにおいて分散させます。
図B-1は、外部ネットワーク・クライアントと内部ネットワーク・サーバーとの間において設定されているBIG-IPシステムの概念図を示します。
B.2 ノードの作成
ノードとは、ネットワーク上にある物理リソースのIPアドレスを識別するBIG-IPシステム上の論理オブジェクトのことです。Coherence*Extendの場合、内部ネットワークで1台以上のプロキシ・サーバーをホストする各コンピュータに対してノードを構成します。
ノードを作成するには、次の手順を実行します。
BIG-IP構成ユーティリティにログインします。
ナビゲーション・ペインの「Main」タブで、「Local Traffic」を展開してから「Nodes」をクリックします。
画面の右上隅にある「Create」をクリックします。「New Node」画面が表示されます。
「Address」設定で、ノードのIPアドレスを入力します。
その他の設定のそれぞれに関して値を指定するか、そのままにするか、変更します。
「Finished」をクリックします。
図B-2に、ノード構成例を示します。
B.3 ロード・バランシング・プールの構成
ロード・バランシング・プールは、トラフィックを受信および処理する論理デバイス(プロキシ・サーバーなど)のグループです。クライアントのリクエストで指定された送信先IPアドレスにクライアントのトラフィックを送信するのではなく、BIG-IPシステムではそのプールのメンバーであるサーバーにリクエストを送信します。これによって、サーバーのリソースに関して負荷が効率的に分散されます。
プールを作成する際、プール・メンバーをプールに割り当てます。プール・メンバーとは、サーバー・エンドポイントをネットワーク上で示す論理オブジェクトのことです。Coherence*Extendの場合、プロキシ層コンピュータ上で実行している各JVMプロキシ・サーバーに対してプール・メンバーを作成します。
BIG-IPシステムがリクエストの送信先に選択した特定プール・メンバーは、そのプールに割り当てたロード・バランシング方法により判別されます。ロード・バランシング方法とは、リクエストを処理するプール・メンバーを選択するためにBIG-IPシステムで使用するアルゴリズムのことです。たとえば、デフォルトのロード・バランシング方法はラウンド・ロビンで、これによってBIG-IPシステムで各入力リクエストを次に利用可能なプール・メンバーに送信し、プールにあるサーバーにおいてリクエストが均等に分散されます。
この項の内容は次のとおりです。
ロード・バランシング・プールの作成
ロード・バランシング・プールのメンバーの追加
B.3.1 ロード・バランシング・プールの作成
ロード・バランシング・プールを作成するには、次の手順を実行します。
BIG-IP構成ユーティリティにログインします。
ナビゲーション・ペインの「Main」タブで、「Local Traffic」を展開してから「Pools」をクリックします。「Pools」画面が表示されます。
画面の右上隅にある「Create」をクリックします。「New Pool」画面が表示されます。
「Configuration」リストで、「Advanced」を選択します。
「Name」設定で、プールの名前を入力します。
その他の設定のそれぞれに関して値を指定するか、そのままにするか、変更します。
「Finished」をクリックします。
図B-3は、プール構成例を示します。
F5 BIG-IP LTMとの統合
