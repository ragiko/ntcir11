
password_hash() は、強力な一方向ハッシュアルゴリズムを使って
新しいパスワードハッシュを作ります。
password_hash() は crypt() と互換性があるので、
crypt() が作ったパスワードハッシュは
password_hash() でも使えます。
現在、これらのアルゴリズムに対応しています。
PASSWORD_DEFAULT - bcrypt アルゴリズムを使います (PHP 5.5.0 の時点でのデフォルトです)。
新しくてより強力なアルゴリズムが PHP に追加されれば、
この定数もそれにあわせて変わっていきます。
そのため、これを指定したときの結果の長さは、変わる可能性があります。
したがって、結果をデータベースに格納するときにはカラム幅を
60 文字以上にできるようなカラムを使うことをお勧めします
(255 文字くらいが適切でしょう)。
PASSWORD_BCRYPT - CRYPT_BLOWFISH
アルゴリズムを使ってハッシュを作ります。これは標準の crypt()
互換のハッシュで、識別子 "$2y$" を使った場合の結果を作ります。
その結果は、常に 60 文字の文字列になります。失敗した場合に FALSE を返します。
サポートするオプション
salt - パスワードのハッシュに使うソルトを手動で設定します。
これは、自動生成されたソルトを上書きすることに注意しましょう。
省略した場合は、パスワードをハッシュするたびに password_hash()
がランダムなソルトを自動生成します。これは意図したとおりの操作モードです。
cost - 利用するアルゴリズムのコストを表します。
値の例については crypt() のページを参照ください。
省略した場合のデフォルトは 10 です。この値でもかまいませんが、
ハードウェアの性能が許すならもう少し高くすることもできます。
PHP: password_hash - Manual
