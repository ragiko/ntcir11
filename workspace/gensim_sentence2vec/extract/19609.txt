
JP1/Automatic Job Management System 2 セットアップガイド
3.5.1 トレースログファイルの拡張
次に示すWindows版トレースログファイルの拡張手順を説明します。
JP1/AJS2のトレースログファイル
JP1/AJS2 Consoleのトレースログファイル
キューレストレースログファイル
キューレスジョブ実行内部ログファイル
<この項の構成>
(1) JP1/AJS2のトレースログファイルの拡張
(2) JP1/AJS2 Consoleのトレースログファイルの拡張
(3) キューレストレースログファイルの拡張
(4) キューレスジョブ実行内部ログファイルの拡張
(1) JP1/AJS2のトレースログファイルの拡張
JP1/AJS2のトレースログファイルは,初期状態では次のように設定されています。
格納先
インストール先フォルダ\log\tracelog
サイズ
約2,000個のジョブを実行したときのトレースログを保存できるサイズ(具体的には,20メガバイト(20,480キロバイト))
トレースログファイルの容量は,ジョブネットの構造やJP1/AJS2 - Viewの接続数,操作内容によって大きく異なるため,必要に応じてトレースログファイルのサイズを拡張する必要があります。
トレースログファイルの適切な容量を見積もる方法については,マニュアル「JP1/Automatic Job Management System 2 設計・運用ガイド 4.4.2 トレースログファイルのサイズを見積もる」を参照してください。
トレースログファイルのサイズを拡張する手順を次に示します。
次のコマンドを実行する。
ajstrsetsz -s 適切なトレースログファイル容量
(例)
トレースログファイルのサイズを20メガバイト(20,480キロバイト)から30メガバイト(30,720キロバイト)に拡張する場合
ajstrsetsz -s 30720
(2) JP1/AJS2 Consoleのトレースログファイルの拡張
JP1/AJS2 Consoleのトレースログファイルの拡張は,JP1/AJS2 Console ManagerとJP1/AJS2 Console Agentではそれぞれ設定が必要です。JP1/AJS2 Consoleのトレースログファイルは,初期状態では次のように設計されています。
格納先
JP1/AJS2 Console Managerの場合:JP1/AJS2 Consoleのインストール先フォルダ\log\tracelog.cm
JP1/AJS2 Console Agentの場合:JP1/AJS2 - Managerのインストール先フォルダ\log\tracelog.ca
サイズ
JP1/AJS2 Console Managerの場合:3,072キロバイト
JP1/AJS2 Console Agentの場合:3,072キロバイト
必要となるトレースログファイルの容量は,業務の監視状況などによって大きく異なります。必要に応じて,トレースログファイルの適切な容量を見積もり,拡張してください。
トレースログファイルの適切な容量を見積もる方法については,マニュアル「JP1/Automatic Job Management System 2 設計・運用ガイド 4.4.8 JP1/AJS2 Consoleのトレースログファイルのサイズを見積もる」を参照してください。
トレースログファイルのサイズを拡張する手順を次に示します。
(a) JP1/AJS2 Console Managerの場合
次のコマンドを実行する。
ajscmtrsetsz -s 適切なトレースログファイル容量
(例)
トレースログファイルのサイズを3メガバイト(3,072キロバイト)から10倍の30メガバイト(30,720キロバイト)に拡張する場合
ajscmtrsetsz -s 30720
(b) JP1/AJS2 Console Agentの場合
次のコマンドを実行する。
ajscatrsetsz -s 適切なトレースログファイル容量
(例)
トレースログファイルのサイズを3メガバイト(3,072キロバイト)から10倍の30メガバイト(30,720キロバイト)に拡張する場合
ajscatrsetsz -s 30720
(3) キューレストレースログファイルの拡張
キューレストレースログファイルは,初期状態では次のように設計されています。
格納先
JP1/AJS2のインストール先フォルダ\log\tracelog.ql
サイズ
約10,000個のジョブを実行したときのトレースログを保存できるサイズ(具体的には,15メガバイト(15,360キロバイト))
必要となるキューレストレースログファイルの容量は,ジョブのファイル転送の有無やエラー出力結果の有無によって大きく異なります。必要に応じてトレースログファイルの適切な容量を見積もり,拡張してください。
トレースログファイルの適切な容量を見積もる方法については,マニュアル「JP1/Automatic Job Management System 2 設計・運用ガイド 4.4.6 キューレストレースログファイルのサイズを見積もる」を参照してください。
トレースログファイルのサイズを拡張する手順を次に示します。
次のコマンドを実行する。
ajsqltrsetsz -s 適切なトレースログファイル容量
(例)
トレースログファイルのサイズを15メガバイト(15,360キロバイト)から30メガバイト(30,720キロバイト)に拡張する場合
ajsqltrsetsz -s 30720
(4) キューレスジョブ実行内部ログファイルの拡張
キューレスジョブ実行内部ログファイルは,初期状態では次のように設定されています。
格納先
JP1/AJS2インストール先フォルダ\log\ajsqlexeclog※1
JP1/AJS2インストール先フォルダ\log\ajsqlexeclog_ftpd※2
注※1
クラスタ運用時は,名称が次のようになります。
JP1/AJS2インストール先フォルダ\log\ajsqlexeclog-[論理ホスト名]
なお,名称が256バイト以上である場合は,ファイル名に論理ホスト名として30バイトまで付加します。
注※2
JP1/AJS2 - Managerの場合だけ作成します。
サイズ
ajsqlexeclogファイルの場合
約40,000個のキューレスジョブを実行したときに,キューレスエージェントサービスが出力する実行内部ログを保存できるサイズ(具体的には,24メガバイト(24,576キロバイト))
ajsqlexeclog_ftpdファイルの場合
約20,000個のファイル転送を伴うキューレスジョブを実行したときに,キューレスファイル転送サービスが出力する実行内部ログを保存できるサイズ(具体的には,10メガバイト(10,240キロバイト))
必要となるキューレスジョブ実行内部ログファイルのサイズは,実行するキューレスジョブの個数,およびキューレスジョブ実行時のファイル転送の有無などによって大きく異なります。必要に応じて,キューレスジョブ実行内部ログファイルの適切なサイズを見積もり,拡張してください。
キューレスジョブ実行内部ログファイルの適切なサイズを見積もる方法については,マニュアル「JP1/Automatic Job Management System 2 設計・運用ガイド 4.4.7 キューレスジョブ実行内部ログファイルのサイズを見積もる」を参照してください。また,キューレスジョブ実行内部ログファイルのサイズを拡張する方法については,マニュアル「JP1/Automatic Job Management System 2 コマンドリファレンス 1. コマンド ajsqlexecsetsz」を参照してください。
[目次][前へ][次へ]
[他社商品名称に関する表示]
Copyright (C) 2006, 2010, Hitachi, Ltd.Copyright (C) 2006, 2010, Hitachi Software Engineering Co., Ltd.
トレースログファイルの拡張
