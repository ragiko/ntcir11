
【減色(インデックスカラー変換)】
このチュートリアルでは、GIMPを使用してWeb用グラフィックスを作成する際のコツを解説します。
Web用グラフィックスはファイルサイズを小さくするためにGIFを使用するケースが多いのですが、
フルカラーからインデックスカラーに変換することによって、どのように画質が変化するかを学んでください。
1. はじめに
GIFフォーマットの特徴について
最大色数は256色
LZW圧縮
透過表示が可能
インターレース可能
すべてのブラウザでサポート
GIFは色数が最大で256色に制限されているために、詳細な写真やグラデーションを多用した画像には向いていません。
GIFが得意とする画像は線画やテキスト、シンプルなイラストなどです。
ここに「アストンマーチンV12」の写真があります。GIFに不向きな写真のほうがインデックス化した際の違いがわかりやすいので、
これをチュートリアルのサンプル画像にします。
画像サイズは320×240ピクセル、ファイルサイズは55.4KBのJEPG画像です。
GIFとしてイメージを保存する前に、画像モードインデックスで256色、あるいはそれよりも少ない色数まで減色しなければなりません。
左の画像は「インデックスカラー変換」のダイアログです。カラーマップとディザリングの2つグループがあります。
次のステップでこれらの使用方法とその結果を示していきます。まずはディザリングなしでカラーマップだけを変化させて違いを見てみましょう。
2. 色数を変化させてみる
色数は256色です。もっとも画質の損失の少ない設定ですが、オリジナルと比較すると
多少の質感の損失が確認されます。ファイルサイズは 49,8KBです。
設定: 
色数256 (最適パレットを作成)
ディザリングなし
左の2つの写真はオリジナル(上)とインデックス化した画像(下)を拡大表示したものです。
よく見比べてみて下さい。色の損失が発生し、滑らかな階調が失われていることが理解できるでしょう。 
これは32色まで減色してみた画像です。ディザリングは使用してません。ファイルサイズは 20,5KBまで小さくなりました。 
設定: 
色数32 (最適パレットを作成)
ディザリングなし
ファイルサイズは小さくなりましたが、画像の劣化はさらに激しくなりました。
階調はすべて失われ、平面的なイメージになってしまいました。
3. ディザリングの種類を変えてみる
色数を32色のまま固定してディザリングを使用してみましょう。
左の画像は「Positioned ディザリング」を使用しました。ファイルサイズは24,1KBになりました。
木や地面で、ディザリングなしの場合よりわずかな改良を見ることができます。 
ディザリングの目的は見た目をごまかすことです。ただし、
LZW圧縮アルゴリズムはピクセル値が激しく変化するのを好まず、圧縮効率が低下します。 
設定: 
色数32 (最適パレットを作成)
Positioned ディザリング (GIMP1.2) 
「Floyd-Steinberg ディザリング (使用色数を減らす) 」を使用しました。ファイルサイズは26,8KBです。
ディザリングなしの場合と比べると著しい改良がみられ、自動車の表面さえ滑らかに見えます。ただしファイルサイズが大きくなってしまいました。
約30%増です。画質優先かサイズ優先か、決定するのはあなた自身です。
設定: 
色数32 (最適パレットを作成)
Floyd-Steinberg ディザリング (使用色数を減らす) 
「Floyd-Steinberg ディザリング (通常) 」を使用しました。ファイルサイズは26,9KBでほとんど同じですが、
「Floyd-Steinberg ディザリング (使用色数を減らす) 」を使用した場合よりも、結果は多少悪い感じです。 
設定: 
色数32 (最適パレットを作成)
Floyd-Steinberg ディザリング (通常) 
最後にカスタム・パレットの使用法を紹介します。「Royal」と呼ばれるパレットを使用してみました。
カスタム・パレットは特殊効果を達成し、かつ他の色環境でグラフィックスを統合することを支援するために使用することができます。 
設定: 
カスタムパレットを使用 "Royal" 
ディザリングなし
写真画像はJPG形式を使用するほうがいいでしょう。GIF形式では画質が低下してファイルサイズがそれほど小さくなりません。
場合によってはJPG形式よりファイルサイズが大きくなることもあります。GIF形式を使うときはGIFの特性に合った画像を使いましょう。
Copyright 2000-2005 by the Gimp User Group
インデックスカラー変換
