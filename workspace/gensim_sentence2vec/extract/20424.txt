media.ioの使い方使い方は極めてシンプルで、用意してある音声ファイルをアップロードし、変換したいファイル形式を選ぶだけ。このwebサービスを利用して、.wav、.mp3の音声ファイルを用意して下さいね!HTMLを用意するボタンと音声が用意できたら、いよいよ、HTMLとJavaScriptを作っていきましょう。まずはHTMLです。
HTML<!-- テキストボタンの場合 -->
<p><a onClick="sound()">このテキストを押すと挨拶します!</a></p>
<!-- 音声ファイルの読み込み 9〜10行目にURLを指定 -->
<audio id="sound-file" preload="auto">
<source src="http://〜.mp3" type="audio/mp3">
<source src="http://〜.wav" type="audio/wav">
</audio>
ボタンとなる要素にはonClick属性を付けて、クリックしたら関数を実行するようにしておきます。今回はsound()という関数を指定します。音声ファイルを再生するには、audioというタグを利用します。audioタグには、後ほどJavaScriptで操作するためのIDを付けておきます。preloadの属性をautoにしておくことで、あらかじめ音声ファイルをロードし、再生した時に待たせません。逆にあらかじめ読み込ませたくない場合は、noneを指定します。audioタグ内で、sourceタグを使って、.mp3、.wavというように複数種類のファイルを指定しておくことで、ブラウザがその中から「読み込めるファイル」を自動で選択してくれます。
クリックすると音が鳴るボタンの作り方
