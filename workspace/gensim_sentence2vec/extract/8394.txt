
union_collinear_contours_xldunion_collinear_contours_xldunion_collinear_contours_xldUnionCollinearContoursXldUnionCollinearContoursXld (Operator)
関数名
union_collinear_contours_xldunion_collinear_contours_xldunion_collinear_contours_xldUnionCollinearContoursXldUnionCollinearContoursXld — 同一直線上の XLD オブジェクトを結合する。
書式
説明
オペレーター union_collinear_contours_xldunion_collinear_contours_xldunion_collinear_contours_xldUnionCollinearContoursXldUnionCollinearContoursXld は、同一直線状にある入力 XLD Contour 配列 (ContoursContoursContoursContourscontours) 内のすべての XLD 
Contour を統合します。すなわち、ほぼ同一直線状に展開されます。結合された XLD オブジェクトは入力 XLD オブジェクトの点の結合からなります。必要に応じて、これら入力 XLD オブジェクト点の順番を反転します。そうすることで、結合しなければなならない XLD オブジェクトの終点が、結果として生じる点のリスト内で直接隣接します。このオペレーターは、同一直線状に接続されていない XLDオブジェクト がなくなるまで繰り返し実行されます。その結果、結合によって新しく作成されたすべての XLD オブジェクトは、どんな XLD オブジェクトにも接続されなかった入力 XLD オブジェクトと同様に、UnionContoursUnionContoursUnionContoursUnionContoursunionContours に返されます。
直線のひとつが他の直線によって直線上に継続することができる場合に、
2 つの直線が同一直線であるといいます。このため、ある直線が他のものと継続していれば十分であり、両方の直線が互いに継続している必要はありません。しかしながら、ある直線が他のものより長い (2 倍の長さ) ようなとき、長いものが短いものに継続している必要があり、逆は成り立ちません。
XLDオブジェクト の端点の投影によって制限された回帰直線が同一直線であれば、
2 つの XLDオブジェクト は基本的に同一直線です。
union_collinear_contours_xldunion_collinear_contours_xldunion_collinear_contours_xldUnionCollinearContoursXldUnionCollinearContoursXld を呼び出す前に、入力 XLDオブジェクト 
が直線であることを確かめてください。閉じた XLDオブジェクト は他の XLDオブジェクト に対して同一直線とはならないことに注意してください。
パラメーター MaxDistAbsMaxDistAbsMaxDistAbsMaxDistAbsmaxDistAbs、MaxDistRelMaxDistRelMaxDistRelMaxDistRelmaxDistRel、
MaxShiftMaxShiftMaxShiftMaxShiftmaxShift、および MaxAngleMaxAngleMaxAngleMaxAnglemaxAngle は、2 つの XLD オブジェクトの同一直線性に対する条件を定義するのに使用します。最初の 3 つのパラメーターは、他の XLDオブジェクト に延長可能かを現在調査している直線に関して用いられます。MaxDistAbsMaxDistAbsMaxDistAbsMaxDistAbsmaxDistAbs は、調査する直線の回帰直線の方向において 2 つの XLDオブジェクト 間の受け入れ可能な最大の距離を指定します。これは、最初の回帰直線の XLDオブジェクト の隣り合う端点の投影の距離と等しくなります。パラメーター MaxDistRelMaxDistRelMaxDistRelMaxDistRelmaxDistRel は、調査する直線の長さに関して同じ距離をあらわします。調査した XLDオブジェクト に対して実際に適用されるしきい値は、2 つのパラメーターによって定義される最小距離となります。
パラメーター MaxShiftMaxShiftMaxShiftMaxShiftmaxShift は、調査する XLDオブジェクト の回帰直線から 2 番目の XLDオブジェクト の最大距離を定義します。すなわち、この距離は、回帰直線に垂直に計測されます。ここでの基準は、自分自身の回帰直線上の 2 番目の XLDオブジェクト の投影と他の回帰直線 (すなわち、より大きなもの) との間の距離となります。最後に、MaxAngleMaxAngleMaxAngleMaxAnglemaxAngleは、2 つの候補の回帰直線の間における角度 
(ラジアン) に対するしきい値を定義します。
2 つの XLD オブジェクトは、すべての基準(基準線を定義する 
XLD オブジェクトの 1 つに関して)が満たされていないと結合することができません。すなわち、すべての値が指定したしきい値以下でなければなりません。別の必須条件として、XLDオブジェクト は他のものと著しく重なっていてはなりません。最大 0.5 ピクセルの重なりが許容できます。重なりの許容値をより正確に調整するために、オペレーター 
union_collinear_contours_ext_xldunion_collinear_contours_ext_xldunion_collinear_contours_ext_xldUnionCollinearContoursExtXldUnionCollinearContoursExtXld が使用されます。これは、オペレーター union_collinear_contours_xldunion_collinear_contours_xldunion_collinear_contours_xldUnionCollinearContoursXldUnionCollinearContoursXld を拡張したバージョンであり、いくつかの他のパラメーターにより重なり範囲を定義することができます。
統合するために可能な候補となる XLDオブジェクト を見つけることに比べ、
XLDオブジェクト を接続するために使用する順序を決めることはこのオペレーターの振る舞いに対して重要となります。この理由は、一般に、2 つの XLDオブジェクト を接続する後に結果として得られる XLDオブジェクト の評価は以前の部分の評価とは異なるでしょう。そのため、XLDオブジェクト がひとつもしくは別のものと統合することができます。そのため、すべての接続された XLDオブジェクト のペアは、コストやすべての距離値の計算をする union_collinear_contours_xldunion_collinear_contours_xldunion_collinear_contours_xldUnionCollinearContoursXldUnionCollinearContoursXld によって評価されます。最良の評価 (最小コスト) を持つ XLDオブジェクト のペアは最初に接続されます。その後、結果として生じる XLDオブジェクト とともに、XLDオブジェクト のリストは可能性のある接続候補に対して再探索されます。新しい接続可能なペアがある場合、それらは評価され、候補のリストに入れられます。最良の評価が 2 つ (1 つ以上) のペアの候補に対して正確に同じである場合、接続の接続順序は、XLD オブジェクト配列における XLDオブジェクト の順序に依存します。ある XLDオブジェクト がいくつかのペアの一部であるような場合、2 番目の 
XLDオブジェクト の結合は最初のものによって不要となるかもしれないことに注意してください。
接続のコスト (もしくは合計距離) は、上で定義された距離から計算されます。
2 つの XLDオブジェクト の間の個々の距離がより小さいほど、コストはより小さくなります。もし、ある距離が適切なしきい値に近いとき、コスト上のその特定のパラメーターの部分は最大となります。コストを計算するための補足の条件は、2 つの XLDオブジェクト を接続する線分に依存します。この部分は、その長さ (すなわち回帰直線に垂直な部分) と同様に回帰直線に対する線分の角度に依存します。
コストを要約すれば、異なるパラメーターは指定したしきい値と重みづけにより正規化されたものです。それとは対照的に、オペレーター 
union_collinear_contours_ext_xldunion_collinear_contours_ext_xldunion_collinear_contours_ext_xldUnionCollinearContoursExtXldUnionCollinearContoursExtXld は、それぞれ個々のパラメーターを別々に制御することができます。さらに、このオペレーターは、すべての基準の制限に近い XLDオブジェクト の接続を回避するためにすべてのコストに対する制限を設定することができます。
最後に、パラメーター ModeModeModeModemode によって、入力 XLD オブジェクトに付属する属性の取り扱いを制御することも可能です。例えば、edges_sub_pixedges_sub_pixedges_sub_pixEdgesSubPixEdgesSubPix オペレーターは特定方向、エッジレスポンス、エッジ方向のようなすべての XLD オブジェクト点の属性を持ちます。初期値 'attr_keep'"attr_keep""attr_keep""attr_keep""attr_keep" を選ぶと、すべての属性が出力にコピーされ、XLD オブジェクトが他の XLD オブジェクトと接続するために反転しなければならない場合、新しい方向に適用されます。また、XLDオブジェクト を反転させなければならない場合、それらは新しい方向に適合されます。大きな入力 XLDオブジェクト の場合には、それらがさらなる計算に対して必要としない場合には、パフォーマンスの理由のために属性を無視することが賢明です。その場合、'attr_forget'"attr_forget""attr_forget""attr_forget""attr_forget" 値を渡します。
パラレル化情報
マルチスレッドタイプ: リエントラント(非排他なオペレーターと並列に動作)
マルチスレッドスコープ: グローバル(他のスレッドから呼び出される可能性あり)
並列演算処理には未対応
パラメーター
union_collinear_contours_xld [HALCON Reference Manual / Version 10.0.4]
