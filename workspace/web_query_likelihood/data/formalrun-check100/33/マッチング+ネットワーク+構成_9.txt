
CCNA試験で中核となる設問は,ルーティングとスイッチングです。ルーティングはルータの主要機能であり,インターネットワークを実現する大事な役割を持っています。ルーティングの仕組みを学習するとともに,ルーティングテーブルやスタティックルーティングを理解しましょう。
ルーティングは,日本語では経路選択と呼ばれます。インターネットワークでは複数のネットワークを経由してあて先にパケットを届けます。この際,「どのネットワークを経由していくか」ということを決定することがルーティングでです。
ルータは受け取ったパケットのあて先から,次に経由するネットワークを決定し,パケットをそのネットワークに送り出します。この際に「ネットワークを決定する」ために使用する「地図」がルーティングテーブルです。ルーティングテーブルには,あて先に到達するための最適な経路(ベストパス)が記載されています(図1)。
図1 ルーティングとルーティングテーブル
このルーティングという処理でのポイントは2つあります。1つは「ルーティングテーブルからあて先を探す」こと。もう1つは「ルーティングテーブルをどのように作成するか」という点です。
ルーティングテーブルからあて先を探す際には「最長一致(ロンゲストマッチ)」と呼ばれる法則が適用されます。あて先IPアドレスとルーティングテーブルのエントリを比べて,最も長く一致するエントリがルーティングに使用されるエントリとなります(図2)。
図2 ロンゲストマッチ
ロンゲストマッチのルールは,特に経路集約の際に重要です。経路集約については先の回で詳しく説明します。
ルーティングテーブルの作成
ルーティングテーブルはルーティングで中心的な役割を担います。ルーティングテーブルが誤っていた場合,パケットは誤まった方向へ転送されることになり,あて先へ届かなくなります。このため,ルーティングテーブルは作成される際だけでなく,その後も必ず正しい状態になっていなければなりません。
ルーティングテーブルを作成するためには,現在のネットワークの情報をルータが入手する必要があります。ルータがネットワークの情報を入手する方法としては,3種類に分けられます。
ルータ自身が接しているネットワーク ・・・ 直接接続
管理者による手入力 ・・・ スタティックルーティング
ルータ間での情報のやりとりによる入手 ・・・ ダイナミックルーティング
直接接続されたネットワークの情報は,そのルータが自動的に取得します。それ以外の離れた場所にあるネットワークの情報は,スタティックルーティングまたはダイナミックルーティングにより取得します。それぞれの利点と欠点は以下のようになります。
スタティックルーティングダイナミックルーティング
シスコ資格:CCNAへの道 - ルーティング編 ルーティングとは:ITpro
