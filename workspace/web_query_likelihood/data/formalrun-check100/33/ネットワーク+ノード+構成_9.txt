Compute Cluster Pack をヘッド ノードにインストールすると、[作業リスト (To Do List)] が表示されます。このダイアログ ボックスを使用して、クラスタを配置したネットワーク トポロジに合わせてヘッド ノードを構成できます。パブリック ネットワーク、プライベート ネットワーク、および Message Passing Interface (MPI) ネットワークのアダプタが割り当てられていない場合、警告が表示されます。
クラスタのノード間を接続するプライベート ネットワークが使用不可の場合、Windows Compute Cluster Server 2003 では既存のパブリック ネットワークにクラスタを作成することができます (トポロジ シナリオ 5)。ただし、専用のプライベート ネットワークが存在しない場合は、自動追加 (Automated Addition) 方式で計算ノードをクラスタに追加することができません。この場合、Compute Cluster Pack コンポーネントか、構成済みの計算ノードのイメージをコンピュータにインストールして、手動で計算ノードを構成する必要があります。
適切なインターフェイスを構成する前に、すべてのネットワーク アダプタに適切なネットワーク ケーブルが取り付けられていることを確認します。MPI をサポートするトポロジを使用する場合、高速のネットワーク アダプタが、適切なネットワーク ケーブルに取り付けられてることを確認します。
Windows Compute Cluster Server 2003 では、パブリック ネットワークとプライベート ネットワークの間のネットワーク アドレス変換にインターネット接続の共有 (ICS) を使用します。また、ICS によって、プライベート ネットワークに DHCP サービスが提供されます。ICS を有効にするには、Compute Cluster Pack セットアップのネットワーク トポロジ設定ウィザード (Network Topology Setup Wizard) で、[インターネット接続の共有 (ICS) を使用してネットワーク アドレス変換を構成する (Configure Network Address Translation using Internet Connection Sharing (ICS))] を選択します。
Compute Cluster Pack のインストール中に、[インターネット接続の共有 (ICS) を使用してネットワーク アドレス変換を構成する (Configure Network Address Translation using Internet Connection Sharing (ICS))] を選択した場合、ヘッド ノードのプライベート インターフェイスには静的 IP アドレスが割り当てられます。このアドレスは 192.168.0.1、サブネット マスクは 255.255.255.0 です。
ネットワーク アドレス変換 (NAT) サービスと DHCP サービスを使用するために ICS を使用する場合、ヘッド ノードのプライベート ネットワーク インターフェイスの IP アドレスを変更しないでください。変更すると、ICS が失敗します。
ヘッド ノードのネットワーク アダプタを構成するには
計算クラスタ アドミニストレータ (Compute Cluster Administrator) の [作業リスト (To Do List)] の [ネットワーク (Networking)] ペインで、[クラスタ ネットワーク トポロジの構成 (ウィザード) (Configure Cluster Network Topology (wizard))] をクリックします。
ウィザードの [開始する前に (Before You Begin)] ページで、これから実行するタスクを確認し、[次へ (Next)] をクリックします。
[セットアップの種類の選択 (Select Setup Type)] ページで、実装する計算クラスタ ネットワークのトポロジを選択し、[次へ (Next)] をクリックします。サポートされるトポロジの説明については、「計算クラスタのネットワーク要件」を参照してください。
[パブリック ネットワークの構成 (Configure Public Network)] ページの [パブリック ネットワーク アダプタ (Public Network Adaptor)] ボックスの一覧で、パブリック ネットワークへの接続に適したネットワーク アダプタをクリックします。表示されたそのインターフェイスのプロパティを確認します。正しければ、[次へ (Next)] をクリックします。
[プライベート ネットワークの構成 (Configure Private Network)] ページの [プライベート ネットワーク アダプタ (Private Network Adaptor)] ボックスの一覧で、プライベート ネットワークに接続するためのネットワーク アダプタをクリックします。これは、クラスタ ノードの管理と展開トラフィックに使用するクラスタ間ネットワークです。
プライベート ネットワークがない場合は、[プライベート ネットワークはない (I do not have a private network)] をクリックします。[次へ (Next)] をクリックします。
[MPI ネットワークの構成 (Configure MPI Network)] ページで、MPI ネットワークに使用するネットワーク アダプタをクリックします。
MPI ネットワークがない場合は、[アプリケーション ネットワークはない (I do not have a application network)] をクリックし、[次へ (Next)] をクリックします。
ヘッド ノードに ICS NAT をセットアップする場合は、ウィザードの [インターネット接続の共有 (ICS) を使用したネットワーク アドレス変換 (NAT) の有効化 (Enable Network Address Translation (NAT) using Internet Connection Sharing (ICS))] ページで、[このクラスタではインターネット接続の共有を有効にする (Enable Internet Connection Sharing for this cluster)] を選択します。ICS NAT を有効にすると、クラスタの計算ノードからパブリック ネットワークのリソースにアクセスできます。有効にしない場合は、[このクラスタではインターネット接続の共有を無効にする (Disable Internet Connection Sharing for this cluster)] を選択します。[次へ (Next)] をクリックします。
[概要の表示 (View Summary)] ページに表示されたネットワーク構成を確認します。表示された構成で問題ない場合は、[完了 (Finish)] をクリックします。構成を変更する場合は、[前へ (Previous)] をクリックして、該当ウィザードのページを表示します。変更が必要な情報を修正したら、[次へ (Next)] をクリックして、[概要の表示 (View Summary)] ページに戻り、[完了 (Finish)] をクリックします。
ネットワーク アダプタが構成されている間は、[進行状況 (Progress)] ページが表示されます。[結果 (Result)] ページが表示されたら、[完了 (Finish)] をクリックします。
ネットワーク アダプタの構成中にエラーが発生した場合は、[ウィザードを完了できませんでした (Wizard Not Completed)] ページが表示されます。表示された情報を印刷、電子メールで送信、または保存し、エラーの原因となった状態を修正します。その後、ネットワーク構成ウィザード (Network Configuration Wizard) を再度実行します。
プライベート ネットワークを構成してクラスタをインストールし、ヘッド ノードに追加のディスク ボリュームを作成している場合で、自動追加 (Automated Addition) 方式を使用して計算ノードをクラスタに追加する場合は、続いて RIS をインストールし、RIS イメージを追加します。計算ノードをクラスタに追加し、クラスタの管理者とユーザーを定義して、ヘッド ノードの構成を完了します。
計算ノードのクラスタへの追加に自動追加 (Automated Addition) 方式を使用しない場合は、RIS のインストールや構成は必要ありません。計算ノードをクラスタに手動で (またはなんらかのツールで) 追加して、ヘッド ノードの構成を完了し、クラスタの管理者とユーザーを定義します。
ヘッド ノードでのネットワーク アダプタの構成
