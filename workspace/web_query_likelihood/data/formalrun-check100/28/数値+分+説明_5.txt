
数値地図25000(地図画像)データファイル仕様説明書
1.数値地図25000(地図画像)の概要
1)「数値地図25000(地図画像)」のCD−ROMには、縮尺2万5千分1地形図を1図葉づつ画像データとして数値化(数値化は1画素100μmで行っています)してできたファイルから構成されています。以下、このファイルを図葉ファイルといいます。
2)図葉ファイルは、8つのレイヤー(地図の黒い線、黒い面、茶色の線、茶色の面等々に相当;図葉ファイルフォーマット参照)に分かれており、それぞれのレイヤーが各1ビット、全体では、1画素1バイトで表現されています。
3)図葉ファイルは、一般的な画像フォーマットであるTIFF形式のラスターデータですので、誰でも容易に扱えます。例えば、普通の画像を取り扱うソフトにより、画像の切り出し、ワープロ文書への貼り付け等が行えます。但し、図葉ファイルのサイズは、展開すると(例外的な場合を除き)16〜20Mバイトとなり、ソフトによっては扱えない場合があります。
4)1枚のCD-ROMには、1次メッシュ1区画(20万分1地勢図の範囲に相当)の図葉ファイル、つまり、海部が無い場合には2万5千分1地形図64面のデータが入っています。また、複数の1次メッシュ区画のデータが入っている場合があります。
5)平成17年以降に刊行される数値地図25000(地図画像)CD−ROMには、「平成14年1:25,000地形図図式」により作成された新しい図郭の地形図(以下、「新図郭地形図」という。)の場合、新図郭地形図のデータを格納し、それ以外の図式により作成された地形図(以下、「旧図郭地形図」という。)は旧図郭地形図のデータを格納しています。
6)新図郭地形図では、分図・延伸分図の計測を可能としました。
2.ファイル構成
1)新・旧図郭地形図が混在する「数値地図25000(地図画像)」(CD−ROM)のファイル構成は、次のようになっています。
\−+−  SETUP.EXE(インストーラー)
｜   SETUPINF.HTM(インストール説明書ファイル)
｜
+− MAPDSP3−− MAPDSP3.EXE   (数値地図(地図画像)表示ソフト3.2)
｜    ｜        MANUAL.HTM   (数値地図(地図画像)表示ソフト3.2操作説明書)
｜    ｜        SUB1.HTM等   (数値地図(地図画像)表示ソフト3.2オンラインヘルプ関連ファイル)
｜    ｜        UNINST.EXE   (数値地図(地図画像)アンインストーラー起動プログラム)
｜    ｜        UNJOB.EXE   (数値地図(地図画像)アンインストーラー本体)
｜    ｜        UNINSINF.HTM  (数値地図(地図画像)アンインストーラー操作説明書)
｜    ｜        KANRCONV.EXE  (管理ファイル変換ソフト)
｜    ｜        KCONVINF.HTM  (管理ファイル変換ソフト操作説明書)
｜    ｜        README.HTM   (数値地図(地図画像)データファイル仕様説明書)
｜    ｜        READ25.HTM   (数値地図25000(地図画像)データファイル仕様説明書)
｜    ｜        READ50.HTM   (数値地図50000(地図画像)データファイル仕様説明書)
｜    ｜        READ200.HTM  (数値地図200000(地図画像)データファイル仕様説明書)
｜    ｜        その他 (表示ソフト関連ファイル)
｜    ｜
｜    +−− TBL −− 25_2000.PRM  (数値地図25000(地図画像)座標変換用図葉代表パラメータファイル
｜    ｜           50_2000.PRM  (数値地図50000(地図画像)座標変換用図葉代表パラメータファイル)
｜    ｜           200_2000.PRM (数値地図200000(地図画像)座標変換用図葉代表パラメータファイル)
｜    ｜           MAPDSP.INI   (説明文・参照ファイル名データ)
｜    ｜           ALL.IND     (都道府県境界線インデックスデータ)
｜    ｜           ALL.POL    (都道府県境界線ポリゴンデータ)
｜    ｜           HOPPOU.DAT    (北方四島境界線データ)
｜    ｜           DEFCOL.DAT  (数値地図25000(地図画像)用デフォルト色設定ファイル)
｜    ｜           DEFCOL5.DAT  (数値地図50000(地図画像)用デフォルト色設定ファイル)
｜    ｜           DEFCOL20.DAT  (数値地図200000(地図画像)用デフォルト色設定ファイル)
｜    ｜           FONT.TXT    (文字フォント定義ファイル)
｜    ｜           FONT01.TXT    (文字フォント定義ファイル)
｜    ｜           SCALE.DAT    (BMPファイル出力用のスケールデータ)
｜    ｜           SELCOL.DAT    (地図選択画面の色設定ファイル)
｜    ｜           SUJI.DAT    (BMPファイル出力用の数字フォントデータ)
｜    ｜
｜    +−− HTM −− *.GIF、*.JPG
(HTML形式ファイルで使用する画像ファイル)
｜
+− DATA −−−−  KANRI2KT.CSV    (新図郭地形図および旧図郭地形図の統合管理ファイル)
｜          KANRI2KW.CSV  (新図郭地形図の管理ファイル)
｜          KANRI2KN.CSV   (旧図郭地形図の管理ファイル)
｜          I NDEX.CSV 
(索引図ファイル)
｜          NEW_HANREI.TIF 
(新図郭地形図の凡例ファイル)
｜          OLD_HANREI.TIF 
(旧図郭地形図の凡例ファイル)
｜
+−− 1次メッシュ番号 −−− ******.TIF
(図葉ファイル)
・             ・
・             ・
・             ・
2)世界測地系対応版「数値地図25000(地図画像)」(CD−ROM)のファイル構成は、次のようになっています。
\−+−  SETUP.EXE(インストーラー)
｜   SETUPINF.HTM(インストール説明書ファイル)
｜
+− MAPDSP3−−  MAPDSP3.EXE   (数値地図(地図画像)表示ソフト3.1)
｜    ｜         MANUAL.HTM   (数値地図(地図画像)表示ソフト3.1操作説明書)
｜    ｜        SUB1.HTM等   (数値地図(地図画像)表示ソフト3.1オンラインヘルプ関連ファイル)
｜    ｜        UNINST.EXE   (数値地図(地図画像)アンインストーラー起動プログラム)
｜    ｜        UNJOB.EXE   (数値地図(地図画像)アンインストーラー本体)
｜    ｜        UNINSINF.HTM  (数値地図(地図画像)アンインストーラー操作説明書)
｜    ｜        KANRCONV.EXE  (管理ファイル変換ソフト)
｜    ｜          KCONVINF.HTM  (管理ファイル変換ソフト操作説明書)
｜    ｜        README.HTM   (数値地図(地図画像)データファイル仕様説明書)
｜    ｜        READ25.HTM   (数値地図25000(地図画像)データファイル仕様説明書)
｜    ｜        READ50.HTM   (数値地図50000(地図画像)データファイル仕様説明書)
｜    ｜        READ200.HTM  (数値地図200000(地図画像)データファイル仕様説明書)
｜    ｜        その他 (表示ソフト関連ファイル)
｜    ｜
｜    +−− TBL −− 25_2000.PRM  (数値地図25000(地図画像)座標変換用図葉代表パラメータファイル
｜    ｜           50_2000.PRM  (数値地図50000(地図画像)座標変換用図葉代表パラメータファイル)
｜    ｜           200_2000.PRM (数値地図200000(地図画像)座標変換用図葉代表パラメータファイル)
｜    ｜           MAPDSP.INI   (説明文・参照ファイル名データ)
｜    ｜           ALL.IND     (都道府県境界線インデックスデータ)
｜    ｜           ALL.POL    (都道府県境界線ポリゴンデータ)
｜    ｜           HOPPOU.DAT  (北方四島境界線データ)
｜    ｜           DEFCOL.DAT  (数値地図25000(地図画像)用デフォルト色設定ファイル)
｜    ｜           DEFCOL5.DAT  (数値地図50000(地図画像)用デフォルト色設定ファイル)
｜    ｜           DEFCOL20.DAT (数値地図200000(地図画像)用デフォルト色設定ファイル)
｜    ｜           FONT.TXT   (文字フォント定義ファイル)
｜    ｜           FONT01.TXT  (文字フォント定義ファイル)
｜    ｜           SCALE.DAT   (BMPファイル出力用のスケールデータ)
｜    ｜           SELCOL.DAT    (地図選択画面の色設定ファイル)
｜    ｜           SUJI.DAT    (BMPファイル出力用の数字フォントデータ)
｜    ｜
｜    +−− HTM −− *.GIF、*.JPG
(HTML形式ファイルで使用する画像ファイル)
｜
+− DATA −−−− KANRI2K.CSV (世界測地系による管理ファイル)
｜          KANRI.CSV   (日本測地系による管理ファイル)
｜          I NDEX.CSV   (索引図ファイル)
｜          MAGDEF.CSV   (磁針方位ファイル)
｜          HANREI.TIF   (凡例ファイル)
｜
+−− 1次メッシュ番号 −−− ******.TIF
(図葉ファイル)
・             ・
・             ・
・             ・
3.図葉ファイルフォーマット
(1)概要
1)2万5千分1地形図1面が図葉ファイルとして1つのTIFFファイルとなっています。
2)画像データは、図郭左上隅から左方に9.0 mmおよび上方に7.5mmの地点と図郭右下隅から右方および下方に9.0
mmの地点を結ぶ線を対角線とし、上辺と平行な辺を含む長方形となっています。ただし、延伸図の場合は、図を含む範囲を適宜設定しています。したがって、地形図の上辺は、TIFFファイル内の画像データのピクセル方向と一致しています。
(2)TIFFファイルの構造
1)図葉ファイルは、PackBits圧縮されたTIFF(Revision5.0以上)ファイルです。
2)1ピクセル8ビットで表現されたカラーパレット画像であり、各ビットが2万5千分1地形図の各版(通常は、全部で8版)に対応しています。各ピクセルにおいて、その版に画線があれば1、なければ0となっています。版とビット位置の関係は、次のようになっています。
版とビット位置、表示色の関係
ビット版名既定の表示色
数値地図25000(地図画像)データファイル仕様説明書
